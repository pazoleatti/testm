(function(f){var a,e,c=function(h,g){this.init("tooltip",h,g)},d=function(h,g){this.init("popover",h,g)};function b(j,g,l){var h,k,i;h=j[0].offsetWidth;k=j[0].offsetHeight;switch(g){case"bottom":i={top:l.top+l.height,left:l.left+l.width/2-h/2};break;case"top":i={top:l.top-k,left:l.left+l.width/2-h/2};break;case"left":i={top:l.top+l.height/2-k/2,left:l.left-h};break;case"right":i={top:l.top+l.height/2-k/2,left:l.left+l.width};break;case"bottom-left":i={top:l.top+l.height+10,left:l.left};if(this.$element.outerWidth()<=18){i.left-=4}break;case"bottom-right":i={top:l.top+l.height+10,left:l.left+l.width-h};if(this.$element.outerWidth()<=18){i.left+=4}break;case"top-left":i={top:l.top-k-10,left:l.left};if(this.$element.outerWidth()<=18){i.left-=4}break;case"top-right":i={top:l.top-k-10,left:l.left+l.width-h};if(this.$element.outerWidth()<=18){i.left+=4}break}return i}c.prototype=f.extend({},f.fn.tooltip.Constructor.prototype,{constructor:c,show:function(){var j,k,g,i,h=f.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(h);if(h.isDefaultPrevented()){return}j=this.tip();this.setContent();if(this.options.animation){j.addClass("fade")}g=typeof this.options.placement==="function"?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement;j.detach().css({top:0,left:0,display:"block"});if(this.options.container){j.appendTo(this.options.container)}else{j.insertAfter(this.$element)}k=this.getPosition();i=b.call(this,j,g,k);this.applyPlacement(i,g);if(this.options.moveArrow){this.moveArrow()}this.$element.trigger("shown")}},moveArrow:function(){var i=this.options.placement,h=this.$element,j=f(this.options.template),g=this.tip().find(".tooltip-arrow, .arrow"),l=parseInt(g.css("width"),10),k=(h.outerWidth()/2)-(l/2);switch(i){case"bottom-left":g.css("left",k);break;case"bottom-right":g.css("right",k);break;case"top-left":g.css("left",k);break;case"top-right":g.css("right",k);break;case"right":g.css("right",k);break}},updatePosition:function(){var g,j,i;if(this.hasContent()&&this.enabled){var h=this.tip();j=this.getPositionOnly();g=typeof this.options.placement==="function"?this.options.placement.call(this,h[0],this.$element[0]):this.options.placement;i=b.call(this,h,g,j);h.offset(i)}}});a=f.fn.tooltip;f.fn.tooltip=function(g){return this.each(function(){var j=f(this),i=j.data("tooltip"),h=typeof g==="object"&&g;if(!i){j.data("tooltip",(i=new c(this,h)))}if(typeof g==="string"){i[g]()}})};f.fn.tooltip.Constructor=c;f.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};f.fn.tooltip.noConflict=function(){f.fn.tooltip=a;return this};d.prototype=f.extend({},f.fn.tooltip.Constructor.prototype,{constructor:d,setContent:function(){var i=this.tip(),h=this.getTitle(),g=this.getContent();i.find(".popover-title")[this.options.html?"html":"text"](h);i.find(".popover-content")[this.options.html?"html":"text"](g);i.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var h,g=this.$element,i=this.options;h=(typeof i.content=="function"?i.content.call(g[0]):i.content)||g.attr("data-content");return h},tip:function(){if(!this.$tip){this.$tip=f(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});e=f.fn.popover;f.fn.popover=function(g){return this.each(function(){var j=f(this),i=j.data("popover"),h=typeof g==="object"&&g;if(!i){j.data("popover",(i=new d(this,h)))}if(typeof g==="string"){i[g]()}})};f.fn.popover.Constructor=d;f.fn.popover.defaults=f.extend({},f.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});f.fn.popover.noConflict=function(){f.fn.popover=e;return this}})(window.jQuery);