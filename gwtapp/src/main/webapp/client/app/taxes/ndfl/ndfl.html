<div id="ndfl" style="height: 100%;">
    <!--Заголовок-->
    <div class="row" style="min-width: 1400px;">
        <div class="header-col" style="margin-left: 15px;">
            <h1><a href="{{'Main.jsp' + gwtMode + '#!declarationList;nType=NDFL'}}">{{::'menu.taxes.ndfl' |
                translate}}:</a> - {{::'header.ndfl.forms' | translate}}:</h1>
        </div>
        <div class="header-col w200" style="float: right; margin-top: 20px;">
            <label class="w200"><a href="#">{{::'link.ndfl.reporting' | translate}}</a></label>
        </div>
    </div>
    <div class="grid-filter" style="min-width: 1400px;">
        <div data-aplana-collapse data-is-collapsed="false" data-label="'infoPanelLabel' | translate">
            <!--Основная информация-->
            <div class="header-details">
                <div class="row">
                    <div class="header-col w400">
                        <div>
                            <label class="w100">{{::'title.department' | translate}}:</label>
                            <label class="font-normal">{{department}}</label>
                        </div>
                        <div>
                            <label class="w100">{{::'title.formNumber' | translate}}:</label>
                            <label class="font-normal">{{formNumber}}</label>
                        </div>
                        <div>
                            <label class="w100">{{::'title.creator' | translate}}:</label>
                            <label class="font-normal">{{creator}}</label>
                        </div>
                    </div>
                    <div class="header-col w300">
                        <div>
                            <label>{{::'title.formType' | translate}}:</label>
                            <label class="font-normal">{{formType}}</label>
                        </div>
                        <div>
                            <label>{{::'title.period' | translate}}:</label>
                            <label class="font-normal">{{period}}</label>
                        </div>
                        <div>
                            <label>{{::'title.state' | translate}}:</label>
                            <label class="font-normal">{{state}}</label>
                        </div>
                    </div>
                    <div class="header-col w350">
                        <div>
                            <label>{{::'title.nameAsnu' | translate}}:</label>
                            <label class="font-normal">{{nameAsnu}}</label>
                        </div>
                        <div>
                            <label>{{::'title.dateAndTimeCreate' | translate}}:</label>
                            <label class="font-normal">{{dateAndTimeCreate}}</label>
                        </div>
                    </div>
                    <div class="header-col w200" style="float: right;">
                        <div>
                            <label class="w200"><a href="#">{{::'link.ndfl.historyOfChange' | translate}}</a></label>
                        </div>
                        <div>
                            <label class="w200"><a href="#">{{::'link.ndfl.filesAndComment' | translate}}</a></label>
                        </div>
                        <div>
                            <label class="w200"><a href="#">{{::'link.ndfl.sources' | translate}}</a></label>
                        </div>
                    </div>
                </div>
            </div>
            <!--Панель кнопок -->
            <div class="button_panel">
                <div class="btn-toolbar" role="toolbar">
                    <!--Рассчитать -->
                    <span>
                        <button type="button" class="btn btn-danger" data-ng-disabled="!calculateButtonEnabled"
                                data-ng-click="calculateButtonClick()">
                            <span data-translate-once="button.calculate"></span>
                        </button>
                    </span>
                    <!--Принять -->
                    <span>
                        <button type="button" class="btn btn-danger" data-ng-disabled="!acceptButtonEnabled"
                                data-ng-click="acceptButtonClick()">
                            <span data-translate-once="button.accept"></span>
                        </button>
                    </span>
                    <!--Проверить -->
                    <span>
                        <button type="button" class="btn btn-danger" data-ng-disabled="!checkButtonEnabled"
                                data-ng-click="checkButtonClick()">
                            <span data-translate-once="button.check"></span>
                        </button>
                    </span>
                    <!--Вернуть в Создана -->
                    <span>
                        <button type="button" class="btn btn-danger" data-ng-disabled="!returnButtonEnabled"
                                data-ng-click="returnButtonClick()">
                            <span data-translate-once="button.return"></span>
                        </button>
                    </span>
                    <!--Удалить-->
                    <span>
                        <button type="button" class="btn btn-danger" data-ng-disabled="!deleteButtonEnabled"
                                data-ng-click="deleteRecordClick()">
                            <span data-translate-once="button.delete"></span>
                        </button>
                    </span>
                </div>
            </div>
            <hr/>
        </div>
    </div>

    <uib-tabset active="activeForm" class="form100" style="height:66%;">
        <uib-tab index="0" heading="1. {{::'tab.ndfl.requisites' | translate}}" select="selectTab('requisites')">
            <div data-ng-controller="ndflFLCtrl">
                <div class="container-grid" style="height: 100%">
                    <div class='container-grid-top'>
                        <span data-ng-include="'client/app/taxes/ndfl/ndflFLFilter.html'"></span>
                        <div>
                            <a class="aplanaLink" data-aplana-link-click="showToDoDialog()"
                               data-aplana-link="'title.updateFLData' | translate">
                            </a>
                        </div>
                        <div data-aplana-grid
                             data-grid-fill-space="true"
                             data-grid-fill-space-container-selector=".form100"
                             data-grid-fill-space-container-selector-top=".container-grid-top"
                             data-grid-options="ndflPersonGrid.options"
                             data-grid-ctrl="ndflPersonGrid.ctrl"
                             data-ng-model="ndflPersonGrid.value"
                             id="ndflPersonTable"
                             style="float: left; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </uib-tab>

        <uib-tab index="1" heading="2. {{::'tab.ndfl.informationOnIncomesAndNdfl' | translate}}"
                 select="selectTab('incomesAndTax')">
            <div data-ng-controller="incomesAndTaxCtrl">
                <div class="container-grid" style="height: 100%">
                    <div class='container-grid-top'>
                        <span data-ng-include="'client/app/taxes/ndfl/incomesAndTaxFilter.html'"></span>
                        <div class="row" style="margin: 0;">
                            <a class="aplanaLink" data-aplana-link-click="showToDoDialog()"
                               data-aplana-link="'title.fillTransferTerm' | translate">
                            </a>
                            <a class="aplanaLink" data-aplana-link-click="showToDoDialog()" style="margin: 0 0 0 10px"
                               data-aplana-link="'title.fillIncomeAttr' | translate">
                            </a>
                        </div>
                        <div data-aplana-grid
                             data-grid-fill-space="true"
                             data-grid-fill-space-container-selector=".form100"
                             data-grid-fill-space-container-selector-top=".container-grid-top"
                             data-grid-options="incomesAndTaxGrid.options"
                             data-grid-ctrl="incomesAndTaxGrid.ctrl"
                             data-ng-model="incomesAndTaxGrid.value"
                             id="incomesAndTaxTable"></div>
                    </div>
                </div>
            </div>
        </uib-tab>

        <uib-tab index="2" heading="3. {{::'tab.ndfl.informationOnDeductions' | translate}}"
                 select="selectTab('deductions')">
            <div data-ng-controller="deductionCtrl">
                <div class="container-grid" style="height: 100%">
                    <div class='container-grid-top'>
                        <span data-ng-include="'client/app/taxes/ndfl/deductionFilter.html'"></span>
                        <div data-aplana-grid
                             data-grid-fill-space="true"
                             data-grid-fill-space-container-selector=".form100"
                             data-grid-fill-space-container-selector-top=".container-grid-top"
                             data-grid-options="deductionGrid.options"
                             data-grid-ctrl="deductionGrid.ctrl"
                             data-ng-model="deductionGrid.value"
                             id="deductionTable"></div>
                    </div>
                </div>
            </div>
        </uib-tab>

        <uib-tab index="3" heading="4. {{::'tab.ndfl.informationOnAdvancePayments' | translate}}"
                 select="selectTab('advancePayments')">
            <div data-ng-controller="prepaymentCtrl">
                <div class="container-grid" style="height: 100%">
                    <div class='container-grid-top'>
                        <span data-ng-include="'client/app/taxes/ndfl/prepaymentFilter.html'"></span>
                        <div data-aplana-grid
                             data-grid-fill-space="true"
                             data-grid-fill-space-container-selector=".form100"
                             data-grid-fill-space-container-selector-top=".container-grid-top"
                             data-grid-options="prepaymentGrid.options"
                             data-grid-ctrl="prepaymentGrid.ctrl"
                             data-ng-model="prepaymentGrid.value"
                             id="prepaymentTable"></div>
                    </div>
                </div>
            </div>
        </uib-tab>

    </uib-tabset>
</div>
