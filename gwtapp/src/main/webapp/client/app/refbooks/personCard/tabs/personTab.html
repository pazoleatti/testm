<form data-ng-controller="regPersonCtrl">
    <div>
        <div class="tab-block-title" style="margin-top: 20px; margin-bottom: 10px;">{{::'refBook.fl.card.label.person' |
            translate}}
        </div>
        <div class="row-fluid">
            <div class="span6">
                <div class="row-fluid form-group-view">
                    <span class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.personId' | translate}}</span>
                    <span class="span8 person-card-data">{{person.recordId}}</span>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.lastName' |
                        translate}}
                    </div>
                    <div class="span8 person-card-data" data-ng-if="mode == 'VIEW'">{{person.lastName}}</div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT'">
                        <div data-aplana-field>
                            <input data-ng-model="person.lastName"
                                   type="text" style="min-width: 370px"/>
                        </div>
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <span class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.firstName' | translate}}</span>
                    <span class="span8 person-card-data"
                          data-ng-if="mode == 'VIEW'">{{person.firstName}}</span>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT'">
                        <div data-aplana-field>
                            <input data-ng-model="person.firstName"
                                   type="text" style="min-width: 370px"/>
                        </div>
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <span class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.middleName' | translate}}</span>
                    <span class="span8 person-card-data"
                          data-ng-if="mode == 'VIEW'">{{person.middleName}}</span>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT'">
                        <div data-aplana-field>
                            <input data-ng-model="person.middleName"
                                   type="text" style="min-width: 370px"/>
                        </div>
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.birthDate' | translate}}
                    </div>
                    <div class="span8 person-card-data"
                         data-ng-if="mode == 'VIEW'">{{person.birthDate | dateFormatter}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT'" style="width: 120px">
                        <div data-aplana-field>
                            <div data-aplana-datepicker
                                 data-ng-model="person.birthDate">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.reportDoc' | translate}}
                    </div>
                    <div class="span8 person-card-data" data-ng-if="mode == 'VIEW' && person.reportDoc.permission">
                        {{person.reportDoc.value ? (person.reportDoc.value |
                        idDocFormatter) : ""}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.reportDoc.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8" data-ng-controller="SelectRegistryPersonController"
                         data-ng-if="mode == 'EDIT' && person.reportDoc.permission"
                         data-ui-select2="selectedDocs.options"
                         data-ng-init="initIdDocs(person)"
                         data-ng-model="person.reportDoc.value">
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.taxPayerState' |
                        translate}}
                    </div>
                    <div class="span8 person-card-data" data-ng-if="mode == 'VIEW' && person.taxPayerState.permission">
                        {{person.taxPayerState.value ? (person.taxPayerState.value |
                        taxPayerStateFormatter) : ""}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.taxPayerState.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8" data-ng-controller="SelectRegistryPersonController"
                         data-ng-if="mode == 'EDIT' && person.taxPayerState.permission"
                         data-ui-select2="taxPayerStateSelected.options"
                         data-ng-model="person.taxPayerState.value"
                         data-ng-init="initTaxPayerState(person)">
                    </div>

                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.source' | translate}}
                    </div>
                    <div class="span8 person-card-data" data-ng-if="mode == 'VIEW'">{{person.source ? (person.source |
                        asnuFormatter) : ""}}
                    </div>
                    <div class="span8" data-ng-controller="SelectRegistryPersonController" data-ng-if="mode == 'EDIT'"
                         data-ui-select2="asnuSelect.options"
                         data-ng-model="person.source"
                         data-ng-init="initAsnu(person)">
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.vip' | translate}}</div>
                    <div class="span8 person-card-data" data-ng-if="mode == 'VIEW'">{{person.vip | vipFormatter}}</div>
                    <div class="span8" data-ng-controller="SelectRegistryPersonController" data-ng-if="mode == 'EDIT'"
                         data-ui-select2="vipSelect.options"
                         data-ng-model="person.vipSelect"
                         data-ng-init="initVip(person)">
                    </div>
                </div>
            </div>

            <div class="span6">
                <div class="row-fluid form-group-view">
                    <span class="span4" style="text-align: right">{{::'refBook.fl.card.label.oldId' | translate}}</span>
                    <span class="span8 person-card-data">{{person.oldId}}</span>
                </div>
                <div class="row-fluid form-group-view">
                    <span class="span4"
                          style="text-align: right">{{::'refBook.fl.card.label.citizenship' | translate}}</span>
                    <span class="span8 person-card-data" data-ng-if="mode == 'VIEW'">{{person.citizenship.value ? (person.citizenship.value | countryFormatter) : " "}}</span>
                    <div class="span8" data-ng-controller="SelectRegistryPersonController" data-ng-if="mode == 'EDIT'"
                         data-ui-select2="citizenshipSelected.options"
                         data-ng-model="person.citizenship.value"
                         data-ng-init="initCitizenship(person)"
                         aplana-input-outer-width="400">
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4" style="text-align: right" >{{::'refBook.fl.card.label.inn' | translate}}</div>
                    <div class="span8 person-card-data" data-ng-if="mode == 'VIEW' && person.inn.permission" >
                        {{person.inn.value}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.inn.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.inn.permission">
                        <div data-aplana-field>
                            <input data-ng-model="person.inn.value"
                                   type="text"
                                   style="width: 390px"/>
                        </div>
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4"
                         style="text-align: right">{{::'refBook.fl.card.label.innForeign' | translate}}
                    </div>
                    <div class="span8 person-card-data"
                         data-ng-if="mode == 'VIEW' && person.innForeign.permission">{{person.innForeign.value}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.innForeign.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.innForeign.permission" >
                        <div data-aplana-field>
                            <input data-ng-model="person.innForeign.value"
                                   type="text"
                                   style="width: 390px"/>
                        </div>
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4" style="text-align: right">{{::'refBook.fl.card.label.snils' | translate}}</div>
                    <div class="span8 person-card-data" data-ng-if="mode == 'VIEW' && person.snils.permission">
                        {{person.snils.value}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.snils.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.snils.permission" style="min-width: 370px">
                        <div data-aplana-field>
                            <input data-ng-model="person.snils.value"
                                   type="text" style="width: 390px"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-block-title" style="margin-top: 20px; margin-bottom: 10px;">{{::'refBook.fl.card.label.address'
            |
            translate}}
        </div>
        <div class="row-fluid">
            <div class="span3">
                <div class="row-fluid form-group-view">
                    <div class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.region' | translate}}
                    </div>
                    <div class="span4 person-card-data"
                         data-ng-if="mode == 'VIEW' && person.address.permission">
                        {{person.address.value.REGION_CODE.value}}
                    </div>
                    <div class="span4" style="font-style: italic" data-ng-if="!person.address.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span4 field-wrapper" data-ng-if="mode == 'EDIT' && person.address.permission">
                        <div data-aplana-field>
                            <input data-ng-model="person.address.value.REGION_CODE.value"
                                   type="text"
                                   style="width: 90px"/>
                        </div>
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.postalCode' |
                        translate}}
                    </div>
                    <div class="span4 person-card-data"
                         data-ng-if="mode == 'VIEW' && person.address.permission">
                        {{person.address.value.POSTAL_CODE.value}}
                    </div>
                    <div class="span4" style="font-style: italic" data-ng-if="!person.address.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span4 field-wrapper" data-ng-if="mode == 'EDIT' && person.address.permission">
                        <div data-aplana-field>
                            <input data-ng-model="person.address.value.POSTAL_CODE.value"
                                   type="text"
                                   style="width: 90px"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="span2">
                <div class="row-fluid form-group-view">
                    <div class="span4" style="text-align: right">{{::'refBook.fl.card.label.district' | translate}}
                    </div>
                    <div class="span8 person-card-data"
                         data-ng-if="mode == 'VIEW' && person.address.permission">
                        {{person.address.value.DISTRICT.value}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.address.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.address.permission">
                        <div data-aplana-field>
                            <input data-ng-model="person.address.value.DISTRICT.value"
                                   type="text"
                                   style="width: 90px"/>
                        </div>
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4" style="text-align: right">{{::'refBook.fl.card.label.city' | translate}}</div>
                    <div class="span8 person-card-data"
                         data-ng-if="mode == 'VIEW' && person.address.permission">{{person.address.value.CITY.value}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.address.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.address.permission">
                        <div data-aplana-field>
                            <input data-ng-model="person.address.value.CITY.value"
                                   type="text"
                                   style="width: 90px"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="span2">
                <div class="row-fluid form-group-view">
                    <div class="span4" style="text-align: right">{{::'refBook.fl.card.label.locality' | translate}}
                    </div>
                    <div class="span8 person-card-data"
                         data-ng-if="mode == 'VIEW' && person.address.permission">
                        {{person.address.value.LOCALITY.value}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.address.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.address.permission">
                        <div data-aplana-field>
                            <input data-ng-model="person.address.value.LOCALITY.value"
                                   type="text"
                                   style="width: 90px"/>
                        </div>
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4" style="text-align: right">{{::'refBook.fl.card.label.street' | translate}}</div>
                    <div class="span8 person-card-data" data-ng-if="mode == 'VIEW' && person.address.permission">
                        {{person.address.value.STREET.value}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.address.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.address.permission">
                        <div data-aplana-field>
                            <input data-ng-model="person.address.value.STREET.value"
                                   type="text"
                                   style="width: 90px"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="span2">
                <div class="row-fluid form-group-view">
                    <div class="span4" style="text-align: right">{{::'refBook.fl.card.label.house' | translate}}</div>
                    <div class="span8 person-card-data"
                         data-ng-if="mode == 'VIEW' && person.address.permission">{{person.address.value.HOUSE.value}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.address.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.address.permission">
                        <div data-aplana-field>
                            <input data-ng-model="person.address.value.HOUSE.value"
                                   type="text"
                                   style="width: 90px"/>
                        </div>
                    </div>
                </div>
                <div class="row-fluid form-group-view">
                    <div class="span4" style="text-align: right">{{::'refBook.fl.card.label.apartment' | translate}}
                    </div>
                    <div class="span8 person-card-data" data-ng-if="mode == 'VIEW' && person.address.permission">
                        {{person.address.value.APPARTMENT.value}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.address.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.address.permission">
                        <div data-aplana-field>
                            <input data-ng-model="person.address.value.APPARTMENT.value"
                                   type="text"
                                   style="width: 90px"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="span3">
                <div class="row-fluid form-group-view">
                    <div class="span4" style="text-align: right">{{::'refBook.fl.card.label.building' | translate}}
                    </div>
                    <div class="span8 person-card-data"
                         data-ng-if="mode == 'VIEW' && person.address.permission">
                        {{person.address.value.BUILD.value}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.address.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.address.permission">
                        <div data-aplana-field>
                            <input data-ng-model="person.address.value.BUILD.value"
                                   type="text"
                                   style="width: 90px"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-block-title" style="margin-top: 20px; margin-bottom: 10px;">
            {{::'refBook.fl.card.label.addressForeign' |
            translate}}
        </div>
        <div class="row-fluid">
            <div class="span12">
                <div class="row-fluid form-group-view">
                    <div class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.residenceCountry' |
                        translate}}
                    </div>
                    <div class="span8 person-card-data"
                         data-ng-if="mode == 'VIEW' && person.address.permission">
                        {{person.address.value.COUNTRY_ID.referenceObject |
                        countryFormatter}}
                    </div>
                    <div class="span8" style="font-style: italic" data-ng-if="!person.address.permission">
                        {{::'refBook.fl.card.label.permissionDenied' | translate}}
                    </div>
                    <div class="span8" data-ng-controller="SelectRegistryPersonController"
                         data-ng-if="mode == 'EDIT'  && person.address.permission"
                         data-ui-select2="countrySelected.options"
                         data-ng-model="person.address.value.COUNTRY_ID.value"
                         data-ng-init="initCountry(person)">
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="row-fluid tab-column-left">
                        <div class="span4 person-card-left-column-label">{{::'refBook.fl.card.label.residenceAddress' |
                            translate}}
                        </div>
                        <div class="span8 person-card-data"
                             data-ng-if="mode == 'VIEW' && person.address.permission">
                            {{person.address.value.ADDRESS.value}}
                        </div>
                        <div class="span8" style="font-style: italic" data-ng-if="!person.address.permission">
                            {{::'refBook.fl.card.label.permissionDenied' | translate}}
                        </div>
                        <div class="span8 field-wrapper" data-ng-if="mode == 'EDIT' && person.address.permission">
                            <div data-aplana-field>
                                <input data-ng-model="person.address.value.ADDRESS.value"
                                       type="text"
                                style="width: 825px"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
