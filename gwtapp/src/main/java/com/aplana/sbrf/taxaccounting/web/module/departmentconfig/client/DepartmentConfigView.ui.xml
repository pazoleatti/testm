<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:d='urn:import:com.aplana.sbrf.taxaccounting.web.widget.departmentpicker'
             xmlns:r='urn:import:com.aplana.sbrf.taxaccounting.web.widget.refbookmultipicker.client'
             xmlns:style='urn:import:com.aplana.sbrf.taxaccounting.web.widget.style'
             xmlns:rep="urn:import:com.aplana.sbrf.taxaccounting.web.widget.periodpicker.client"
             xmlns:fm="urn:import:com.aplana.gwt.client.form"
			 xmlns:aplana="urn:import:com.aplana.gwt.client">

    <ui:style>
        .titleText {
            font-size: 14px;
            color: #636460;
        }

        .filterPanel {
            padding-left: 7px;
            padding-right: 7px;
            line-height: 30px;
            border-bottom: 1px solid #aeaeac;
        }

        .filterWidgets {
            min-width: 150px;
        }

        .separator {
            height: 22px;
            margin: 0 9px;
            border-right: 1px solid #aeaeac;
        }

        .btnPanel {
            position: absolute;
            bottom: 0;
            right: 0;
            padding-left: 7px;
            padding-right: 7px;
            height: 35px;
        }

        .scrolPanelStyle {
            background-color: white;
            position: absolute !important;
            top: 42px;
            bottom: 35px;
            left: 0;
            right: 0;
            border-bottom: 1px solid #aeaeac;
        }

        .formPanel {
            min-height: 440px;
            min-width: 900px;
            padding: 5px 10px;
        }

        .labelSeparetors{
            padding-left: 5px;
            margin-bottom: 5px;
        }

        .fixRelativeWidth{
            width: 100%;
            min-width: 200px;
            max-width: 450px;
        }

        .toLongLabel{
            line-height: 11px;
        }

        .leftLabels{
            text-align: right;
            width: 250px;
            padding-right: 3px;
        }

        .rightLabels{
            text-align: right;
            width: 340px;
            padding-right: 3px;
        }

        .withMiddleChild td{
            vertical-align: middle !important;
        }
        .marginRight5{
            margin-right: 5px;
        }

    </ui:style>

    <fm:MainContainer>
        <fm:header>
            <fm:HeaderContainer>
                <fm:left>
                    <fm:Left>
                        <style:LeftBar marginRight="5" childValign="middle" height="100%">
                            <g:Label ui:field="taxTypeLabel" addStyleNames="{style.titleText}, {style.marginRight5}" />
                            <g:Label text="—" addStyleNames="{style.titleText}"/>
                        </style:LeftBar>
                    </fm:Left>
                </fm:left>
                <fm:right>
                    <fm:Right>
                        <style:LeftBar marginRight="5" childValign="middle" height="100%">
                            <g:Label ui:field="editModeLabel" visible="false" text="Редактирование" addStyleNames="{style.titleText}"/>
                        </style:LeftBar>
                    </fm:Right>
                </fm:right>
                <fm:resizable>
                    <fm:Resizable>
                        <g:Label text="Настройки подразделений"/>
                    </fm:Resizable>
                </fm:resizable>
            </fm:HeaderContainer>
        </fm:header>
        <fm:body>
            <fm:BodyContainer>

                <g:HorizontalPanel spacing="5" addStyleNames="{style.filterPanel}" verticalAlignment="middle">
                    <g:cell horizontalAlignment="right">
                        <g:Label width="100px" text="Подразделение:"/>
                    </g:cell>
                    <g:cell width="50%">
                        <d:DepartmentPickerPopupWidget ui:field="departmentPicker" multiselection="false" width="100%"
                                                       addStyleNames="{style.filterWidgets}"/>
                    </g:cell>
                    <g:cell horizontalAlignment="right">
                        <g:Label width="65px" text="Период:"/>
                    </g:cell>
                    <g:cell width="50%">
                        <rep:PeriodPickerPopupWidget width="100%" ui:field="periodPickerPopup" multiselect="false"
                                                     addStyleNames="{style.filterWidgets}"/>
                    </g:cell>

                    <!--Пока скрыл кнопку поиска(и сепаратор), может в будущем понадобится-->
                    <g:cell>
                        <g:HTML addStyleNames="{style.separator}" visible="false"/>
                    </g:cell>

                    <g:Button title="Найти" width="70px" text="Поиск" ui:field="findButton" visible="false"/>
                </g:HorizontalPanel>

                <g:ScrollPanel addStyleNames="{style.scrolPanelStyle}">
                    <g:FormPanel ui:field="formPanel" addStyleNames="{style.formPanel}">

                        <g:HorizontalPanel spacing="2" width="100%">
                            <g:cell width="50%">
                                <g:VerticalPanel spacing="2" width="100%">
                                    <style:LabelSeparator text="Реквизиты подразделения" addStyleNames="{style.labelSeparetors}"/>
                                    <g:HorizontalPanel width="100%" spacing="1">
                                        <g:cell width="1%">
                                            <g:Label text="Наименование:" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextArea ui:field="name" visibleLines="4"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label wordWrap="false" text="Субъект Российской Федерации (код):" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <r:RefBookPickerWidget ui:field="dictRegionId" isHierarchical="false" width="150px"
                                                                        attributeIdInt="9" title="Коды субъектов Российской Федерации"
                                                                        multiSelect="false" manualUpdate="true"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Номер контактного телефона:" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="phone" width="150px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="ИНН:" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="inn" width="150px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="ОКТМО:" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <r:RefBookPickerWidget ui:field="oktmo" attributeIdInt="840"
                                                                   isHierarchical="false" width="150px"
                                                                   multiSelect="false" manualUpdate="true"
                                                                   title="Общероссийский классификатор территорий муниципальных образований (ОКТМО)"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Код налогового органа:" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="taxOrganCode" width="150px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="КПП:" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="kpp" width="150px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="ОКВЭД:" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <r:RefBookPickerWidget ui:field="okvedCode" attributeIdInt="210"
                                                                   isHierarchical="false" width="150px"
                                                                   multiSelect="false" manualUpdate="true"
                                                                   title="Общероссийский классификатор видов экономической деятельности"/>
                                        </g:cell>
                                    </g:HorizontalPanel>

                                    <style:LabelSeparator text="Сведения о реорганизации" addStyleNames="{style.labelSeparetors}"/>

                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Код формы реорганизации и ликвидации:" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <r:RefBookPickerWidget ui:field="reorgFormCode" attributeIdInt="13"
                                                                   isHierarchical="false" width="150px"
                                                                   multiSelect="false" manualUpdate="true"
                                                                   title="Коды форм реорганизации и ликвидации организации"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="ИНН реорганизованной организации:" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="reorgInn" width="150px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="КПП реорганизованной организации:" addStyleNames="{style.leftLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="reorgKpp" width="150px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                </g:VerticalPanel>
                            </g:cell>

                            <g:cell width="50%">
                                <g:VerticalPanel spacing="2" width="100%" ui:field="taxTypeIPanel">
                                    <style:LabelSeparator text="Ответственный за декларацию" addStyleNames="{style.labelSeparetors}"/>

                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Признак лица подписавшего документ:" addStyleNames="{style.rightLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <r:RefBookPickerWidget ui:field="signatoryId" attributeIdInt="213"
                                                                   isHierarchical="false" addStyleNames="{style.fixRelativeWidth}"
                                                                   multiSelect="false" manualUpdate="true"
                                                                   title="Признак лица, подписавшего документ"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Фамилия подписанта:" addStyleNames="{style.rightLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="signatorySurname" addStyleNames="{style.fixRelativeWidth}"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Имя подписанта:" addStyleNames="{style.rightLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="signatoryFirstname" addStyleNames="{style.fixRelativeWidth}"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Отчество подписанта:" addStyleNames="{style.rightLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="signatoryLastname" addStyleNames="{style.fixRelativeWidth}"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1">
                                        <g:cell width="1%">
                                            <g:Label addStyleNames="{style.rightLabels},{style.toLongLabel}"
                                                     text="Наименование документа, подтверждающего полномочия представителя:" />
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextArea ui:field="approveDocName" visibleLines="4"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1">
                                        <g:cell width="1%">
                                            <g:Label addStyleNames="{style.rightLabels},{style.toLongLabel}"
                                                     text="Наименование организации-представителя налогоплательщика:"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextArea ui:field="approveOrgName" visibleLines="4"/>
                                        </g:cell>
                                    </g:HorizontalPanel>

                                    <!-- Прочие сведения -->
                                    <style:LabelSeparator text="Прочие сведения" addStyleNames="{style.labelSeparetors}"/>

                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Код места, по которому представляется документ:" addStyleNames="{style.rightLabels},{style.toLongLabel}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <r:RefBookPickerWidget ui:field="taxPlaceTypeCode" attributeIdInt="3"
                                                                   isHierarchical="false" width="200px"
                                                                   multiSelect="false" manualUpdate="true"
                                                                   title="Коды представления налоговой декларации по месту нахождения (учёта)"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel ui:field="taxRatePanel" width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Ставка налога:" addStyleNames="{style.rightLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:DoubleBox ui:field="taxRate" width="200px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Версия программы, с помощью которой сформирован файл:"
                                                     addStyleNames="{style.rightLabels}, {style.toLongLabel}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="appVersion" width="200px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Версия формата:" addStyleNames="{style.rightLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:TextBox ui:field="formatVersion" width="200px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel ui:field="payPanelPrepayment" visible="false" width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Обязанность по уплате авансовых платежей:" addStyleNames="{style.rightLabels}" />
                                        </g:cell>
                                        <g:cell width="99%">
                                            <g:CheckBox ui:field="prepayment" text="" width="200px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel ui:field="payPanelObligation" visible="false" width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Обязанность по уплате налога:" addStyleNames="{style.rightLabels}" />
                                        </g:cell>
                                        <g:cell width="99%">
                                            <r:RefBookPickerWidget ui:field="obligation" attributeIdInt="110"
                                                                   isHierarchical="false" width="200px"
                                                                   multiSelect="false" manualUpdate="true"
                                                                   title="Признак возложения обязанности по уплате налога на обособленное подразделение"/>
                                        </g:cell>
                                    </g:HorizontalPanel>

                                    <g:HorizontalPanel ui:field="payPanelType" visible="false" width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label text="Признак расчёта:" addStyleNames="{style.rightLabels}"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <r:RefBookPickerWidget ui:field="type" attributeIdInt="120"
                                                                   isHierarchical="false" width="200px"
                                                                   multiSelect="false" manualUpdate="true"
                                                                   title="Признак составления расчёта"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel ui:field="sumTaxPanel" visible="false" width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label addStyleNames="{style.rightLabels}, {style.toLongLabel}"
                                                    text="Сумма налога на прибыль, выплаченная за пределами РФ в отчётном периоде:"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:LongBox ui:field="sumTax" width="200px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                    <g:HorizontalPanel ui:field="sumDividendsPanel" visible="false" width="100%" spacing="1" addStyleNames="{style.withMiddleChild}">
                                        <g:cell width="1%">
                                            <g:Label addStyleNames="{style.rightLabels}, {style.toLongLabel}"
                                                    text="Сумма налога с выплаченных дивидендов за пределами РФ в последнем квартале отчётного периода:"/>
                                        </g:cell>
                                        <g:cell width="99%">
                                            <aplana:LongBox ui:field="sumDividends" width="200px"/>
                                        </g:cell>
                                    </g:HorizontalPanel>
                                </g:VerticalPanel>
                            </g:cell>
                        </g:HorizontalPanel>
                    </g:FormPanel>

                </g:ScrollPanel>

                <style:LeftBar childValign="middle" marginRight="9" addStyleNames="{style.btnPanel}">
                    <g:Button ui:field="editButton" text="Редактировать" enabled="false"/>
                    <g:Button ui:field="saveButton" text="Сохранить" visible="false"/>
                    <g:Button ui:field="cancelButton" text="Отменить" visible="false"/>
                </style:LeftBar>

            </fm:BodyContainer>
        </fm:body>
    </fm:MainContainer>

</ui:UiBinder>