<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:style="urn:import:com.aplana.sbrf.taxaccounting.web.widget.style"
             xmlns:pager="urn:import:com.aplana.sbrf.taxaccounting.web.widget.pager"
             xmlns:rep="urn:import:com.aplana.sbrf.taxaccounting.web.widget.periodpicker.client"
             xmlns:fileuplod="urn:import:com.aplana.sbrf.taxaccounting.web.widget.fileupload"
             xmlns:picker="urn:import:com.aplana.sbrf.taxaccounting.web.widget.departmentpicker"
             xmlns:fm="urn:import:com.aplana.gwt.client.form">
    <ui:style>
        .titleText {
            font-size: 14px !important;
            color: #636460;
            white-space: nowrap;
        }

        .header {
            font-size: 14px;
            color: #636460;
        }


        .infoPanel {
            padding: 5px 25px 0 30px;
        }

        .depatmentBlock {
            max-width: 560px;
            min-width: 350px;
        }

        .headerAttrName {
            font-size: 12px;
            line-height: 17px;
        }

        .headerAttr {
            font-size: 12px;
            font-weight: bold;
            max-height: 54px;
            overflow: hidden;
        }

        .depAttr {
            line-height: 17px;
        }

        .centerBlock {
            padding-left: 5px;
        }

        .infoValuesBlock {
            min-width: 100px;
        }

        .reportPeriodLabel {
            font-size: 12px;
            font-weight: bold;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            -ms-text-overflow: ellipsis;
        }


        .btnPanel {

        }

        .fileUploader {
            margin-right: 5px;
            margin-left: 5px;
        }

        .pager {
            position: absolute;
            bottom: 0;
            right: 0;
        }

        .table {
            position: absolute !important;
            bottom: 30px;
            right: 0;
            left: 0;
            top: 40px;
        }

        .horSep {
            height: 1px;
            margin: 1px 10px 3px 10px;
            border-top: 1px solid #aeaeac;
        }

    </ui:style>

    <fm:MainContainer>
        <fm:header>
            <fm:HeaderContainer>
                <fm:left>
                    <fm:Left>
                        <style:LeftBar childValign="middle" height="100%">
                            <style:LinkAnchor title="Бухгалтерская отчётность" ui:field="returnAnchor"
                                              disableImage="true" addStyleNames="{style.titleText}" text="Бухгалтерская отчётность"/>
                            <g:Label text="—" addStyleNames="{style.header}"/>
                        </style:LeftBar>
                    </fm:Left>
                </fm:left>
                <fm:right>
                    <fm:Right>
                        <style:LeftBar childValign="middle" height="100%">
                            <fileuplod:FileUploadWidget text="Загрузить" title="Загрузить файл с отчетностью" ui:field="fileUploader" uploadAsTemporal="true" height="22px"
                                                        addStyleNames="{style.fileUploader}"/>

                            <style:LinkButton ui:field="deleteButton" text="Удалить" title="Удалить выбранную отчетность" img="resources/img/row-delete.png"/>
                        </style:LeftBar>
                    </fm:Right>
                </fm:right>
                <fm:resizable>
                    <fm:Resizable>
                        <g:Label ui:field="title" text="Форма"/>
                    </fm:Resizable>
                </fm:resizable>
            </fm:HeaderContainer>
        </fm:header>
        <fm:body>
            <fm:BodyContainer>
                <g:HorizontalPanel width="100%" addStyleNames="{style.infoPanel}">
                    <!--Подразделение. Левая часть-->
                    <g:cell>
                        <g:HorizontalPanel spacing="2" addStyleNames="{style.depatmentBlock}">
                            <g:cell width="95px">
                                <g:Label text="Подразделение:" addStyleNames="{style.headerAttrName}"/>
                            </g:cell>
                            <g:cell horizontalAlignment="left">
                                <g:Label ui:field="departmentIdLabel" addStyleNames="{style.headerAttr}, {style.depAttr}"/>
                            </g:cell>
                        </g:HorizontalPanel>
                    </g:cell>
                    <!--Инфо по форме. Середина-->
                    <g:cell horizontalAlignment="left" width="90%">
                        <g:HorizontalPanel ui:field="centerBlock" addStyleNames="{style.centerBlock}" >
                            <g:cell width="145px" >
                                <g:VerticalPanel spacing="2" horizontalAlignment="right" width="145px">
                                    <g:Label text="Период:" addStyleNames="{style.headerAttrName}"/>
                                </g:VerticalPanel>
                            </g:cell>
                            <g:cell>
                                <g:VerticalPanel spacing="2" addStyleNames="{style.infoValuesBlock}">
                                    <g:Label ui:field="reportPeriodLabel" addStyleNames="{style.reportPeriodLabel}, {style.depAttr}"/>
                                </g:VerticalPanel>
                            </g:cell>
                        </g:HorizontalPanel>
                    </g:cell>

                </g:HorizontalPanel>

                <g:HTML addStyleNames="{style.horSep}"/>

                <g:ResizeLayoutPanel addStyleNames="{style.table}">
                    <style:GenericDataGrid ui:field="dataTable" height="100%" width="100%"/>
                </g:ResizeLayoutPanel>

                <pager:FlexiblePager ui:field="pager" location="CENTER"
                                     showFastForwardButton="false" fastForwardRows="0"
                                     showLastPageButton="true" styleName="{style.pager}" type="BookerStatementsDataView"/>
            </fm:BodyContainer>
        </fm:body>
    </fm:MainContainer>
</ui:UiBinder>