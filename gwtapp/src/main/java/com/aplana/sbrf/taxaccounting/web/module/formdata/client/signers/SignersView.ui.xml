<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">
<ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"
             xmlns:g="urn:import:com.google.gwt.user.client.ui"
             xmlns:picker="urn:import:com.aplana.sbrf.taxaccounting.web.widget.departmentpicker"
             xmlns:t="urn:import:com.aplana.sbrf.taxaccounting.web.widget.style"
             xmlns:dw="urn:import:com.aplana.gwt.client">

    <ui:style>
        .content {
            margin: 10px;
        }

        .footerPanel {
            background-color: #E8E1CF;
            width: 100%;
            height: 38px;
        }

        .footerButton {
            margin: 8px 10px 8px 0 !important;
            width: 84px;
        }

        .table {
            border: 1px solid #aeaeac;
            border-top: 0;
        }

        .btns {
            margin-left: 5px;
        }

    </ui:style>

    <dw:ModalWindow iconUrl="resources/img/businessperson-16.png" title="Исполнитель и подписанты">
        <g:VerticalPanel addStyleNames="aplana-ModalWindow-contentBackWhite">
            <g:cell>
                <g:VerticalPanel addStyleNames="{style.content}">
                    <g:HorizontalPanel height="30px" verticalAlignment="middle">
                        <g:Label width="100px" text="Подразделение:"/>
                        <picker:DepartmentPickerPopupWidget ui:field="departmentPicker" multiselection="false" labelWordWrap="false" width="300px"/>
                    </g:HorizontalPanel>
                    <g:HorizontalPanel height="30px" verticalAlignment="middle">
                        <g:Label width="200px" text="Используемое наименование:"/>
                        <g:Label width="200px" ui:field="reportDepartmentName"/>
                    </g:HorizontalPanel>
                    <g:HorizontalPanel height="30px" verticalAlignment="middle">
                        <g:Label width="100px" text="Исполнитель:"/>
                        <g:TextBox maxLength="100" width="300px" ui:field="name"/>
                    </g:HorizontalPanel>
                    <g:HorizontalPanel height="30px" verticalAlignment="middle">
                        <g:Label width="100px" text="Телефон:"/>
                        <g:TextBox maxLength="20" width="300px" ui:field="phone"/>
                    </g:HorizontalPanel>
                    <g:VerticalPanel width="100%">
                        <g:cell>
                            <g:Label width="100px" text="Подписанты:"/>
                        </g:cell>
                        <g:cell>
                            <g:HorizontalPanel height="350px" width="100%" spacing="3">
                                <g:cell width="100%" height="100%">
                                    <t:GenericDataGrid ui:field="signersTable" height="350px" width="100%"
                                                       addStyleNames="{style.table}"/>
                                </g:cell>
                                <g:cell verticalAlignment="middle" horizontalAlignment="center">
                                    <g:VerticalPanel ui:field="directionPanel" spacing="3">
                                        <g:Button text="↑" ui:field="upSigner" addStyleNames="{style.btns}"/>
                                        <g:Button text="↓" ui:field="downSigner" addStyleNames="{style.btns}"/>
                                    </g:VerticalPanel>
                                </g:cell>
                            </g:HorizontalPanel>
                        </g:cell>
                    </g:VerticalPanel>
                    <g:HorizontalPanel ui:field="buttonPanel" spacing="3" verticalAlignment="middle">
                        <t:LinkButton text="Добавить" ui:field="addSigner" img="resources/img/row-add.png"/>
                        <t:LinkButton text="Удалить" ui:field="removeSigner" img="resources/img/row-delete.png"/>
                    </g:HorizontalPanel>
                </g:VerticalPanel>
            </g:cell>
            <g:cell horizontalAlignment="ALIGN_RIGHT">
                <g:FlowPanel addStyleNames="{style.footerPanel}">
                    <g:Button addStyleNames="{style.footerButton}" text="Сохранить" ui:field="saveButton"/>
                    <g:Button addStyleNames="{style.footerButton}" text="Отмена" ui:field="cancelButton"/>
                </g:FlowPanel>
            </g:cell>
        </g:VerticalPanel>
    </dw:ModalWindow>

</ui:UiBinder> 