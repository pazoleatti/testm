<ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"
             xmlns:g="urn:import:com.google.gwt.user.client.ui"
             xmlns:style="urn:import:com.aplana.sbrf.taxaccounting.web.widget.style"
             xmlns:a="urn:import:com.aplana.sbrf.taxaccounting.web.widget.departmentpicker"
             xmlns:fm="urn:import:com.aplana.gwt.client.form">

    <ui:style>
        .titleText {
            font-size: 14px;
            color: #636460;
        }

        .titleText div {
            font-size: 14px;
        }

        .table {
            position: absolute !important;
            bottom: 0;
            right: 0;
            left: 0;
            top: 69px;
        }

        .marginRight5 {
            margin-right: 5px;
        }

        .filterPanel {
            padding: 0 9px;
        }

        .filterWidgets {
            min-width: 150px;
        }

        .verSep {
            height: 22px;
            margin: 0 9px;
            border-right: 1px solid #aeaeac;
        }

        .horSep {
            height: 0;
            margin: 0 9px 4px;
            border-top: 1px solid #aeaeac;
        }

        .forTree {
            border-style: none !important;
            width: 100% !important;
            height: 350px;
            min-width: 150px;
        }

    </ui:style>

    <fm:MainContainer>

        <fm:header>
            <fm:HeaderContainer>
                <fm:left>
                    <fm:Left>
                        <style:LeftBar marginRight="5" childValign="middle" height="100%">
                            <g:Label ui:field="taxTypeLabel" addStyleNames="{style.titleText}, {style.marginRight5}"/>
                            <g:Label text="—" addStyleNames="{style.titleText}"/>
                        </style:LeftBar>
                    </fm:Left>
                </fm:left>
                <fm:right>
                    <fm:Right>
                        <style:LeftBar marginRight="10" childValign="middle" height="100%">
                            <style:LinkAnchor disableImage="true" ui:field="switchMode" href="#" addStyleNames="{style.titleText}"/>
                        </style:LeftBar>
                    </fm:Right>
                </fm:right>
                <fm:resizable>
                    <fm:Resizable>
                        <g:Label ui:field="formHeader"/>
                    </fm:Resizable>
                </fm:resizable>
            </fm:HeaderContainer>
        </fm:header>

        <fm:body>
            <fm:BodyContainer>

                <g:HorizontalPanel spacing="5" addStyleNames="{style.filterPanel}" width="50%"
                                   verticalAlignment="middle">
                    <g:Label width="100px" text="Подразделение:"/>
                    <g:cell width="100%">
                        <a:DepartmentPickerPopupWidget ui:field="departmentPicker" header="Выберите подразделение"
                                                           modal="true" multiselection="true" width="100%"
                                                           addStyleNames="{style.filterWidgets}"/>
                    </g:cell>
                    <g:HTML addStyleNames="{style.verSep}"/>

                    <g:Button title="Поиск" width="70px" text="Поиск" ui:field="search"/>
                </g:HorizontalPanel>

                <g:Label addStyleNames="{style.horSep}"/>

                <style:LeftBar addStyleNames="{style.filterPanel}" marginRight="10" childValign="middle">
                    <g:Button ui:field="assignAnchor" title="Назначить" text="Назначить..."/>
                    <style:LinkButton ui:field="editAnchor" enabled="false" text="Редактировать"/>
                    <style:LinkAnchor wordWrap="false" enabled="false" ui:field="cancelAnchor" text="Отменить назначение"/>
                </style:LeftBar>

                <g:ResizeLayoutPanel ui:field="formGridWrapper" addStyleNames="{style.table}">
                    <style:GenericDataGrid ui:field="formGrid" width="100%" height="100%"/>
                </g:ResizeLayoutPanel>

                <g:ResizeLayoutPanel ui:field="declarationGridWrapper" addStyleNames="{style.table}">
                    <style:GenericDataGrid ui:field="declarationGrid" width="100%" height="100%" visible="false"/>
                </g:ResizeLayoutPanel>

            </fm:BodyContainer>
        </fm:body>
    </fm:MainContainer>

</ui:UiBinder>