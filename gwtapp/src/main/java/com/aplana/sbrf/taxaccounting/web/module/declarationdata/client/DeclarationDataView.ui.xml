<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:pdf='urn:import:com.aplana.sbrf.taxaccounting.web.widget.pdfviewer.client'
             xmlns:d="urn:import:com.aplana.sbrf.taxaccounting.web.widget.datepicker"
             xmlns:style="urn:import:com.aplana.sbrf.taxaccounting.web.widget.style"
             xmlns:fm="urn:import:com.aplana.gwt.client.form">
<ui:style>
    @external .headerAttr;
    @external .depAttr;
    @external .headerAttrName;

    .titleText {
        font-size: 14px !important;
        color: #636460;
        white-space: nowrap;
    }

    .titleText div {
        font-size: 14px !important;
    }

    .infoPanel {
        padding: 5px 25px 0 30px;
    }

    .headerAttr {
        font-size: 12px;
        font-weight: bold;
        max-height: 54px;
        overflow: hidden;
        height: 17px;
    }

    .headerDepAttr {
        font-size: 12px;
        font-weight: bold;
        max-height: 17px;
        overflow: hidden;
    }

    .depAttr{
        line-height: 17px;
    }

    .headerAttrName {
        font-size: 12px;
        line-height: 17px;
    }

    .reportPeriodLabel {
        font-size: 12px;
        font-weight: bold;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        -ms-text-overflow: ellipsis;
    }

    .departmentBlock {
        max-width: 560px;
        min-width: 350px;
    }

    .declarationDataIdBlock {
        max-width: 560px;
        min-width: 350px;
    }

    .centerBlock {
        padding-left: 5px;
        white-space: nowrap;
    }

    .infoValuesBlock {
        min-width: 100px;
    }

    .btnPanel {
        padding-left: 7px;
        height: 23px;
    }

    .btnPanel td{
        vertical-align: middle !important;
    }

    .horSep {
        height: 1px;
        margin: 4px 9px;
        border-top: 1px solid #aeaeac;
    }

    .pdfWidget {
        position: absolute !important;
        bottom: 0;
        right: 0;
        left: 0;
        top: 103px;
    }

    .title {
        font-size: 26px;
        text-wrap: none;
        white-space: normal;
        color: #aeaeac;
    }

    .dock {
        border-top: 1px solid #aeaeac;
        background-color: white;
    }

    .printAnchor {
        padding-left: 14px;
        padding-right: 6px;
    }

    .downloadLinkButton {
        border-spacing: 5px 0;
    }

</ui:style>

    <fm:MainContainer>
        <fm:header>
            <fm:HeaderContainer>
                <fm:left>
                    <fm:Left>
                        <style:LeftBar marginRight="5" childValign="middle" height="100%">
                            <style:LinkAnchor title="Перейти к списку налоговых форм" ui:field="returnAnchor" text="Список налоговых форм"
                                              disableImage="true" addStyleNames="{style.titleText}"/>
                            <g:Label text="—" addStyleNames="{style.titleText}"/>
                        </style:LeftBar>
                    </fm:Left>
                </fm:left>
                <fm:right>
                    <fm:Right>
                        <style:LeftBar marginRight="5" childValign="middle" height="100%">
                            <style:DropdownButton ui:field="printAnchor" text="Формирование отчетов" img="resources/img/printer-16.png"
                                                  title="Формирование отчето" panelStyleName="{style.printAnchor}"/>
                        </style:LeftBar>
                    </fm:Right>
                </fm:right>
                <fm:resizable>
                    <fm:Resizable>
                        <g:Label ui:field="title"/>
                    </fm:Resizable>
                </fm:resizable>
            </fm:HeaderContainer>
        </fm:header>

        <fm:body>
            <fm:BodyContainer>

                <g:HorizontalPanel width="100%" addStyleNames="{style.infoPanel}">
                    <!--Подразделение. Левая часть-->
                    <g:cell>
                        <g:VerticalPanel>
                            <g:HorizontalPanel spacing="2" addStyleNames="{style.departmentBlock}">
                                <g:cell width="95px">
                                    <g:Label text="Подразделение:" addStyleNames="{style.headerAttrName}"/>
                                </g:cell>
                                <g:cell horizontalAlignment="left">
                                    <g:Label ui:field="department" addStyleNames="{style.headerDepAttr}, {style.depAttr}"/>
                                </g:cell>
                            </g:HorizontalPanel>
                            <g:HorizontalPanel spacing="2" addStyleNames="{style.declarationDataIdBlock}">
                                <g:cell width="95px" horizontalAlignment="right" >
                                    <g:Label text="Номер формы:" ui:field="declarationDataIdLabel" addStyleNames="{style.headerAttrName}"/>
                                </g:cell>
                                <g:cell horizontalAlignment="left">
                                    <g:Label ui:field="declarationDataId" addStyleNames="{style.headerAttr}, {style.depAttr}"/>
                                </g:cell>
                            </g:HorizontalPanel>
                            <g:HorizontalPanel spacing="2" addStyleNames="{style.declarationDataIdBlock}">
                                <g:cell width="95px" horizontalAlignment="right" >
                                    <g:Label text="Создал:" ui:field="createUserNameLabel" addStyleNames="{style.headerAttrName}"/>
                                </g:cell>
                                <g:cell horizontalAlignment="left">
                                    <g:Label ui:field="createUserName" addStyleNames="{style.headerAttr}, {style.depAttr}"/>
                                </g:cell>
                            </g:HorizontalPanel>

                        </g:VerticalPanel>
                    </g:cell>
                    <!--Инфо по форме. Середина-->
                    <g:cell horizontalAlignment="left" width="400px">
                        <g:HorizontalPanel ui:field="centerBlock" addStyleNames="{style.centerBlock}" >
                            <g:cell>
                                <g:VerticalPanel spacing="2" horizontalAlignment="right" width="140px">
                                    <g:Label ui:field="formKindLabel" text="Тип налоговой формы:" addStyleNames="{style.headerAttrName}"/>
                                    <g:Label text="Период:" addStyleNames="{style.headerAttrName}"/>
                                    <g:Label text="Состояние:" addStyleNames="{style.headerAttrName}"/>
                                    <g:Label ui:field="stateEDLabel" text="Состояние ЭД:" addStyleNames="{style.headerAttrName}"/>
                                </g:VerticalPanel>
                            </g:cell>
                            <g:cell>
                                <g:VerticalPanel spacing="2" addStyleNames="{style.infoValuesBlock}">
                                    <g:Label ui:field="formKind" addStyleNames="{style.headerAttr}, {style.depAttr} "/>
                                    <g:Label ui:field="reportPeriod" addStyleNames="{style.reportPeriodLabel}, {style.depAttr}"/>
                                    <g:Label ui:field="stateLabel" addStyleNames="{style.headerAttr}, {style.depAttr}"/>
                                    <g:Label ui:field="stateED" addStyleNames="{style.headerAttr}, {style.depAttr}"/>
                                </g:VerticalPanel>
                            </g:cell>
                        </g:HorizontalPanel>
                    </g:cell>
                    <g:cell horizontalAlignment="left" width="50%">
                        <g:SimplePanel ui:field="propertyBlock" height="58px">
                            <g:HorizontalPanel addStyleNames="{style.centerBlock}">
                                <g:cell>
                                    <g:VerticalPanel ui:field="leftAttrPanel" spacing="2" horizontalAlignment="right" width="55px">
                                    </g:VerticalPanel>
                                </g:cell>
                                <g:cell>
                                    <g:VerticalPanel ui:field="rightAttrPanel"  spacing="2" addStyleNames="{style.infoValuesBlock}">
                                    </g:VerticalPanel>
                                </g:cell>
                            </g:HorizontalPanel>
                        </g:SimplePanel>
                    </g:cell>
                    <!--Правые кнопки ссылки-->
                    <g:cell horizontalAlignment="right">
                        <g:VerticalPanel width="150px" spacing="2">
                            <style:LinkButton ui:field="infoAnchor" text="История изменений" img="resources/img/exclamation_mark.png"
                                              title="Отобразить историю налоговой формы"/>
                            <style:LinkButton ui:field="filesComments" text="Файлы и комментарии" img="resources/img/exclamation_mark.png"
                                              title="Файлы и комментарии"/>
                            <style:LinkButton ui:field="sources" text="Источники и приемники" img="resources/img/source-target.png"
                                              title="Источники"/>
                        </g:VerticalPanel>
                    </g:cell>

                </g:HorizontalPanel>

                <g:Label addStyleNames="{style.horSep}"/>

                <!--Панель кнопок-->

                <g:HorizontalPanel addStyleNames="{style.btnPanel}">
                        <style:LeftBar childValign="middle" marginRight="9">
                            <g:Button text="Проверить" ui:field="checkButton" />
                            <g:Button text="Рассчитать" ui:field="recalculateButton" />
                            <g:Button text="Удалить" ui:field="deleteButton" />
                            <g:Button text="Принять" ui:field="acceptButton" />
                            <g:Button text="Вернуть в Создана" ui:field="cancelButton" />
                            <g:Button text="Изменить Состояние ЭД" ui:field="changeStatusEDButton" />
                            <g:Button text="Показать" ui:field="viewPdf" visible="true"/>
                            <g:Button text="Добавить ошибку от ФНС" ui:field="addErrorButton" />
                        </style:LeftBar>
                        <g:HorizontalPanel>
                            <g:cell verticalAlignment="middle">
                                <g:Label ui:field="dateBoxLabel" title="Дата и время создания формы:" wordWrap="false" text="Дата формирования налоговой формы:" />
                            </g:cell>
                            <g:cell width="100%" verticalAlignment="middle">
                                <g:Label ui:field="createDate" addStyleNames="{style.centerBlock}, {style.headerAttr}, {style.depAttr}" />
                            </g:cell>
                        </g:HorizontalPanel>
                </g:HorizontalPanel>

                <pdf:PdfViewerWidget ui:field="pdfViewer" addStyleNames="{style.pdfWidget}"/>

                <g:DockLayoutPanel ui:field="noPdfPanel" addStyleNames="{style.pdfWidget} {style.dock}">
                    <g:center>
                        <g:HorizontalPanel width="100%" height="100%">
                            <g:cell horizontalAlignment="center" verticalAlignment="middle" width="100%" height="100%">
                                <g:HTML width="100%" ui:field="noPdfLabel" addStyleNames="{style.title} aplana-NoSelectable" />
                            </g:cell>
                        </g:HorizontalPanel>
                    </g:center>
                </g:DockLayoutPanel>
            </fm:BodyContainer>
        </fm:body>
    </fm:MainContainer>

</ui:UiBinder>