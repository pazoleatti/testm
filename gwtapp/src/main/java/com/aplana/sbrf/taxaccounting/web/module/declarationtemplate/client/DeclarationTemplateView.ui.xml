<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:cm='urn:import:com.aplana.sbrf.taxaccounting.web.widget.codemirror.client'
             xmlns:fileuplod='urn:import:com.aplana.sbrf.taxaccounting.web.widget.fileupload'
             xmlns:style='urn:import:com.aplana.sbrf.taxaccounting.web.widget.style'
             xmlns:fm="urn:import:com.aplana.gwt.client.form"
             xmlns:w='urn:import:com.aplana.gwt.client.mask.ui'>

    <ui:style>
        .header {
            font-size: 14px;
            color:  #636460;
        }

        .btnPanel {
            height: 30px;
        }

        .btnPanel td {
            vertical-align: middle !important;
        }

        .marginLeft {
            margin-left: 5px;
        }

        .btnPanel2 td {
            vertical-align: middle !important;
        }

        .table {
            position: absolute !important;
            bottom: 0;
            right: 0;
            left: 0;
            top: 140px;
            height: inherit !important;
            border-top: 1px solid #aeaeac;
        }

        .separator {
            height: 90px;
            margin: 0 9px;
            border-right: 1px solid #aeaeac;
        }

        .horSep {
            height: 1px;
            margin: 4px 9px;
            border-top: 1px solid #aeaeac;
        }
    </ui:style>

    <fm:MainContainer>
        <fm:header>
            <fm:HeaderContainer>
                <fm:left>
                    <fm:Left>
                        <style:LeftBar childValign="middle" height="100%">
                            <g:Label text="Макеты деклараций" addStyleNames="{style.header}"/>
                            <g:Label text="—" addStyleNames="{style.header}"/>
                        </style:LeftBar>
                    </fm:Left>
                </fm:left>
                <fm:right>
                    <fm:Right>
                        <style:LeftBar childValign="middle" height="100%">
                            <style:LinkAnchor text="Экспорт макета" ui:field="downloadDectButton"
                                              title="Экспорт макета деклараций"/>
                            <g:FormPanel ui:field="uploadDectForm" encoding="multipart/form-data" method="post">
                                <g:HorizontalPanel>
                                    <g:FileUpload ui:field="uploadDectFile" name="uploadDectFile"/>
                                    <g:SubmitButton text="Импорт макета"/>
                                </g:HorizontalPanel>
                            </g:FormPanel>
                        </style:LeftBar>
                    </fm:Right>
                </fm:right>
                <fm:resizable>
                    <fm:Resizable>
                        <g:Label ui:field="title" text="Декларация"/>
                    </fm:Resizable>
                </fm:resizable>
            </fm:HeaderContainer>
        </fm:header>
        <fm:body>
            <fm:BodyContainer>
                <g:HorizontalPanel spacing="5" addStyleNames="{style.btnPanel}">
                    <g:Button text="Сохранить" ui:field="saveButton"/>
                    <g:Button text="Сбросить" ui:field="resetButton"/>
                    <g:Button text="Отмена" ui:field="cancelButton"/>
                    <g:Button text="Ввести в действие" ui:field="activateVersion"/>
                </g:HorizontalPanel>

                <g:Label addStyleNames="{style.horSep}"/>

                <g:HorizontalPanel addStyleNames="{style.marginLeft}">
                    <g:VerticalPanel addStyleNames="{style.btnPanel2}">
                        <g:cell>
                            <g:HorizontalPanel>
                                <g:cell>
                                    <g:Label width="150px" text="Наименование декларации"/>
                                </g:cell>
                                <g:cell>
                                    <g:TextBox width="300px" ui:field="decName"/>
                                </g:cell>
                            </g:HorizontalPanel>
                        </g:cell>
                        <g:HorizontalPanel height="30px">
                            <g:Label width="150px" text="Период актуальности с"/>
                            <g:HorizontalPanel width="300px">
                                <w:YearMaskBox ui:field="versionDateBegin" width="134px"/>
                                <g:cell horizontalAlignment="center">
                                    <g:Label width="30px" text="по"/>
                                </g:cell>
                                <w:YearMaskBox ui:field="versionDateEnd" width="134px"/>
                            </g:HorizontalPanel>
                        </g:HorizontalPanel>

                        <g:HorizontalPanel height="30px">
                            <g:Label width="150px" text="Версия"/>
                            <g:TextBox width="300px" ui:field="version"/>
                        </g:HorizontalPanel>

                        <g:HorizontalPanel height="30px">
                            <g:Label width="150px" text="Активный"/>
                            <g:CheckBox ui:field="active"/>
                        </g:HorizontalPanel>
                    </g:VerticalPanel>

                    <g:cell verticalAlignment="middle">
                        <g:HTML addStyleNames="{style.separator}"/>
                    </g:cell>

                    <g:VerticalPanel addStyleNames="{style.btnPanel2}">
                        <g:HorizontalPanel height="30px">
                            <g:Label width="150px" text="Файл xsd"/>
                            <fileuplod:FileUploadWidget ui:field="fileUploader" uploadAsTemporal="false" text="Загрузить xsd"/>
                        </g:HorizontalPanel>
                        <g:HorizontalPanel height="30px">
                            <g:Label width="150px" text="Файл jrxml"/>
                            <!--TODO (Ramil Timerbaev) нужно допилить виджеты загрузки на подобие "загрузить"-->
                            <g:FormPanel ui:field="uploadJrxmlForm" encoding="multipart/form-data" method="post">
                                <g:FileUpload name="uploadJrxmlFile" ui:field="uploadJrxml"/>
                            </g:FormPanel>
                            <style:LinkAnchor text="Скачать jrxml" ui:field="downloadJrxmlButton"
                                              title="Скачать jrxml файл" addStyleNames="{style.marginLeft}"/>
                        </g:HorizontalPanel>
                    </g:VerticalPanel>
                </g:HorizontalPanel>

                <cm:CodeMirror ui:field="createScript" addStyleNames="{style.table}"/>
            </fm:BodyContainer>
        </fm:body>
    </fm:MainContainer>
</ui:UiBinder>