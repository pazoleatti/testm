<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:style="urn:import:com.aplana.sbrf.taxaccounting.web.widget.style"
             xmlns:d="urn:import:com.aplana.sbrf.taxaccounting.web.widget.departmentpicker"
             xmlns:w="urn:import:com.aplana.gwt.client"
             xmlns:fm="urn:import:com.aplana.gwt.client.form">

    <ui:style>

        .titleText {
            font-size: 14px;
            color: #636460;
        }

        .titleText div {
            font-size: 13px !important;
        }

        .btnPanel {
            padding-left: 15px;
            padding-top: 5px;
        }

        .table {
            position: absolute !important;
            bottom: 0;
            right: 0;
            left: 0;
            top: 41px;
        }

        .marginRight5 {
            margin-right: 5px;
        }

        .searchLabel {
            margin-left: 2px;
            font-weight: bold;
        }

        .bold {
            font-weight: bold;
            padding-right: 4px;
        }

        .leftPanel {
            position: absolute !important;
            bottom: 0;
            left: 0;
            right: 50.5%;
            top: 48px;
        }

        .rightPanel {
            position: absolute !important;
            bottom: 0;
            right: 0;
            left: 50.5%;
            top: 48px;
        }

        .horSep {
            height: 1px;
            margin: 4px 9px;
            border-top: 1px solid #aeaeac;
        }

        .verSep {
            height: 23px;
            width: 0;
            margin: 0 2px;
            border-left: 1px solid #aeaeac;
        }

        .formDecLabel {
            font-weight: bold;
            font-size: 15px;
        }

        .tableBG {
            background-color: white;
            border: 1px solid #6F6F6F;

        }

        .upWrapper {
            position: absolute !important;
            bottom: 5px !important;
            right: 5px !important;
            left: 5px !important;
            top: 5px !important;
        }

        .upTables {
            position: absolute !important;
            bottom: 0;
            right: 0;
            left: 0;
            top: 0;
        }

        .downMar {
            position: absolute !important;
            bottom: 5px !important;
            right: 5px !important;
            left: 5px !important;
            top: 28px !important;
        }

        .toggle {
            margin-right: 3px;
            margin-left: 5px;
        }

        .betweenTables {
            position: absolute !important;
            bottom: 0;
            left: 49.99%;
            top: 26px;
            border-left: 1px dashed #636460;
            width: 0;
        }

    </ui:style>


    <fm:MainContainer>
        <fm:header>
            <fm:HeaderContainer>
                <fm:left>
                    <fm:Left>
                        <style:LeftBar marginRight="5" childValign="middle" height="100%">
                            <g:Label ui:field="taxTypeLabel" addStyleNames="{style.titleText}, {style.marginRight5}"
                                     text="Налог на прибыль"/>
                            <g:Label text="—" addStyleNames="{style.titleText}, {style.marginRight5}"/>
                        </style:LeftBar>
                    </fm:Left>
                </fm:left>
                <fm:right>
                    <fm:Right>
                        <style:LeftBar marginRight="5" childValign="middle" height="100%">
                            <g:Label ui:field="formDecLabel" text="Налоговые формы" addStyleNames="{style.formDecLabel}"/>
                            <g:HTML addStyleNames="{style.verSep}"/>
                            <style:LinkAnchor ui:field="formDecAnchor" href="#" text="Декларации"
                                              disableImage="true" addStyleNames="{style.titleText}"/>
                        </style:LeftBar>
                    </fm:Right>
                </fm:right>
                <fm:resizable>
                    <fm:Resizable>
                        <g:Label ui:field="titleLabel" text="Указание источников/приемников"/>
                    </fm:Resizable>
                </fm:resizable>
            </fm:HeaderContainer>
        </fm:header>
        <fm:body>
            <fm:BodyContainer>

                <g:HorizontalPanel spacing="3" width="100%" addStyleNames="{style.btnPanel}" verticalAlignment="middle">
                    <!--<g:Label addStyleNames="{style.searchLabel}" text="Назначение:"/>-->
                    <!--<g:ValueListBox ui:field="appointmentTypePicker" addStyleNames="{style.marginRight5}"/>-->

                    <g:Label text="Период: с" wordWrap="false" addStyleNames="{style.marginRight5}"/>
                    <g:ValueListBox ui:field="periodFrom" width="200px" addStyleNames="{style.marginRight5}"/>
                    <w:Spinner ui:field="yearFrom" minValue="1900" maxValue="2100" width="60px" height="19px" addStyleNames="{style.marginRight5}"/>
                    <g:Label text="по" wordWrap="false" addStyleNames="{style.marginRight5}"/>
                    <g:ValueListBox ui:field="periodTo" width="200px" addStyleNames="{style.marginRight5}"/>
                    <w:Spinner ui:field="yearTo" minValue="1900" maxValue="2100" width="60px" height="19px"
                               addStyleNames="{style.marginRight5}"/>
                    <g:cell width="100%" horizontalAlignment="right">
                        <style:LinkButton ui:field="assignButton" text="Назначить источники" img="resources/img/add.png"
                                          addStyleNames="{style.marginRight5}"/>
                    </g:cell>

                </g:HorizontalPanel>

                <g:HTML addStyleNames="{style.horSep}"/>

                <g:SplitLayoutPanel addStyleNames="{style.table}">
                    <g:center>
                        <g:ResizeLayoutPanel addStyleNames="{style.upWrapper}">
                            <g:HTMLPanel width="100%" height="100%">
                                <!--Середина-->
                                <g:HorizontalPanel width="100%">
                                    <g:cell width="49%">
                                        <g:HTMLPanel width="100%">
                                            <style:LabelSeparator ui:field="receiverLabel" text="Приёмник" lineHide="true" textRight="true" addStyleNames="{style.bold}" />
                                            <g:HorizontalPanel width="100%" height="30px" verticalAlignment="middle">
                                                <g:Label text="Подразделение:" width="120px" addStyleNames="{style.searchLabel}"/>
                                                <g:cell width="100%">
                                                    <d:DepartmentPickerPopupWidget ui:field="receiversDepPicker" width="100%"
                                                                                   header="Выберите приёмник" multiselection="false"/>
                                                </g:cell>
                                            </g:HorizontalPanel>
                                        </g:HTMLPanel>
                                    </g:cell>
                                    <g:cell width="2%" horizontalAlignment="center">
                                        <style:LeftRightToggleButton ui:field="appointmentTypeButton" addStyleNames="{style.toggle}"
                                                leftTitle="Назначение источников приемнику" rightTitle="Назначение приемников источнику"/>
                                    </g:cell>
                                    <g:cell width="49%">
                                        <g:HTMLPanel width="100%">
                                            <style:LabelSeparator ui:field="sourceLabel" text="Источники" lineHide="true" addStyleNames="{style.bold}"/>
                                            <g:HorizontalPanel width="100%" height="30px" verticalAlignment="middle">
                                                <g:Label text="Подразделение:" width="120px" addStyleNames="{style.searchLabel}"/>
                                                <g:cell width="100%">
                                                    <d:DepartmentPickerPopupWidget ui:field="sourcesDepPicker"
                                                                                   width="100%" header="Выберите подразделение источника"
                                                                                   multiselection="false"/>
                                                </g:cell>
                                            </g:HorizontalPanel>
                                        </g:HTMLPanel>
                                    </g:cell>
                                </g:HorizontalPanel>
                                <!--Левая-->
                                <g:HTMLPanel addStyleNames="{style.leftPanel}">

                                    <g:ResizeLayoutPanel ui:field="receiversFormTableWrapper"
                                                         addStyleNames="{style.tableBG}, {style.upTables}">
                                        <style:GenericDataGrid ui:field="receiversFormTable" width="100%"
                                                               height="100%"/>
                                    </g:ResizeLayoutPanel>
                                    <g:ResizeLayoutPanel ui:field="receiversDecTableWrapper"  addStyleNames="{style.tableBG} {style.upTables}">
                                        <style:GenericDataGrid ui:field="receiversDecTable" width="100%"
                                                               height="100%"/>
                                    </g:ResizeLayoutPanel>
                                </g:HTMLPanel>
                                <g:HTML addStyleNames="{style.betweenTables}"/>
                                <!--Правая-->
                                <g:HTMLPanel addStyleNames="{style.rightPanel}">

                                    <g:ResizeLayoutPanel addStyleNames="{style.tableBG} {style.upTables}">
                                        <style:GenericDataGrid ui:field="sourcesTable" width="100%" height="100%"/>
                                    </g:ResizeLayoutPanel>
                                </g:HTMLPanel>
                            </g:HTMLPanel>
                        </g:ResizeLayoutPanel>

                    </g:center>
                    <g:south size="200">
                        <!--Нижняя-->
                        <g:HTMLPanel height="100%" width="100%">
                            <g:HorizontalPanel width="100%" spacing="4">
                                <g:cell width="100%">
                                    <style:LabelSeparator ui:field="currentDesitionLabel" text="Указанные источники приемника" addStyleNames="{style.bold}"/>
                                </g:cell>
                                <style:LinkButton ui:field="editButton" text="Редактировать назначение" img="resources/img/edit.png"/>
                                <style:LinkButton ui:field="cancelButton" text="Удалить назначение"
                                                  img="resources/img/row-delete.png"/>
                            </g:HorizontalPanel>
                            <g:ResizeLayoutPanel addStyleNames="{style.tableBG}, {style.downMar}">
                                <style:GenericDataGrid ui:field="currentAssignTable" width="100%" height="100%"/>
                            </g:ResizeLayoutPanel>
                        </g:HTMLPanel>
                    </g:south>

                </g:SplitLayoutPanel>

            </fm:BodyContainer>
        </fm:body>
    </fm:MainContainer>
</ui:UiBinder>