<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:style="urn:import:com.aplana.sbrf.taxaccounting.web.widget.style"
             xmlns:d="urn:import:com.aplana.sbrf.taxaccounting.web.widget.departmentpicker"
             xmlns:fm="urn:import:com.aplana.gwt.client.form">

    <ui:style field="css" type="com.aplana.sbrf.taxaccounting.web.module.sources.client.SourcesView.LinkStyle">
        .enabled {
            cursor: pointer;
        }

        .disabled {
            cursor: default;
        }
    </ui:style>

    <ui:style>

        .nd {
            font-size: 14px;
        }

        .titleText {
            font-size: 14px;
            color: #636460;
        }

        .titleText div {
            font-size: 14px;
        }

        .btnPanel {
            height: 25px;
            padding-left: 15px;
            padding-top: 5px;
        }

        .table {
            position: absolute !important;
            bottom: 0;
            right: 0;
            left: 0;
            top: 41px;
        }

        .marginRight5 {
            margin-right: 5px;
        }

        .searchLabel {
            margin-right: 5px;
            margin-left: 5px;
            font-weight: bold;
        }

        .destinationLabel {
            font-weight: bold;
            text-align: center;
        }

        .leftPanel {
            width: 100%;
        }

        .rightPanel {
            width: 100%;
        }

        .horSep {
            height: 1px;
            margin: 4px 9px;
            border-top: 1px solid #aeaeac;
        }

    </ui:style>


    <fm:MainContainer>
        <fm:header>
            <fm:HeaderContainer>
                <fm:left>
                    <fm:Left>
                        <style:LeftBar marginRight="5" childValign="middle" height="100%">
                            <g:Label addStyleNames="{style.titleText}, {style.marginRight5}"
                                     text="Указание форм источников"/>
                            <g:Label text="—" addStyleNames="{style.titleText}, {style.marginRight5}"/>
                        </style:LeftBar>
                    </fm:Left>
                </fm:left>
                <fm:right>
                    <fm:Right>
                        <style:LeftBar marginRight="5" childValign="middle" height="100%">
                            <style:LinkAnchor ui:field="formDecAnchor" href="#" text="Налоговые формы"
                                              disableImage="true" addStyleNames="{style.titleText}"/>
                        </style:LeftBar>
                    </fm:Right>
                </fm:right>
                <fm:resizable>
                    <fm:Resizable>
                        <g:Label ui:field="titleLabel" text="Налоговые формы" addStyleNames="{style.nd}"/>
                    </fm:Resizable>
                </fm:resizable>
            </fm:HeaderContainer>
        </fm:header>
        <fm:body>
            <fm:BodyContainer>

                <g:HorizontalPanel spacing="3" addStyleNames="{style.btnPanel}" verticalAlignment="middle">
                    <g:Label addStyleNames="{style.searchLabel}" text="Вид налога:"/>
                    <g:ValueListBox ui:field="taxTypePicker" addStyleNames="{style.marginRight5}"/>
                    <style:LinkAnchor ui:field="assignButton" text="Назначить" img="resources/img/sources_approve.png"
                                      addStyleNames="{style.marginRight5}"/>
                    <style:LinkAnchor ui:field="cancelButton" text="Отменить назначение"
                                      img="resources/img/sources_reject.png"/>
                </g:HorizontalPanel>

                <g:Label addStyleNames="{style.horSep}"/>

                <g:SplitLayoutPanel addStyleNames="{style.table}">
                    <g:north size="350">
                        <g:HorizontalPanel spacing="5" height="100%" width="100%">

                            <g:VerticalPanel addStyleNames="{style.leftPanel}">
                                <g:Label text="Приёмник" addStyleNames="{style.destinationLabel}"/>
                                <g:HorizontalPanel width="100%" height="30px" verticalAlignment="middle">
                                    <g:Label text="Подразделение:" width="120px" addStyleNames="{style.searchLabel}"/>
                                    <g:cell width="100%">
                                        <d:DepartmentPickerPopupWidget ui:field="departmentReceiverPicker" modal="true"
                                                                       header="Выберите приёмник" multiselection="false"
                                                                       width="100%"/>
                                    </g:cell>

                                </g:HorizontalPanel>
                                <style:GenericDataGrid ui:field="formReceiversTable" width="100%" height="350px"/>
                                <style:GenericDataGrid ui:field="declarationReceiversTable" width="100%"
                                                       height="350px"/>
                            </g:VerticalPanel>

                            <g:VerticalPanel addStyleNames="{style.rightPanel}">
                                <g:Label text="Источник" addStyleNames="{style.destinationLabel}"/>
                                <g:HorizontalPanel width="100%" height="30px" verticalAlignment="middle">
                                    <g:Label text="Подразделение:" width="120px" addStyleNames="{style.searchLabel}"/>
                                    <g:cell width="100%">
                                        <d:DepartmentPickerPopupWidget ui:field="departmentSourcePicker" modal="true"
                                                                       header="Выберите источник" multiselection="false"
                                                                       width="100%"/>
                                    </g:cell>
                                </g:HorizontalPanel>
                                <style:GenericDataGrid ui:field="sourcesTable" width="100%" height="350px"/>
                            </g:VerticalPanel>

                        </g:HorizontalPanel>
                    </g:north>
                    <g:center>
                        <style:GenericDataGrid ui:field="currentSourcesTable" width="100%" height="100%"/>
                    </g:center>
                </g:SplitLayoutPanel>

            </fm:BodyContainer>
        </fm:body>
    </fm:MainContainer>
</ui:UiBinder>