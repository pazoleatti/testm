<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">
<ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:style="urn:import:com.aplana.sbrf.taxaccounting.web.widget.style"
             xmlns:dw="urn:import:com.aplana.gwt.client"
             xmlns:fileuplod="urn:import:com.aplana.sbrf.taxaccounting.web.widget.fileupload"
        >

<ui:style>
    .content {
        margin: 10px;
    }

    .footerPanel {
        background-color: #E8E1CF;
        width: 100%;
        height: 38px;
    }

    .footerButton {
        margin: 8px 10px 8px 0 !important;
        width: 84px;
    }

    .table {
        border: 1px solid #aeaeac;
        border-top: 0;
    }

    </ui:style>

    <dw:ModalWindow ui:field="modalWindow"
                    iconUrl="resources/img/exclamation_mark.png"
                    title="Файлы и комментарии">
        <g:VerticalPanel addStyleNames="aplana-ModalWindow-contentBackWhite">
            <g:cell>
                <g:VerticalPanel addStyleNames="{style.content}">
                    <g:HorizontalPanel>
                        <g:Label width="700px" text="Комментарий:"/>
                    </g:HorizontalPanel>

                    <g:HorizontalPanel>
                        <g:TextArea width="800px" ui:field="note" visibleLines="4"/>
                    </g:HorizontalPanel>

                    <g:VerticalPanel width="100%">
                        <g:cell>
                            <g:Label width="100px" text="Файлы:"/>
                        </g:cell>
                        <g:cell>
                            <g:HorizontalPanel height="200px" width="100%">
                                <g:cell width="100%" height="100%">
                                    <style:GenericDataGrid ui:field="table" height="200px" width="100%"
                                                       addStyleNames="{style.table}"/>
                                </g:cell>
                            </g:HorizontalPanel>
                        </g:cell>
                    </g:VerticalPanel>
                    <g:HorizontalPanel ui:field="buttonPanel" spacing="3" verticalAlignment="middle">
                        <fileuplod:FileUploadWidget text="Добавить" ui:field="addFile" actionUrl="upload/uploadController/formDataFiles/" multiple="true" img="resources/img/row-add.png" />
                        <style:LinkButton text="Удалить" ui:field="removeFile" img="resources/img/row-delete.png"/>
                    </g:HorizontalPanel>
                </g:VerticalPanel>
            </g:cell>
            <g:cell horizontalAlignment="ALIGN_RIGHT">
                <g:FlowPanel addStyleNames="{style.footerPanel}">
                    <g:Button addStyleNames="{style.footerButton}" text="Сохранить" ui:field="saveButton"/>
                    <g:Button addStyleNames="{style.footerButton}" text="Отмена" ui:field="cancelButton"/>
                </g:FlowPanel>
            </g:cell>
        </g:VerticalPanel>
    </dw:ModalWindow>

</ui:UiBinder>