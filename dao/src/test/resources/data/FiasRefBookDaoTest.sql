-- Фиас
INSERT INTO ref_book (id, name, visible, type, read_only, region_attribute_id, table_name) VALUES (1030,'ФИАС Реестр адресообразующих объектов',0,0,1,null, 'fias_addrobj');

insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('1', 0, 0, '000', 'Адыгея', 1, '000', 'Адыгея', 0, '0000', '385000', 1, null, '0000', '01', '0', '0000', 1, 1, 'Респ', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('4', 0, 2, '000', 'Майкоп', 1, '001', 'Майкоп', 0, '0000', null, 1, 1, '0000', '01', '0', '0000', 2, 2, 'г', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Абадзехская', 1, '001', 'Абадзехская', 0, '0000', '385000', 1, 2, '0001', '01', '0', '0000', 3, 3, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Авиационный', 1, '001', 'Авиационный', 0, '0000', '385006', 1, 2, '0003', '01', '0', '0000', 4, 4, 'пер', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Абрикосовая', 1, '001', 'Абрикосовая', 0, '0000', '385000', 1, 2, '0002', '01', '0', '0000', 5, 5, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Автодорога 7', 1, '001', 'Автодорога 7', 0, '0000', '385019', 1, 2, '0004', '01', '0', '0000', 6, 6, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Армавирская', 1, '001', 'Армавирская', 0, '0000', '385000', 1, 2, '0008', '01', '0', '0000', 7, 7, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Апшеронская', 1, '001', 'Апшеронская', 0, '0000', '385003', 1, 2, '0007', '01', '0', '0000', 8, 8, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Андрухаева', 1, '001', 'Андрухаева', 0, '0000', '385006', 1, 2, '0006', '01', '0', '0000', 9, 9, 'пер', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Ашхамафа', 1, '001', 'Ашхамафа', 0, '0000', '385007', 1, 2, '0011', '01', '0', '0000', 10, 10, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Адыгейская', 1, '001', 'Адыгейская', 0, '0000', null, 1, 2, '0005', '01', '0', '0000', 11, 11, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Аэродромная', 1, '001', 'Аэродромная', 0, '0000', null, 1, 2, '0012', '01', '0', '0000', 12, 12, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Ачмизова', 1, '001', 'Ачмизова', 0, '0000', '385000', 1, 2, '0010', '01', '0', '0000', 13, 13, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Армейская', 1, '001', 'Армейская', 0, '0000', '385019', 1, 2, '0009', '01', '0', '0000', 14, 14, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Ветеранов 2-я', 1, '001', 'Ветеранов 2-я', 0, '0000', '385007', 1, 2, '0025', '01', '0', '0000', 15, 15, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Батарейная', 1, '001', 'Батарейная', 0, '0000', null, 1, 2, '0013', '01', '0', '0000', 16, 16, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Вишневый', 1, '001', 'Вишневый', 0, '0000', '385012', 1, 2, '0028', '01', '0', '0000', 17, 17, 'пер', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Верещагина', 1, '001', 'Верещагина', 0, '0000', null, 1, 2, '0021', '01', '0', '0000', 18, 18, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Братьев Лоскутовых', 1, '001', 'Братьев Лоскутовых', 0, '0000', '385009', 1, 2, '0018', '01', '0', '0000', 19, 19, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Весенняя', 1, '001', 'Весенняя', 0, '0000', '385009', 1, 2, '0023', '01', '0', '0000', 20, 20, 'ул', '000', '000', '000');
insert into FIAS_ADDROBJ(AOLEVEL, CURRSTATUS, CENTSTATUS, SEXTCODE, FORMALNAME, LIVESTATUS, CITYCODE, OFFNAME, DIVTYPE, PLANCODE, POSTALCODE, OPERSTATUS, PARENTGUID, STREETCODE, REGIONCODE, AUTOCODE, EXTRCODE, ID, AOID, SHORTNAME, CTARCODE, AREACODE, PLACECODE) VALUES ('7', 0, 0, '000', 'Вишневая', 1, '001', 'Вишневая', 0, '0000', '385009', 1, 2, '0027', '01', '0', '0000', 21, 21, 'ул', '000', '000', '000');

-- Запрос в com.aplana.sbrf.taxaccounting.dao.refbook.FiasRefBookDao.findAddress
-- WITH parent_to_child AS
--   (SELECT DISTINCT fa.id, fa.parentguid AS pid, fa.regioncode, fa.formalname AS fname, level AS aolevel, connect_by_isleaf AS isleaf, fa.currstatus AS status, connect_by_root fa.formalname AS ancestor, sys_connect_by_path(fa.formalname, '#') AS aopath
--   FROM fias_addrobj fa
--   WHERE REPLACE(lower(fa.formalname), ' ', '') = REPLACE(lower(:formalName), ' ', '')
--     START WITH fa.parentguid                  IS NULL
--   AND fa.regioncode                            = :regionCode
--     CONNECT BY prior fa.id                     = fa.parentguid
--   )
-- SELECT ptc.id, ptc.pid, ptc.regioncode, ptc.fname, ptc.aolevel, ptc.isleaf, ptc.aopath, ptc.ancestor
-- FROM parent_to_child ptc
-- WHERE REPLACE(lower(ptc.aopath), ' ', '') = REPLACE(lower(concat(concat('#', ptc.ancestor), :formalPath)), ' ', '')
-- AND ptc.status                            = 0
