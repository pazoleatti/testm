import com.aplana.sbrf.taxaccounting.model.DeclarationTemplate
import com.aplana.sbrf.taxaccounting.model.DeclarationType
import org.apache.commons.io.IOUtils

/**
 * Создает макет декларации.
 *
 * # Инструкция:
 * Вставить текст данного скрипта на странице, соответствующей ссылке с окончанием:
 * .../gwtapp/#!scriptExecution
 * Нажать "Выполнить".
 */

boolean createType = false
boolean createTemplate = true
boolean addScript = true

try {
    // тип
    DeclarationType type = new DeclarationType()
    type.setId(11)
    type.setName('Декларация по налогу на прибыль (Банк) (с периода год 2014)')
    type.setTaxType(TaxType.INCOME)
    type.setIsIfrs(false)
    type.setIfrsName('')
    // макет
    DeclarationTemplate template = new DeclarationTemplate()
    template.setId(21688)
    template.setName('Декларация по налогу на прибыль (Банк) (с периода год 2014)')
    template.setVersion(Date.parse('dd.MM.yyyy', '01.01.2016'))

    def type_id = type.id
    def template_id = template.id

    def rs = namedParameterJdbcTemplate.queryForObject("SELECT count(id) from DECLARATION_TYPE where id = $type_id", [:], Integer.class)
    if (rs == 1) {
        logger.info("Макет декларации с данным id = $type_id уже существует в системе!")
        if (createType) {
            return
        }
    }

    rs = namedParameterJdbcTemplate.queryForObject("SELECT count(id) from DECLARATION_TEMPLATE where id = $template_id", [:], Integer.class)
    if (rs == 1) {
        logger.info("Версия макета декларации с данным id = $template_id уже существует в системе!")
        if (createTemplate) {
            return
        }
    }

    addTypeTemplate(type, template, createType, createTemplate)

    String longString = ''
    if (addScript) {
        longString += 'cGFja2FnZSBmb3JtX3RlbXBsYXRlLmluY29tZS5kZWNsYXJhdGlvbl9iYW5rXzIudjIwMTUNCg0KaW1wb3J0IGNvbS5hcGxhbmEuc2JyZi50YXhhY2NvdW50aW5nLm1vZGVsLkZvcm1EYXRhDQppbXBvcnQgY29tLmFwbGFuYS5zYnJmLnRheGFjY291bnRpbmcubW9kZWwuRm9ybURhdGFFdmVudA0KaW1wb3J0IGNvbS5hcGxhbmEuc2JyZi50YXhhY2NvdW50aW5nLm1vZGVsLlRheFR5cGUNCmltcG9ydCBjb20uYXBsYW5hLnNicmYudGF4YWNjb3VudGluZy5tb2RlbC5sb2cuTG9nTGV2ZWwNCmltcG9ydCBjb20uYXBsYW5hLnNicmYudGF4YWNjb3VudGluZy5tb2RlbC5yZWZib29rLlJlZkJvb2sNCmltcG9ydCBncm9vdnkudHJhbnNmb3JtLkZpZWxkDQppbXBvcnQgZ3Jvb3Z5LnhtbC5NYXJrdXBCdWlsZGVyDQoNCmltcG9ydCBqYXZheC54bWwuc3RyZWFtLlhNTFN0cmVhbVJlYWRlcg0KDQovKioNCiAqINCU0LXQutC70LDRgNCw0YbQuNGPINC/0L4g0L3QsNC70L7Qs9GDINC90LAg0L/RgNC40LHRi9C70YwgKNCR0LDQvdC6KSAo0YEg0L/QtdGA0LjQvtC00LAg0LPQvtC0IDIwMTQpDQogKiDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUgWE1MINC00LvRjyDQtNC10LrQu9Cw0YDQsNGG0LjQuCDQvdCw0LvQvtCz0LAg0L3QsCDQv9GA0LjQsdGL0LvRjC4NCiAqINCy0LXRgNGB0LjRjyAyMDE2INCz0L7QtNCwDQogKiBkZWNsYXJhdGlvblRlbXBsYXRlSWQ9MjE2ODgNCiAqLw0KDQpzd2l0Y2ggKGZvcm1EYXRhRXZlbnQpIHsNCiAgICBjYXNlIEZvcm1EYXRhRXZlbnQuQ1JFQVRFIDogLy8g0YHQvtC30LTQsNGC0YwgLyDQvtCx0L3QvtCy0LjRgtGMDQogICAgICAgIGNoZWNrRGVwYXJ0bWVudFBhcmFtcyhMb2dMZXZlbC5XQVJOSU5HKQ0KICAgICAgICBzb3VyY2VDaGVjayh0cnVlLCBMb2dMZXZlbC5XQVJOSU5HKQ0KICAgICAgICBicmVhaw0KICAgIGNhc2UgRm9ybURhdGFFdmVudC5DSEVDSyA6IC8vINC/0YDQvtCy0LXRgNC40YLRjA0KICAgICAgICBkZWYgbG9nTGV2ZWwgPSBkZWNsYXJhdGlvbkRhdGEuYWNjZXB0ZWQgPyBMb2dMZXZlbC5XQVJOSU5HIDogTG9nTGV2ZWwuRVJST1INCiAgICAgICAgY2hlY2tEZXBhcnRtZW50UGFyYW1zKGxvZ0xldmVsKQ0KICAgICAgICBzb3VyY2VDaGVjayh0cnVlLCBsb2dMZXZlbCkNCiAgICAgICAgbG9naWNDaGVjayhsb2dMZXZlbCkNCiAgICAgICAgYnJlYWsNCiAgICBjYXNlIEZvcm1EYXRhRXZlbnQuTU9WRV9DUkVBVEVEX1RPX0FDQ0VQVEVEIDogLy8g0L/RgNC40L3Rj9GC0Ywg0LjQtyDRgdC+0LfQtNCw0L3QsA0KICAgICAgICBkZWYgbG9nTGV2ZWwgPSBkZWNsYXJhdGlvbkRhdGEuYWNjZXB0ZWQgPyBMb2dMZXZlbC5XQVJOSU5HIDogTG9nTGV2ZWwuRVJST1INCiAgICAgICAgY2hlY2tEZXBhcnRtZW50UGFyYW1zKGxvZ0xldmVsKQ0KICAgICAgICBzb3VyY2VDaGVjayh0cnVlLCBsb2dMZXZlbCkNCiAgICAgICAgbG9naWNDaGVjayhMb2dMZXZlbC5FUlJPUikNCiAgICAgICAgYnJlYWsNCiAgICBjYXNlIEZvcm1EYXRhRXZlbnQuTU9WRV9BQ0NFUFRFRF9UT19DUkVBVEVEOiAvLyDQvtGC0LzQtdC90LjRgtGMINC/0YDQuNC90Y/RgtC40LUNCiAgICAgICAg0YFhbmNlbEFjY2VwdGVkKCkNCiAgICAgICAgYnJlYWsNCiAgICBjYXNlIEZvcm1EYXRhRXZlbnQuUFJFX0NBTENVTEFUSU9OX0NIRUNLOg0KICAgICAgICBjaGVja0RlcGFydG1lbnRQYXJhbXMoTG9nTGV2ZWwuV0FSTklORykNCiAgICAgICAgc291cmNlQ2hlY2sodHJ1ZSwgTG9nTGV2ZWwuV0FSTklORykNCiAgICAgICAgYnJlYWsNCiAgICBjYXNlIEZvcm1EYXRhRXZlbnQuQ0FMQ1VMQVRFOg0KICAgICAgICBjaGVja0RlcGFydG1lbnRQYXJhbXMoTG9nTGV2ZWwuV0FSTklORykNCiAgICAgICAgc291cmNlQ2hlY2sodHJ1ZSwgTG9nTGV2ZWwuV0FSTklORykNCiAgICAgICAgZ2VuZXJhdGVYTUwoKQ0KICAgICAgICBicmVhaw0KICAgIGRlZmF1bHQ6DQogICAgICAgIHJldHVybg0KfQ0KDQpARmllbGQNCmRlZiB2ZXJzaW9uID0gJzUuMDYnDQoNCi8vINCa0Y3RiCDQv9GA0L7QstCw0LnQtNC10YDQvtCyDQpARmllbGQNCmRlZiBwcm92aWRlckNhY2hlID0gWzpdDQoNCi8vINCa0Y3RiCDQt9C90LDRh9C10L3QuNC5INGB0L/RgNCw0LLQvtGH0L3QuNC60LANCkBGaWVsZA0KZGVmIHJlZkJvb2tDYWNoZSA9IFs6XQ0KDQovLyDQt9C90LDRh9C10L3QuNC1INC/0L7QtNGA0LDQt9C00LXQu9C10L3QuNGPINC40Lcg0YHQv9GA0LDQstC+0YfQvdC40LrQsCAzMw0KQEZpZWxkDQpkZWYgZGVwYXJ0bWVudFBhcmFtID0gbnVsbA0KDQovLyDQt9C90LDRh9C10L3QuNC1INC/0L7QtNGA0LDQt9C00LXQu9C10L3QuNGPINC40Lcg0YHQv9GA0LDQstC+0YfQvdC40LrQsCAzMzAgKNGC0LDQsdC70LjRhtCwKQ0KQEZpZWxkDQpkZWYgZGVwYXJ0bWVudFBhcmFtVGFibGUgPSBudWxsDQoNCkBGaWVsZA0KZGVmIHJlcG9ydFBlcmlvZEVuZERhdGUgPSBudWxsDQoNCmRlZiBnZXRFbmREYXRlKCkgew0KICAgIGlmIChyZXBvcnRQZXJpb2RFbmREYXRlID09IG51bGwpIHsNCiAgICAgICAgcmVwb3J0UGVyaW9kRW5kRGF0ZSA9IHJlcG9ydFBlcmlvZFNlcnZpY2UuZ2V0RW5kRGF0ZShkZWNsYXJhdGlvbkRhdGEucmVwb3J0UGVyaW9kSWQpPy50aW1lDQogICAgfQ0KICAgIHJldHVybiByZXBvcnRQZXJpb2RFbmREYXRlDQp9DQoNCi8vINCg0LDQt9GL0LzQtdC90L7QstCw0L3QuNC1INC30LDQv9C40YHQuCDRgdC/0YDQsNCy0L7Rh9C90LjQutCwDQpkZWYgZ2V0UmVmQm9va1ZhbHVlKGRlZiBsb25nIHJlZkJvb2tJZCwgZGVmIHJlY29yZElkKSB7DQogICAgcmV0dXJuIGZvcm1EYXRhU2VydmljZS5nZXRSZWZCb29rVmFsdWUocmVmQm9va0lkLCByZWNvcmRJZCwgcmVmQm9va0NhY2hlKQ0KfQ0KDQp2b2lkIGNoZWNrRGVwYXJ0bWVudFBhcmFtcyhMb2dMZXZlbCBsb2dMZXZlbCkgew0KICAgIC8vINCf0LDRgNCw0LzQtdGC0YDRiyDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRjw0KICAgIGRlZiBkZXBhcnRtZW50UGFyYW0gPSBnZXREZXBhcnRtZW50UGFyYW0oKQ0KICAgIGRlZiBkZXBhcnRtZW50UGFyYW1JbmNvbWVSb3cgPSBnZXREZXBhcnRtZW50UGFyYW1UYWJsZShkZXBhcnRtZW50UGFyYW0ucmVjb3JkX2lkLnZhbHVlKQ0KDQogICAgLy8g0J/RgNC+0LLQtdGA0LrQuCDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRjw0KICAgIGRlZiBMaXN0PFN0cmluZz4gZXJyb3JMaXN0ID0gZ2V0RXJyb3JUYWJsZShkZXBhcnRtZW50UGFyYW1JbmNvbWVSb3cpDQogICAgZm9yIChTdHJpbmcgZXJyb3IgOiBlcnJvckxpc3QpIHsNCiAgICAgICAgbG9nZ2VyLmxvZyhsb2dMZXZlbCwgU3RyaW5nLmZvcm1hdCgi0J3QsCDRhNC+0YDQvNC1INC90LDRgdGC0YDQvtC10Log0L/QvtC00YDQsNC30LTQtdC70LXQvdC40Y8g0YLQtdC60YPRidC10LPQviDRjdC60LfQtdC80L/Qu9GP0YDQsCDQtNC10LrQu9Cw0YDQsNGG0LjQuCDQvtGC0YHRg9GC0YHRgtCy0YPQtdGCINC30L3QsNGH0LXQvdC40LUg0LDRgtGA0LjQsdGD0YLQsCAlcyEiLCBlcnJvcikpDQogICAgfQ0KICAgIGVycm9yTGlzdCA9IGdldEVycm9yRGVwYXJ0bWVudChkZXBhcnRtZW50UGFyYW0pDQogICAgZm9yIChTdHJpbmcgZXJyb3IgOiBlcnJvckxpc3QpIHsNCiAgICAgICAgbG9nZ2VyLmxvZyhsb2dMZXZlbCwgU3RyaW5nLmZvcm1hdCgi0J3QsCDRhNC+0YDQvNC1INC90LDRgdGC0YDQvtC10Log0L/QvtC00YDQsNC30LTQtdC70LXQvdC40Y8g0YLQtdC60YPRidC10LPQviDRjdC60LfQtdC80L/Qu9GP0YDQsCDQtNC10LrQu9Cw0YDQsNGG0LjQuCDQvtGC0YHRg9GC0YHRgtCy0YPQtdGCINC30L3QsNGH0LXQvdC40LUg0LDRgtGA0LjQsdGD0YLQsCAlcyEiLCBlcnJvcikpDQogICAgfQ0KDQogICAgZXJyb3JMaXN0ID0gZ2V0RXJyb3JWZXJzaW9uKGRlcGFydG1lbnRQYXJhbSkNCiAgICBmb3IgKFN0cmluZyBlcnJvciA6IGVycm9yTGlzdCkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBTdHJpbmcuZm9ybWF0KCLQndCwINGE0L7RgNC80LUg0L3QsNGB0YLRgNC+0LXQuiDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRjyDRgtC10LrRg9GJ0LXQs9C+INGN0LrQt9C10LzQv9C70Y/RgNCwINC00LXQutC70LDRgNCw0YbQuNC4INC90LXQstC10YDQvdC+INGD0LrQsNC30LDQvdC+INC30L3QsNGH0LXQvdC40LUg0LDRgtGA0LjQsdGD0YLQsCAlcyIsIGVycm9yKSkNCiAgICB9DQp9DQoNCi8vINCf0YDQvtCy0LXRgNC60LAg0L3QsNC70L7Qs9C+0LLQvtC5INGE0L7RgNC80Ysg0LjRgdGC0L7Rh9C90LjQutCwIMKr0KHQstC10LTQtdC90LjRjyDQviDRgdGD0LzQvNCw0YUg0L3QsNC70L7Qs9CwINC90LAg0L/RgNC40LHRi9C70YwsINGD0L/Qu9Cw0YfQtdC90L3QvtCz0L4g0JHQsNC90LrQvtC8INC30LAg0YDRg9Cx0LXQttC+0LzCuyAo0LTQsNC90L3QsNGPINGE0L7RgNC80LAt0LjRgdGC0L7Rh9C90LjQuiDRgdC+0LfQtNCw0L3QsCDQuCDQvdCw0YXQvtC00LjRgtGB0Y8g0LIg0YHRgtCw0YLRg9GB0LUgwqvQn9GA0LjQvdGP0YLQsMK7KQ0KcHJpdmF0ZSBib29sZWFuIHNvdXJjZUNoZWNrKGJvb2xlYW4gbG9nZ2VyTmVlZCwgTG9nTGV2ZWwgbG9nTGV2ZWwpIHsNCiAgICBkZWYgc291cmNlRm9ybVR5cGVJZCA9IDQyMQ0KICAgIGRlZiBzb3VyY2VGb3JtVHlwZSA9IGZvcm1UeXBlU2VydmljZS5nZXQoc291cmNlRm9ybVR5cGVJZCkNCiAgICBkZWYgc3VjY2VzcyA9IHRydWUNCg0KICAgIGRlZiBmb3JtRGF0YUNvbGxlY3Rpb24gPSBkZWNsYXJhdGlvblNlcnZpY2UuZ2V0QWNjZXB0ZWRGb3JtRGF0YVNvdXJjZXMoZGVjbGFyYXRpb25EYXRhLCB1c2VySW5mbywgbG9nZ2VyKQ0KICAgIGRlZiBkZXBhcnRtZW50Rm9ybVR5cGUgPSBmb3JtRGF0YUNvbGxlY3Rpb24/LnJlY29yZHM/LmZpbmQgeyBpdC5mb3JtVHlwZS5pZCA9PSBzb3VyY2VGb3JtVHlwZUlkIH0NCiAgICBkZWYgcmVwb3J0UGVyaW9kID0gcmVwb3J0UGVyaW9kU2VydmljZS5nZXQoZGVjbGFyYXRpb25EYXRhLnJlcG9ydFBlcmlvZElkKQ0KICAgIGlmIChkZXBhcnRtZW50Rm9ybVR5cGUgPT0gbnVsbCkgew0KICAgICAgICBpZiAobG9nZ2VyTmVlZCkgew0KICAgICAgICAgICAgbG9nZ2VyLmxvZyhsb2dMZXZlbCwgItCd0LUg0L3QsNC50LTQtdC9INGN0LrQt9C10LzQv9C70Y/RgCDCqyR7c291cmNlRm9ybVR5cGUubmFtZX3CuyDQt9CwICR7cmVwb3J0UGVyaW9kLm5hbWV9ICR7cmVwb3J0UGVyaW9kLnRheFBlcmlvZC55ZWFyfSDQsiDRgdGC0LDRgtGD0YHQtSDCq9Cf0YDQuNC90Y/RgtCwwrsgKNC90LDQu9C+0LPQvtCy0LDRjyDRhNC+0YDQvNCwINC90LUg0L3QsNC30L3QsNGH0LXQvdCwINC40YHRgtC+0YfQvdC40LrQvtC8INC00LXQutC70LDRgNCw0YbQuNC4INCR0LDQvdC60LAv0L3QsNC30L3QsNGH0LXQvdCwINC40YHRgtC+0YfQvdC40LrQvtC8LCDQvdC+INC90LUg0YHQvtC30LTQsNC90LAv0L3QsNC30L3QsNGH0LXQvdCwINC40YHRgtC+0YfQvdC40LrQvtC8LCDRgdC+0LfQtNCw0L3QsCwg0L3QviDQvdC1INC/0YDQuNC90Y/RgtCwKS4g0J/RgNC4INGA0LDRgdGH0ZHRgtC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC00LXQutC70LDRgNCw0YbQuNC4INGB0YLRgNC+0LrQsCAyNDAg0JvQuNGB0YLQsCAwMiDQsdGD0LTQtdGCINC30LDQv9C+0LvQvdC10L3QsCDQt9C90LDRh9C10L3QuNC10LwgwqswwrshIikNCiAgICAgICAgfQ0KICAgICAgICBzdWNjZXNzID0gZmFsc2UNCiAgICB9DQogICAgcmV0dXJuIHN1Y2Nlc3MNCn0NCg0KLy8g0JvQvtCz0LjRh9C10YHQutC40LUg0L/RgNC+0LLQtdGA0LrQuC4NCnZvaWQgbG9naWNDaGVjayhMb2dMZXZlbCBsb2dMZXZlbCkgew0KICAgIGRlZiBlbXB0eSA9IDANCiAgICAvLyDQv9C+0LvRg9GH0LXQvdC40LUg0LTQsNC90L3Ri9GFINC40LcgeG1sJ9C60LgNCiAgICBkZWYgcmVhZGVyID0gZ2V0WG1sU3RyZWFtUmVhZGVyKGRlY2xhcmF0aW9uRGF0YS5yZXBvcnRQZXJpb2RJZCwgZGVjbGFyYXRpb25EYXRhLmRlcGFydG1lbnRJZCwgZmFsc2UsIGZhbHNlKQ0KICAgIGlmKHJlYWRlciA9PSBudWxsKXsNCiAgICAgICAgcmV0dXJuDQogICAgfQ0KDQogICAgZGVmIGVsZW1lbnRzID0gWzpdDQoNCiAgICBkZWYgbmFsVmlwbDMxMSwgbmFsSXNjaGlzbCwgbmFsVmlwbDMxMUZCLCBuYWxJc2NoaXNsRkIsIG5hbFZpcGwzMTFTdWIsIG5hbElzY2hpc2xTdWIsIHN0YXZOYWxGQiwgcmFzY2hOYWxGb3VuZCA9IGZhbHNlDQogICAgZGVmIHZuZVJlYWxEb2hTdCwgdm5lUmVhbERvaEJlenYsIHZuZVJlYWxEb2hJemwsIHZuZVJlYWxEb2hWUmFzaCwgdm5lUmVhbERvaFJpbkNCREQsIHZuZVJlYWxEb2hDb3IsIHZuZVJlYWxEb2hWcywgZG9oVm5lcmVhbEZvdW5kID0gZmFsc2UNCiAgICBkZWYgY29zdlJhc2hWcywgbmFsb2dpLCByYXNoQ2FwVmwxMCwgcmFzaENhcFZsMzAsIHJhc2haZW1VY2hWcywgcmFzaFJlYWxGb3VuZCA9IGZhbHNlDQogICAgZGVmIHJhc2hWbmVyZWFsUHJETywgdWJpdFJlYWxQcmF2VHIsIHJhc2hMaWt2T1MsIHJhc2hTaHRyYWYsIHJhc2hSaW5DQkRELCByYXNoVm5lcmVhbFZzLCByYXNoVm5lUmVhbEZvdW5kID0gZmFsc2UNCiAgICBkZWYgc3RvaW1SZWFsUFREb1NyLCBzdG9pbVJlYWxQVEZvdW5kID0gZmFsc2UNCiAgICBkZWYgdmlydWNoUmVhbFBURG9TciwgdmlydWNoUmVhbFBURm91bmQgPSBmYWxzZQ0KICAgIGRlZiB1Yml0MVByZXYyNjksIHViaXQxU29vdDI2OSwgdWJpdFJlYWxQVDFGb3VuZCA9IGZhbHNlDQogICAgZGVmIGtvZE5PLCBwb01lc3R1LCBkb2N1bWVudEZvdW5kID0gZmFsc2UNCiAgICBkZWYgbmFpbU9yZywgaW5uSnVsTnBKdWwsIGtwcEp1bE5wSnVsLCBucEp1bEZvdW5kID0gZmFsc2UNCiAgICBkZWYgcHJQb2RwLCBwb2RwaXNhbnRGb3VuZCA9IGZhbHNlDQogICAgZGVmIHNpZ25hdG9yeVN1cm5hbWUsIHNpZ25hdG9yeUZpcnN0TmFtZSwgZmlvRm91bmQgPSBmYWxzZQ0KICAgIGRlZiBuYWltRG9rLCBzdlByZWRGb3VuZCA9IGZhbHNlDQogICAgZGVmIG9rdG1vTmFsUFVBdiwgbmFsUFVBdkZvdW5kID0gZmFsc2UNCiAgICBkZWYgb2t0bW9OYWxQVU1lcywgbmFsUFVNZXNGb3VuZCA9IGZhbHNlDQogICAgZGVmIG9rdmVkLCBzdk5QRm91bmQgPSBmYWxzZQ0KICAgIGRlZiBpbm5KdWxTdlJlb3JnSnVsLCBrcHBTdlJlb3JnSnVsLCBmb3JtUmVvcmcsIHN2UmVvcmdKdWxGb3VuZCA9IGZhbHNlDQogICAgZGVmIHZlcnNGb3JtLCBpZEZpbGUsIGtvZE5PUHJvbSwgZmlsZUZvdW5kID0gZmFsc2UNCg0KICAgIHRyeSB7IC8vINC40YnQtdC8INC/0L7QutCwINC10YHRgtGMINGN0LvQtdC80LXQvdGC0Ysg0Lgg0LXRgdGC0Ywg0YfRgtC+INC40YHQutCw0YLRjA0KICAgICAgICB3aGlsZShyZWFkZXIuaGFzTmV4dCgpICYmDQogICAgICAgICAgICAgICAgIShyYXNjaE5hbEZvdW5kICYmIGRvaFZuZXJlYWxGb3VuZCAmJiByYXNoUmVhbEZvdW5kICYmIHJhc2hWbmVSZWFsRm91bmQgJiYgc3RvaW1SZWFsUFRGb3VuZCAmJiB2aXJ1Y2hSZWFsUFRGb3VuZCAmJiB1Yml0UmVhbFBUMUZvdW5kKSkgew0KICAgICAgICAgICAgaWYgKHJlYWRlci5zdGFydEVsZW1lbnQpIHsNCiAgICAgICAgICAgICAgICBlbGVtZW50c1tyZWFkZXIubmFtZS5sb2NhbFBhcnRdID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIGlmICghcmFzY2hOYWxGb3VuZCAmJiBpc0N1cnJlbnROb2RlKFsn0JTQvtC60YPQvNC10L3RgicsICfQn9GA0LjQsdGL0LvRjCcsICfQoNCw0YHRh9Cd0LDQuyddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgcmFzY2hOYWxGb3VuZCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgbmFsVmlwbDMxMSA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0J3QsNC70JLRi9C/0LszMTEiKQ0KICAgICAgICAgICAgICAgICAgICBuYWxJc2NoaXNsID0gZ2V0WG1sRGVjaW1hbChyZWFkZXIsICLQndCw0LvQmNGB0YfQuNGB0LsiKQ0KICAgICAgICAgICAgICAgICAgICBuYWxWaXBsMzExRkIgPSBnZXRYbWxEZWNpbWFsKHJlYWRlciwgItCd0LDQu9CS0YvQv9C7MzEx0KTQkSIpDQogICAgICAgICAgICAgICAgICAgIG5hbElzY2hpc2xGQiA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0J3QsNC70JjRgdGH0LjRgdC70KTQkSIpDQogICAgICAgICAgICAgICAgICAgIG5hbFZpcGwzMTFTdWIgPSBnZXRYbWxEZWNpbWFsKHJlYWRlciwgItCd0LDQu9CS0YvQv9C7MzEx0KHRg9CxIikNCiAgICAgICAgICAgICAgICAgICAgbmFsSXNjaGlzbFN1YiA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0J3QsNC70JjRgdGH0LjRgdC70KHRg9CxIikNCiAgICAgICAgICAgICAgICAgICAgc3Rhdk5hbEZCID0gZ2V0WG1sVmFsdWUocmVhZGVyLCAn0KHRgtCw0LLQndCw0LvQpNCRJykNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFkb2hWbmVyZWFsRm91bmQgJiYgaXNDdXJyZW50Tm9kZShbJ9CU0L7QutGD0LzQtdC90YInLCAn0J/RgNC40LHRi9C70YwnLCAn0KDQsNGB0YfQndCw0LsnLCAn0JTQvtGF0KDQtdCw0LvQktC90LXQoNC10LDQuycsICfQlNC+0YXQktC90LXQoNC10LDQuyddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgZG9oVm5lcmVhbEZvdW5kID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICB2bmVSZWFsRG9oU3QgPSBnZXRYbWxEZWNpbWFsKHJlYWRlciwgItCS0L3QtdCg0LXQsNC70JTQvtGF0KHRgiIpDQogICAgICAgICAgICAgICAgICAgIHZuZVJlYWxEb2hCZXp2ID0gZ2V0WG1sRGVjaW1hbChyZWFkZXIsICLQktC90LXQoNC10LDQu9CU0L7RhdCR0LXQt9CyIikNCiAgICAgICAgICAgICAgICAgICAgdm5lUmVhbERvaEl6bCA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0JLQvdC10KDQtdCw0LvQlNC+0YXQmNC30LsiKQ0KICAgICAgICAgICAgICAgICAgICB2bmVSZWFsRG9oVlJhc2ggPSBnZXRYbWxEZWNpbWFsKHJlYWRlciwgItCS0L3QtdCg0LXQsNC70JTQvtGF0JLQoNCw0YHRhSIpDQogICAgICAgICAgICAgICAgICAgIHZuZVJlYWxEb2hSaW5DQkREID0gZ2V0WG1sRGVjaW1hbChyZWFkZXIsICLQktC90LXQoNC10LDQu9CU0L7RhdCg0YvQvdCm0JHQlNCUIikNCiAgICAgICAgICAgICAgICAgICAgdm5lUmVhbERvaENvciA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0JLQvdC10KDQtdCw0LvQlNC+0YXQmtC+0YAiKQ0KICAgICAgICAgICAgICAgICAgICB2bmVSZWFsRG9oVnMgPSBnZXRYbWxEZWNpbWFsKHJlYWRlciwgItCS0L3QtdCg0LXQsNC70JTQvtGF0JLRgSIpDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghcmFzaFJlYWxGb3VuZCAmJiBpc0N1cnJlbnROb2RlKFsn0JTQvtC60YPQvNC10L3RgicsICfQn9GA0LjQsdGL0LvRjCcsICfQoNCw0YHRh9Cd0LDQuycsICfQoNCw0YHRhdCg0LXQsNC70JLQvdC10KDQtdCw0LsnLCAn0KDQsNGB0YXQoNC10LDQuyddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgcmFzaFJlYWxGb3VuZCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgY29zdlJhc2hWcyA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0JrQvtGB0LLQoNCw0YHRhdCS0YEiKQ0KICAgICAgICAgICAgICAgICAgICBuYWxvZ2kgPSBnZXRYbWxEZWNpbWFsKHJlYWRlciwgItCd0LDQu9C+0LPQuCIpDQogICAgICAgICAgICAgICAgICAgIHJhc2hDYXBWbDEwID0gZ2V0WG1sRGVjaW1hbChyZWFkZXIsICLQoNCw0YHRhdCa0LDQv9CS0LsxMCIpDQogICAgICAgICAgICAgICAgICAgIHJhc2hDYXBWbDMwID0gZ2V0WG1sRGVjaW1hbChyZWFkZXIsICLQoNCw0YHRhdCa0LDQv9CS0LszMCIpDQogICAgICAgICAgICAgICAgICAgIHJhc2haZW1VY2hWcyA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0KDQsNGB0YXQl9C10LzQo9GH0JLRgSIpDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghcmFzaFZuZVJlYWxGb3VuZCAmJiBpc0N1cnJlbnROb2RlKFsn0JTQvtC60YPQvNC10L3RgicsICfQn9GA0LjQsdGL0LvRjCcsICfQoNCw0YHRh9Cd0LDQuycsICfQoNCw0YHRhdCg0LXQsNC70JLQvdC10KDQtdCw0LsnLCAn0KDQsNGB0YXQktC90LXQoNC10LDQuyddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgcmFzaFZuZVJlYWxGb3VuZCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgcmFzaFZuZXJlYWxQckRPID0gZ2V0WG1sRGVjaW1hbChyZWFkZXIsICLQoNCw0YHRhdCS0L3QtdGA0LXQsNC70J/RgNCU0J4iKQ0KICAgICAgICAgICAgICAgICAgICB1Yml0UmVhbFByYXZUciA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0KPQsdGL0YLQoNC10LDQu9Cf0YDQsNCy0KLRgCIpDQogICAgICAgICAgICAgICAgICAgIHJhc2hMaWt2T1MgPSBnZXRYbWxEZWNpbWFsKHJlYWRlciwgItCg0LDRgdGF0JvQuNC60LLQntChIikNCiAgICAgICAgICAgICAgICAgICAgcmFzaFNodHJhZiA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0KDQsNGB0YXQqNGC0YDQsNGEIikNCiAgICAgICAgICAgICAgICAgICAgcmFzaFJpbkNCREQgPSBnZXRYbWxEZWNpbWFsKHJlYWRlciwgItCg0LDRgdGF0KDRi9C90KbQkdCU0JQiKQ0KICAgICAgICAgICAgICAgICAgICByYXNoVm5lcmVhbFZzID0gZ2V0WG1sRGVjaW1hbChyZWFkZXIsICLQoNCw0YHRhdCS0L3QtdCg0LXQsNC70JLRgSIpDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghc3RvaW1SZWFsUFRGb3VuZCAmJiBpc0N1cnJlbnROb2RlKFsn0JTQvtC60YPQvNC10L3RgicsICfQn9GA0LjQsdGL0LvRjCcsICfQoNCw0YHRh9Cd0LDQuycsICfQoNCw0YHRh9Cg0LDRgdGF0J7Qv9C10YAnLCAn0KHRgtC+0LjQvNCg0LXQsNC70J/QoiddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgc3RvaW1SZWFsUFRGb3VuZCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgc3RvaW1SZWFsUFREb1NyID0gZ2V0WG1sRGVjaW1hbChyZWFkZXIsICLQodGC0L7QuNC80KDQtdCw0LvQn9Ci0JTQvtCh0YAiKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZpcnVjaFJlYWxQVEZvdW5kICYmIGlzQ3VycmVudE5vZGUoWyfQlNC+0LrRg9C80LXQvdGCJywgJ9Cf0YDQuNCx0YvQu9GMJywgJ9Cg0LDRgdGH0J3QsNC7JywgJ9Cg0LDRgdGH0KDQsNGB0YXQntC/0LXRgCcsICfQktGL0YDRg9GH0KDQtdCw0LvQn9CiJ10sIGVsZW1lbnRzKSkgew0KICAgICAgICAgICAgICAgICAgICB2aXJ1Y2hSZWFsUFRGb3VuZCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgdmlydWNoUmVhbFBURG9TciA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0JLRi9GA0YPRh9Cg0LXQsNC70J/QotCU0L7QodGAIikNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF1Yml0UmVhbFBUMUZvdW5kICYmIGlzQ3VycmVudE5vZGUoWyfQlNC+0LrRg9C80LXQvdGCJywgJ9Cf0YDQuNCx0YvQu9GMJywgJ9Cg0LDRgdGH0J3QsNC7JywgJ9Cg0LDRgdGH0KDQsNGB0YXQntC/0LXRgCcsICfQo9Cx0YvRgtCg0LXQsNC70J/QojEnXSwgZWxlbWVudHMpKSB7DQogICAgICAgICAgICAgICAgICAgIHViaXRSZWFsUFQxRm91bmQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgIHViaXQxUHJldjI2OSA9IGdldFhtbERlY2ltYWwocmVhZGVyLCAi0KPQsdGL0YIx0J/RgNC10LIyNjkiKQ0KICAgICAgICAgICAgICAgICAgICB1Yml0MVNvb3QyNjkgPSBnZXRYbWxEZWNpbWFsKHJlYWRlciwgItCj0LHRi9GCMdCh0L7QvtGCMjY5IikNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFkb2N1bWVudEZvdW5kICYmIGlzQ3VycmVudE5vZGUoWyfQlNC+0LrRg9C80LXQvdGCJ10sIGVsZW1lbnRzKSkgew0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEZvdW5kID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICBrb2ROTyA9IGdldFhtbFZhbHVlKHJlYWRlciwgJ9Ca0L7QtNCd0J4nKQ0KICAgICAgICAgICAgICAgICAgICBwb01lc3R1ID0gZ2V0WG1sVmFsdWUocmVhZGVyLCAn0J/QvtCc0LXRgdGC0YMnKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN2TlBGb3VuZCAmJiBpc0N1cnJlbnROb2RlKFsn0JTQvtC60YPQvNC10L3RgicsICfQodCy0J3QnyddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgc3ZOUEZvdW5kID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICBva3ZlZCA9IGdldFhtbFZhbHVlKHJlYWRlciwgJ9Ce0JrQktCt0JQnKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXBvZHBpc2FudEZvdW5kICYmIGlzQ3VycmVudE5vZGUoWyfQlNC+0LrRg9C80LXQvdGCJywgJ9Cf0L7QtNC/0LjRgdCw0L3RgiddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgcG9kcGlzYW50Rm91bmQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgIHByUG9kcCA9IGdldFhtbFZhbHVlKHJlYWRlciwgJ9Cf0YDQn9C+0LTQvycpDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZmlvRm91bmQgJiYgaXNDdXJyZW50Tm9kZShbJ9CU0L7QutGD0LzQtdC90YInLCAn0J/QvtC00L/QuNGB0LDQvdGCJywgJ9Ck0JjQniddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgZmlvRm91bmQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgIHNpZ25hdG9yeVN1cm5hbWUgPSBnZXRYbWxWYWx1ZShyZWFkZXIsICfQpNCw0LzQuNC70LjRjycpDQogICAgICAgICAgICAgICAgICAgIHNpZ25hdG9yeUZpcnN0TmFtZSA9IGdldFhtbFZhbHVlKHJlYWRlciwgJ9CY0LzRjycpDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghc3ZQcmVkRm91bmQgJiYgaXNDdXJyZW50Tm9kZShbJ9CU0L7QutGD0LzQtdC90YInLCAn0J/QvtC00L/QuNGB0LDQvdGCJywgJ9Ch0LLQn9GA0LXQtCddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgc3ZQcmVkRm91bmQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgIG5haW1Eb2sgPSBnZXRYbWxWYWx1ZShyZWFkZXIsICfQndCw0LjQvNCU0L7QuicpDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbnBKdWxGb3VuZCAmJiBpc0N1cnJlbnROb2RlKFsn0JTQvtC60YPQvNC10L3RgicsICfQodCy0J3QnycsICfQndCf0K7QmyddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgbnBKdWxGb3VuZCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgbmFpbU9yZyA9IGdldFhtbFZhbHVlKHJlYWRlciwgJ9Cd0LDQuNC80J7RgNCzJykNCiAgICAgICAgICAgICAgICAgICAgaW5uSnVsTnBKdWwgPSBnZXRYbWxWYWx1ZShyZWFkZXIsICfQmNCd0J3QrtCbJykNCiAgICAgICAgICAgICAgICAgICAga3BwSnVsTnBKdWwgPSBnZXRYbWxWYWx1ZShyZWFkZXIsICfQmtCf0J8nKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN2UmVvcmdKdWxGb3VuZCAmJiBpc0N1cnJlbnROb2RlKFsn0JTQvtC60YPQvNC10L3RgicsICfQodCy0J3QnycsICfQndCf0K7QmycsICfQodCy0KDQtdC+0YDQs9Cu0JsnXSwgZWxlbWVudHMpKSB7DQogICAgICAgICAgICAgICAgICAgIHN2UmVvcmdKdWxGb3VuZCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgaW5uSnVsU3ZSZW9yZ0p1bCA9IGdldFhtbFZhbHVlKHJlYWRlciwgJ9CY0J3QndCu0JsnKQ0KICAgICAgICAgICAgICAgICAgICBrcHBTdlJlb3JnSnVsID0gZ2V0WG1sVmFsdWUocmVhZGVyLCAn0JrQn9CfJykNCiAgICAgICAgICAgICAgICAgICAgZm9ybVJlb3JnID0gZ2V0WG1sVmFsdWUocmVhZGVyLCAn0KTQvtGA0LzQoNC10L7RgNCzJykNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFuYWxQVUF2Rm91bmQgJiYgaXNDdXJyZW50Tm9kZShbJ9CU0L7QutGD0LzQtdC90YInLCAn0J/RgNC40LHRi9C70YwnLCAn0J3QsNC70J/QoycsICfQndCw0LvQn9Cj0JDQsiddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgbmFsUFVBdkZvdW5kID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICBva3Rtb05hbFBVQXYgPSBnZXRYbWxWYWx1ZShyZWFkZXIsICfQntCa0KLQnNCeJykNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFuYWxQVU1lc0ZvdW5kICYmIGlzQ3VycmVudE5vZGUoWyfQlNC+0LrRg9C80LXQvdGCJywgJ9Cf0YDQuNCx0YvQu9GMJywgJ9Cd0LDQu9Cf0KMnLCAn0J3QsNC70J/Qo9Cc0LXRgSddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgbmFsUFVNZXNGb3VuZCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgb2t0bW9OYWxQVU1lcyA9IGdldFhtbFZhbHVlKHJlYWRlciwgJ9Ce0JrQotCc0J4nKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWZpbGVGb3VuZCAmJiBpc0N1cnJlbnROb2RlKFtdLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgZmlsZUZvdW5kID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICB2ZXJzRm9ybSA9IGdldFhtbFZhbHVlKHJlYWRlciwgJ9CS0LXRgNGB0KTQvtGA0LwnKQ0KICAgICAgICAgICAgICAgICAgICBpZEZpbGUgPSBnZXRYbWxWYWx1ZShyZWFkZXIsICfQmNC00KTQsNC50LsnKQ0KICAgICAgICAgICAgICAgICAgICBkZWYgaWRGaWxlUGFydHMgPSBpZEZpbGU/LnNwbGl0KCJfIikNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlkRmlsZVBhcnRzLnNpemUoKSA+PSAzKSB7IC8vINC90LAg0LLRgdGP0LrQuNC5INGB0LvRg9GH0LDQuQ0KICAgICAgICAgICAgICAgICAgICAgICAga29kTk9Qcm9tID0gaWRGaWxlUGFydHNbMl0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChyZWFkZXIuZW5kRWxlbWVudCkgew0KICAgICAgICAgICAgICAgIGVsZW1lbnRzW3JlYWRlci5uYW1lLmxvY2FsUGFydF0gPSBmYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmVhZGVyLm5leHQoKQ0KICAgICAgICB9DQogICAgfSBmaW5hbGx5IHsNCiAgICAgICAgcmVhZGVyLmNsb3NlKCkNCiAgICB9DQoNCiAgICBpZiAobmFpbU9yZyA9PSBudWxsIHx8IG5haW1PcmcudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXRNZXNzYWdlKCLQotC40YLRg9C70YzQvdGL0Lkg0LvQuNGB0YIiLCAi0J3QsNC40LzQtdC90L7QstCw0L3QuNC1INC+0YDQs9Cw0L3QuNC30LDRhtC40LggKNC+0LHQvtGB0L7QsdC70LXQvdC90L7Qs9C+INC/0L7QtNGA0LDQt9C00LXQu9C10L3QuNGPKSIsICLQndCf0K7Qmy7QndCw0LjQvNCe0YDQsyIsICLQndCw0LjQvNC10L3QvtCy0LDQvdC40LUg0LTQu9GPINGC0LjRgtGD0LvRjNC90L7Qs9C+INC70LjRgdGC0LAiKSkNCiAgICB9DQogICAgLy8gaXMxXzIgPSDQtdGB0LvQuCDQv9C+0LvQtSDQntCa0KLQnNCeINC90LUg0LfQsNC/0L7Qu9C90LXQvdC+INCyINGA0LDQt9C00LXQu9C1IDEuMg0KICAgIGJvb2xlYW4gaXMxXzIgPSBuYWxQVU1lc0ZvdW5kICYmIChva3Rtb05hbFBVTWVzID09IG51bGwgfHwgb2t0bW9OYWxQVU1lcy50cmltKCkuaXNFbXB0eSgpKQ0KICAgIGlmIChva3Rtb05hbFBVQXYgPT0gbnVsbCB8fCBva3Rtb05hbFBVQXYudHJpbSgpLmlzRW1wdHkoKSB8fCBpczFfMikgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXRNZXNzYWdlKCLQn9C+0LTRgNCw0LfQtNC10LsgMS4xIiArIChpczFfMiA/ICIsIDEuMiIgOiAiIiksICLQmtC+0LQg0L/QviDQntCa0KLQnNCeIiwgItCd0LDQu9Cf0KPQkNCyLtCe0JrQotCc0J4iICsgKGlzMV8yID8gIiwg0J3QsNC70J/Qo9Cc0LXRgS7QntCa0KLQnNCeIiA6ICIiKSwgItCe0JrQotCc0J4iKSkNCiAgICB9DQogICAgaWYgKGlubkp1bE5wSnVsID09IG51bGwgfHwgaW5uSnVsTnBKdWwudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXRNZXNzYWdlKCLQotC40YLRg9C70YzQvdGL0Lkg0LvQuNGB0YIiLCAi0JjQndCdINC90LDQu9C+0LPQvtC/0LvQsNGC0LXQu9GM0YnQuNC60LAiLCAi0J3Qn9Cu0Jsu0JjQndCd0K7QmyIsICLQmNCd0J0iKSkNCiAgICB9DQogICAgaWYgKGtwcEp1bE5wSnVsID09IG51bGwgfHwga3BwSnVsTnBKdWwudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXRNZXNzYWdlKCLQotC40YLRg9C70YzQvdGL0Lkg0LvQuNGB0YIiLCAi0JrQn9CfINC90LDQu9C+0LPQvtC/0LvQsNGC0LXQu9GM0YnQuNC60LAiLCAi0J3Qn9Cu0Jsu0JrQn9CfIiwgItCa0J/QnyIpKQ0KICAgIH0NCiAgICBpZiAoa29kTk8gPT0gbnVsbCB8fCBrb2ROTy50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICAgIGxvZ2dlci5sb2cobG9nTGV2ZWwsIGdldE1lc3NhZ2UoItCd0LDQuNC80LXQvdC+0LLQsNC90LjQtSB4bWwg0YTQsNC50LvQsCAo0LrQvtC9LiDQvdCw0LvQvtCz0L7QstGL0Lkg0L7RgNCz0LDQvSkg0Lgg0YLQuNGC0YPQu9GM0L3Ri9C5INC70LjRgdGCIiwgItCa0L7QtCDQvdCw0LvQvtCz0L7QstC+0LPQviDQvtGA0LPQsNC90LAiLCAi0JTQvtC60YPQvNC10L3Rgi7QmtC+0LTQndCeIiwgItCa0L7QtCDQvdCw0LvQvtCz0L7QstC+0LPQviDQvtGA0LPQsNC90LAgKNC60L7QvS4pIikpDQogICAgfQ0KICAgIGlmIChrb2ROT1Byb20gPT0gbnVsbCB8fCBrb2ROT1Byb20udHJpbSgpLmlzRW1wdHkoKSB8fCAibnVsbCIuZXF1YWxzKGtvZE5PUHJvbSkpIHsNCiAgICAgICAgbG9nZ2VyLmxvZyhsb2dMZXZlbCwgZ2V0UHJvbU1lc3NhZ2UoItCa0L7QtCDQvdCw0LvQvtCz0L7QstC+0LPQviDQvtGA0LPQsNC90LAgKNC/0YDQvtC8LikiKSkNCiAgICB9DQogICAgaWYgKG9rdmVkID09IG51bGwgfHwgb2t2ZWQudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXRNZXNzYWdlKCLQotC40YLRg9C70YzQvdGL0Lkg0LvQuNGB0YIiLCAi0JrQvtC0INCy0LjQtNCwINGN0LrQvtC90L7QvNC40YfQtdGB0LrQvtC5INC00LXRj9GC0LXQu9GM0L3QvtGB0YLQuCDQuCDQv9C+INC60LvQsNGB0YHQuNGE0LjQutCw0YLQvtGA0YMg0J7QmtCS0K3QlCIsICLQodCy0J3Qny7QntCa0JLQrdCUIiwgItCa0L7QtCDQstC40LTQsCDRjdC60L7QvdC+0LzQuNGH0LXRgdC60L7QuSDQtNC10Y/RgtC10LvRjNC90L7RgdGC0Lgg0Lgg0L/QviDQutC70LDRgdGB0LjRhNC40LrQsNGC0L7RgNGDINCe0JrQktCt0JQiKSkNCiAgICB9DQogICAgaWYgKChmb3JtUmVvcmcgIT0gbnVsbCAmJiBmb3JtUmVvcmcgIT0gJzAnKSAmJiAoaW5uSnVsU3ZSZW9yZ0p1bCA9PSBudWxsIHx8IGlubkp1bFN2UmVvcmdKdWwudHJpbSgpLmlzRW1wdHkoKSkpIHsNCiAgICAgICAgbG9nZ2VyLmxvZyhsb2dMZXZlbCwgZ2V0UmVvcmdNZXNzYWdlKCLQotC40YLRg9C70YzQvdGL0Lkg0LvQuNGB0YIiLCAi0JjQndCdINGA0LXQvtGA0LPQsNC90LjQt9C+0LLQsNC90L3QvtC5INC+0YDQs9Cw0L3QuNC30LDRhtC40LggKNC+0LHQvtGB0L7QsdC70LXQvdC90L7Qs9C+INC/0L7QtNGA0LDQt9C00LXQu9C10L3QuNGPKSIsICLQodCy0KDQtdC+0YDQs9Cu0Jsu0JjQndCd0K7QmyIsICLQmNCd0J0g0YDQtdC+0YDQs9Cw0L3QuNC30L7QstCw0L3QvdC+0LPQviDQvtCx0L7RgdC+0LHQu9C10L3QvdC+0LPQviDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRjyIpKQ0KICAgIH0NCiAgICBpZiAoKGZvcm1SZW9yZyAhPSBudWxsICYmIGZvcm1SZW9yZyAhPSAnMCcpICYmIChrcHBTdlJlb3JnSnVsID09IG51bGwgfHwga3BwU3ZSZW9yZ0p1bC50cmltKCkuaXNFbXB0eSgpKSkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXRSZW9yZ01lc3NhZ2UoItCi0LjRgtGD0LvRjNC90YvQuSDQu9C40YHRgiIsICLQmtCf0J8g0YDQtdC+0YDQs9Cw0L3QuNC30L7QstCw0L3QvdC+0Lkg0L7RgNCz0LDQvdC40LfQsNGG0LjQuCAo0L7QsdC+0YHQvtCx0LvQtdC90L3QvtCz0L4g0L/QvtC00YDQsNC30LTQtdC70LXQvdC40Y8pIiwgItCh0LLQoNC10L7RgNCz0K7Qmy7QmtCf0J8iLCAi0JrQn9CfINGA0LXQvtGA0LPQsNC90LjQt9C+0LLQsNC90L3QvtCz0L4g0L7QsdC+0YHQvtCx0LvQtdC90L3QvtCz0L4g0L/QvtC00YDQsNC30LTQtdC70LXQvdC40Y8iKSkNCiAgICB9DQogICAgaWYgKHByUG9kcCA9PSBudWxsIHx8IHByUG9kcC50cmltKCkuaXNFbXB0eSgpKSB7DQogICAgICAgIGxvZ2dlci5sb2cobG9nTGV2ZWwsIGdldE1lc3NhZ2UoItCi0LjRgtGD0LvRjNC90YvQuSDQu9C40YHRgiIsICLQn9GA0LjQt9C90LDQuiDQu9C40YbQsCwg0L/QvtC00L/QuNGB0LDQstGI0LXQs9C+INC00L7QutGD0LzQtdC90YIiLCAi0J/QvtC00L/QuNGB0LDQvdGCLtCf0YDQn9C+0LTQvyIsICLQn9GA0LjQt9C90LDQuiDQu9C40YbQsCDQv9C+0LTQv9C40YHQsNCy0YjQtdCz0L4g0LTQvtC60YPQvNC10L3RgiIpKQ0KICAgIH0NCiAgICBpZiAoc2lnbmF0b3J5U3VybmFtZSA9PSBudWxsIHx8IHNpZ25hdG9yeVN1cm5hbWUudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXRNZXNzYWdlKCLQotC40YLRg9C70YzQvdGL0Lkg0LvQuNGB0YIiLCAi0KTQsNC80LjQu9C40Y8iLCAi0J/QvtC00L/QuNGB0LDQvdGCLtCk0LDQvNC40LvQuNGPIiwgItCk0LDQvNC40LvQuNGPINC/0L7QtNC/0LjRgdCw0L3RgtCwIikpDQogICAgfQ0KICAgIGlmIChzaWduYXRvcnlGaXJzdE5hbWUgPT0gbnVsbCB8fCBzaWduYXRvcnlGaXJzdE5hbWUudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXRNZXNzYWdlKCLQotC40YLRg9C70YzQvdGL0Lkg0LvQuNGB0YIiLCAi0JjQvNGPIiwgItCf0L7QtNC/0LjRgdCw0L3Rgi7QmNC80Y8iLCAi0JjQvNGPINC/0L7QtNC/0LjRgdCw0L3RgtCwIikp'
        longString += 'DQogICAgfQ0KICAgIGlmIChwclBvZHAgPT0gJzInICYmIChuYWltRG9rID09IG51bGwgfHwgbmFpbURvay50cmltKCkuaXNFbXB0eSgpKSkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXREb2N1bWVudE1lc3NhZ2UoItCi0LjRgtGD0LvRjNC90YvQuSDQu9C40YHRgiIsICLQndCw0LjQvNC10L3QvtCy0LDQvdC40LUg0LTQvtC60YPQvNC10L3RgtCwLCDQv9C+0LTRgtCy0LXRgNC20LTQsNGO0YnQtdCz0L4g0L/QvtC70L3QvtC80L7Rh9C40Y8g0L/RgNC10LTRgdGC0LDQstC40YLQtdC70Y8iLCAi0KHQstCf0YDQtdC0LtCd0LDQuNC80JTQvtC6IiwgItCd0LDQuNC80LXQvdC+0LLQsNC90LjQtSDQtNC+0LrRg9C80LXQvdGC0LAsINC/0L7QtNGC0LLQtdGA0LbQtNCw0Y7RidC10LPQviDQv9C+0LvQvdC+0LzQvtGH0LjRjyDQv9GA0LXQtNGB0YLQsNCy0LjRgtC10LvRjyIpKQ0KICAgIH0NCiAgICBpZiAocG9NZXN0dSA9PSBudWxsIHx8IHBvTWVzdHUudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXRNZXNzYWdlKCLQotC40YLRg9C70YzQvdGL0Lkg0LvQuNGB0YIiLCAi0JrQvtC0INC80LXRgdGC0LAsINC/0L4g0LrQvtGC0L7RgNC+0LzRgyDQv9GA0LXQtNGB0YLQsNCy0LvRj9C10YLRgdGPINC00L7QutGD0LzQtdC90YIiLCAi0JTQvtC60YPQvNC10L3Rgi7Qn9C+0JzQtdGB0YLRgyIsICLQmtC+0LQg0LzQtdGB0YLQsCwg0L/QviDQutC+0YLQvtGA0L7QvNGDINC/0YDQtdC00YHRgtCw0LLQu9GP0LXRgtGB0Y8g0LTQvtC60YPQvNC10L3RgiIpKQ0KICAgIH0NCiAgICBpZiAoc3Rhdk5hbEZCID09IG51bGwgfHwgc3Rhdk5hbEZCLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgICAgbG9nZ2VyLmxvZyhsb2dMZXZlbCwgZ2V0VGF4UmF0ZU1lc3NhZ2UoItCb0LjRgdGCIDAyICjQoNCw0YHRh9C10YIg0L3QsNC70L7Qs9CwKSIsICLQodGC0LDQstC60LAg0L3QsNC70L7Qs9CwINC90LAg0L/RgNC40LHRi9C70YwsINCyINGE0LXQtNC10YDQsNC70YzQvdGL0Lkg0LHRjtC00LbQtdGCIiwgItCg0LDRgdGH0J3QsNC7LtCh0YLQsNCy0J3QsNC70KTQkSIsICLQodGC0LDQstC60LAg0L3QsNC70L7Qs9CwIikpDQogICAgfQ0KICAgIGlmICh2ZXJzRm9ybSA9PSBudWxsIHx8IHZlcnNGb3JtLnRyaW0oKS5pc0VtcHR5KCkgfHwgIXZlcnNpb24uZXF1YWxzKHZlcnNGb3JtKSkgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCBnZXRWZXJzaW9uTWVzc2FnZSh2ZXJzRm9ybSwgItCk0LDQudC7LtCS0LXRgNGB0KTQvtGA0LwiLCAi0JLQtdGA0YHQuNGPINGE0L7RgNC80LDRgtCwIikpDQogICAgfQ0KDQogICAgLy8g0J/RgNC+0LLQtdGA0LrQuCDQm9C40YHRgtCwIDAyIC0g0J/RgNC10LLRi9GI0LXQvdC40LUg0YHRg9C80LzRiyDQvdCw0LvQvtCz0LAsINCy0YvQv9C70LDRh9C10L3QvdC+0LPQviDQt9CwINC/0YDQtdC00LXQu9Cw0LzQuCDQoNCkICjQstGB0LXQs9C+KQ0KICAgIGlmIChuYWxWaXBsMzExICE9IG51bGwgJiYgbmFsSXNjaGlzbCAhPSBudWxsICYmIG5hbFZpcGwzMTEgPiBuYWxJc2NoaXNsKSB7DQogICAgICAgIGxvZ2dlci5sb2cobG9nTGV2ZWwsICfQodGD0LzQvNCwINC90LDQu9C+0LPQsCwg0LLRi9C/0LvQsNGH0LXQvdC90LDRjyDQt9CwINC/0YDQtdC00LXQu9Cw0LzQuCDQoNCkICjQstGB0LXQs9C+KSDQv9GA0LXQstGL0YjQsNC10YIg0YHRg9C80LzRgyDQuNGB0YfQuNGB0LvQtdC90L3QvtCz0L4g0L3QsNC70L7Qs9CwINC90LAg0L/RgNC40LHRi9C70YwgKNCy0YHQtdCz0L4pIScpDQogICAgfQ0KDQogICAgLy8g0J/RgNC+0LLQtdGA0LrQuCDQm9C40YHRgtCwIDAyIC0g0J/RgNC10LLRi9GI0LXQvdC40LUg0YHRg9C80LzRiyDQvdCw0LvQvtCz0LAsINCy0YvQv9C70LDRh9C10L3QvdC+0LPQviDQt9CwINC/0YDQtdC00LXQu9Cw0LzQuCDQoNCkICjQsiDRhNC10LTQtdGA0LDQu9GM0L3Ri9C5INCx0Y7QtNC20LXRgikNCiAgICBpZiAobmFsVmlwbDMxMUZCICE9IG51bGwgJiYgbmFsSXNjaGlzbEZCICE9IG51bGwgJiYNCiAgICAgICAgICAgIG5hbFZpcGwzMTFGQiA+IG5hbElzY2hpc2xGQikgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCAn0KHRg9C80LzQsCDQvdCw0LvQvtCz0LAsINCy0YvQv9C70LDRh9C10L3QvdCw0Y8g0LfQsCDQv9GA0LXQtNC10LvQsNC80Lgg0KDQpCAo0LIg0YTQtdC00LXRgNCw0LvRjNC90YvQuSDQsdGO0LTQttC10YIpINC/0YDQtdCy0YvRiNCw0LXRgiDRgdGD0LzQvNGDINC40YHRh9C40YHQu9C10L3QvdC+0LPQviDQvdCw0LvQvtCz0LAg0L3QsCDQv9GA0LjQsdGL0LvRjCAo0LIg0YTQtdC00LXRgNCw0LvRjNC90YvQuSDQsdGO0LTQttC10YIpIScpDQogICAgfQ0KDQogICAgLy8g0J/RgNC+0LLQtdGA0LrQuCDQm9C40YHRgtCwIDAyIC0g0J/RgNC10LLRi9GI0LXQvdC40LUg0YHRg9C80LzRiyDQvdCw0LvQvtCz0LAsINCy0YvQv9C70LDRh9C10L3QvdC+0LPQviDQt9CwINC/0YDQtdC00LXQu9Cw0LzQuCDQoNCkICjQsiDQsdGO0LTQttC10YIg0YHRg9Cx0YrQtdC60YLQsCDQoNCkKQ0KICAgIGlmIChuYWxWaXBsMzExU3ViICE9IG51bGwgJiYgbmFsSXNjaGlzbFN1YiAhPSBudWxsICYmDQogICAgICAgICAgICBuYWxWaXBsMzExU3ViID4gbmFsSXNjaGlzbFN1Yikgew0KICAgICAgICBsb2dnZXIubG9nKGxvZ0xldmVsLCAn0KHRg9C80LzQsCDQvdCw0LvQvtCz0LAsINCy0YvQv9C70LDRh9C10L3QvdCw0Y8g0LfQsCDQv9GA0LXQtNC10LvQsNC80Lgg0KDQpCAo0LIg0LHRjtC00LbQtdGCINGB0YPQsdGK0LXQutGC0LAg0KDQpCkg0L/RgNC10LLRi9GI0LDQtdGCINGB0YPQvNC80YMg0LjRgdGH0LjRgdC70LXQvdC90L7Qs9C+INC90LDQu9C+0LPQsCDQvdCwINC/0YDQuNCx0YvQu9GMICjQsiDQsdGO0LTQttC10YIg0YHRg9Cx0YrQtdC60YLQsCDQoNCkKSEnKQ0KICAgIH0NCg0KICAgIC8vINCf0YDQvtCy0LXRgNC60Lgg0J/RgNC40LvQvtC20LXQvdC40Y8g4oSWIDEg0Log0JvQuNGB0YLRgyAwMiAtINCf0YDQtdCy0YvRiNC10L3QuNC1INGB0YPQvNC80Ysg0YHQvtGB0YLQsNCy0LvRj9GO0YnQuNGFINC90LDQtCDQvtCx0YnQuNC8INC/0L7QutCw0LfQsNGC0LXQu9C10LwgKMKr0JLQvdC10YDQtdCw0LvQuNC30LDRhtC40L7QvdC90YvQtSDQtNC+0YXQvtC00YsgKNCy0YHQtdCz0L4pwrspDQogICAgLy8gKNCS0L3QtdCg0LXQsNC70JTQvtGF0J/RgCArINCS0L3QtdCg0LXQsNC70JTQvtGF0KHRgiArINCS0L3QtdCg0LXQsNC70JTQvtGF0JHQtdC30LIgKyDQktC90LXQoNC10LDQu9CU0L7RhdCY0LfQuyArINCS0L3QtdCg0LXQsNC70JTQvtGF0JLQoNCw0YHRhSArINCS0L3QtdCg0LXQsNC70JTQvtGF0KDRi9C90KbQkdCU0JQgKyDQktC90LXQoNC10LDQu9CU0L7RhdCa0L7RgCkgPCDQktC90LXQoNC10LDQu9CU0L7RhdCS0YENCiAgICBpZiAodm5lUmVhbERvaFN0ICE9IG51bGwgJiYgdm5lUmVhbERvaEJlenYgIT0gbnVsbCAmJiB2bmVSZWFsRG9oSXpsICE9IG51bGwgJiYgdm5lUmVhbERvaFZSYXNoICE9IG51bGwgJiYNCiAgICAgICAgICAgIHZuZVJlYWxEb2hSaW5DQkREICE9IG51bGwgJiYgdm5lUmVhbERvaENvciAhPSBudWxsICYmIHZuZVJlYWxEb2hWcyAhPSBudWxsICYmDQogICAgICAgICAgICAoZW1wdHkgKyB2bmVSZWFsRG9oU3QgKyB2bmVSZWFsRG9oQmV6diArDQogICAgICAgICAgICAgICAgICAgIHZuZVJlYWxEb2hJemwgKyB2bmVSZWFsRG9oVlJhc2ggKyB2bmVSZWFsRG9oUmluQ0JERCArDQogICAgICAgICAgICAgICAgICAgIHZuZVJlYWxEb2hDb3IpID4gdm5lUmVhbERvaFZzKSB7DQogICAgICAgIGxvZ2dlci5sb2cobG9nTGV2ZWwsICfQn9C+0LrQsNC30LDRgtC10LvRjCDCq9CS0L3QtdGA0LXQsNC70LjQt9Cw0YbQuNC+0L3QvdGL0LUg0LTQvtGF0L7QtNGLICjQstGB0LXQs9C+KcK7INC80LXQvdGM0YjQtSDRgdGD0LzQvNGLINC10LPQviDRgdC+0YHRgtCw0LLQu9GP0Y7RidC40YUhJykNCiAgICB9DQoNCiAgICAvLyDQn9GA0L7QstC10YDQutC4INCf0YDQuNC70L7QttC10L3QuNGPIOKEliAyINC6INCb0LjRgdGC0YMgMDIgLSDQn9GA0LXQstGL0YjQtdC90LjQtSDRgdGD0LzQvNGLINGB0L7RgdGC0LDQstC70Y/RjtGJ0LjRhSDQvdCw0LQg0L7QsdGJ0LjQvCDQv9C+0LrQsNC30LDRgtC10LvQtdC8ICjCq9Ca0L7RgdCy0LXQvdC90YvQtSDRgNCw0YHRhdC+0LTRiyAo0LLRgdC10LPQvinCuykNCiAgICAvLyDQmtC+0YHQstCg0LDRgdGF0JLRgSA8ICjQndCw0LvQvtCz0LggKyDQoNCw0YHRhdCa0LDQv9CS0LsxMCArINCg0LDRgdGF0JrQsNC/0JLQuzMwICsg0KDQsNGB0YXQotGA0YPQtNCY0L3QsiArINCg0LDRgdGF0J7RgNCz0JjQvdCyICsg0KDQsNGB0YXQl9C10LzQo9GH0JLRgSArINCd0JjQntCa0KApDQogICAgaWYgKGNvc3ZSYXNoVnMgIT0gbnVsbCAmJiBuYWxvZ2kgIT0gbnVsbCAmJiByYXNoQ2FwVmwxMCAhPSBudWxsICYmIHJhc2hDYXBWbDMwICE9IG51bGwgJiYgcmFzaFplbVVjaFZzICE9IG51bGwgJiYNCiAgICAgICAgICAgIGNvc3ZSYXNoVnMgPCAobmFsb2dpICsgcmFzaENhcFZsMTAgKyByYXNoQ2FwVmwzMCArDQogICAgICAgICAgICBlbXB0eSArIGVtcHR5ICsgcmFzaFplbVVjaFZzICsgZW1wdHkpKSB7DQogICAgICAgIGxvZ2dlci5sb2cobG9nTGV2ZWwsICfQn9C+0LrQsNC30LDRgtC10LvRjCDCq9Ca0L7RgdCy0LXQvdC90YvQtSDRgNCw0YHRhdC+0LTRiyAo0LLRgdC10LPQvinCuyDQvNC10L3RjNGI0LUg0YHRg9C80LzRiyDQtdCz0L4g0YHQvtGB0YLQsNCy0LvRj9GO0YnQuNGFIScpDQogICAgfQ0KDQogICAgLy8g0J/RgNC+0LLQtdGA0LrQuCDQn9GA0LjQu9C+0LbQtdC90LjRjyDihJYgMiDQuiDQm9C40YHRgtGDIDAyIC0g0J/RgNC10LLRi9GI0LXQvdC40LUg0YHRg9C80LzRiyDRgdC+0YHRgtCw0LLQu9GP0Y7RidC40YUg0L3QsNC0INC+0LHRidC40Lwg0L/QvtC60LDQt9Cw0YLQtdC70LXQvCAowqvQktC90LXRgNC10LDQu9C40LfQsNGG0LjQvtC90L3Ri9C1INGA0LDRgdGF0L7QtNGLICjQstGB0LXQs9C+KcK7KQ0KICAgIC8vICjQoNCw0YHRhdCS0L3QtdGA0LXQsNC70J/RgNCU0J4gKyDQoNCw0YHRhdCS0L3QtdGA0LXQsNC70KDQt9GA0LIgKyDQo9Cx0YvRgtCg0LXQsNC70J/RgNCw0LLQotGAICsg0KDQsNGB0YXQm9C40LrQstCe0KEgKyDQoNCw0YHRhdCo0YLRgNCw0YQgKyDQoNCw0YHRhdCg0YvQvdCm0JHQlNCUKSA+INCg0LDRgdGF0JLQvdC10KDQtdCw0LvQktGBDQogICAgaWYgKHJhc2hWbmVyZWFsUHJETyAhPSBudWxsICYmIHViaXRSZWFsUHJhdlRyICE9IG51bGwgJiYgcmFzaExpa3ZPUyAhPSBudWxsICYmDQogICAgICAgICAgICByYXNoU2h0cmFmICE9IG51bGwgJiYgcmFzaFJpbkNCREQgIT0gbnVsbCAmJiByYXNoVm5lcmVhbFZzICE9IG51bGwgJiYNCiAgICAgICAgICAgIChyYXNoVm5lcmVhbFByRE8gKyBlbXB0eSArIHViaXRSZWFsUHJhdlRyICsgcmFzaExpa3ZPUyArIHJhc2hTaHRyYWYgKyByYXNoUmluQ0JERCkgPiByYXNoVm5lcmVhbFZzKSB7DQogICAgICAgIGxvZ2dlci5sb2cobG9nTGV2ZWwsICfQn9C+0LrQsNC30LDRgtC10LvRjCDCq9CS0L3QtdGA0LXQsNC70LjQt9Cw0YbQuNC+0L3QvdGL0LUg0YDQsNGB0YXQvtC00YsgKNCy0YHQtdCz0L4pwrsg0LzQtdC90YzRiNC1INGB0YPQvNC80Ysg0LXQs9C+INGB0L7RgdGC0LDQstC70Y/RjtGJ0LjRhSEnKQ0KICAgIH0NCg0KICAgIC8vINCf0YDQvtCy0LXRgNC60Lgg0J/RgNC40LvQvtC20LXQvdC40Y8g4oSWIDMg0Log0JvQuNGB0YLRgyAwMiAtINCf0YDQvtCy0LXRgNC60LAg0L7RgtGA0LjRhtCw0YLQtdC70YzQvdC+0Lkg0YDQsNC30L3QuNGG0YsgKNGD0LHRi9GC0L7Quikg0L7RgiDRgNC10LDQu9C40LfQsNGG0LjQuCDQv9GA0LDQstCwINGC0YDQtdCx0L7QstCw0L3QuNGPDQogICAgLy8g0LTQvtC70LPQsCDQtNC+INC90LDRgdGC0YPQv9C70LXQvdC40Y8g0YHRgNC+0LrQsCDQv9C70LDRgtC10LbQsCwg0L7Qv9GA0LXQtNC10LvQtdC90L3QvtC5INC90LDQu9C+0LPQvtC/0LvQsNGC0LXQu9GM0YnQuNC60L7QvCDQsiDRgdC+0L7RgtCy0LXRgtGB0YLQstC40Lgg0YEg0L8uIDEg0YHRgtCw0YLRjNC4IDI3OSDQndCaDQogICAgLy8g0YHRgtGA0L7QutCwIDEwMCA9INCS0YvRgNGD0YfQoNC10LDQu9Cf0KLQlNC+0KHRgCA9IHZpcnVjaFJlYWxQVERvU3INCiAgICAvLyDRgdGC0YDQvtC60LAgMTIwID0g0KHRgtC+0LjQvNCg0LXQsNC70J/QotCU0L7QodGAID0gc3RvaW1SZWFsUFREb1NyDQogICAgLy8g0YHRgtGA0L7QutCwIDE0MCA9INCj0LHRi9GCMdCh0L7QvtGCMjY5CT0gdWJpdDFTb290MjY5DQogICAgLy8g0YHRgtGA0L7QutCwIDE1MCA9INCj0LHRi9GCMdCf0YDQtdCyMjY5CT0gdWJpdDFQcmV2MjY5DQogICAgaWYgKHN0b2ltUmVhbFBURG9TciAhPSBudWxsICYmIHZpcnVjaFJlYWxQVERvU3IgIT0gbnVsbCAmJiB1Yml0MVByZXYyNjkgIT0gbnVsbCAmJiB1Yml0MVNvb3QyNjkgIT0gbnVsbCAmJg0KICAgICAgICAgICAgKHN0b2ltUmVhbFBURG9TciA+IHZpcnVjaFJlYWxQVERvU3IgPw0KICAgICAgICAgICAgICAgICAgICAodWJpdDFQcmV2MjY5ICE9IHN0b2ltUmVhbFBURG9TciAtIHZpcnVjaFJlYWxQVERvU3IgLSB1Yml0MVNvb3QyNjkpDQogICAgICAgICAgICAgICAgICAgIDogKHViaXQxUHJldjI2OSAhPSAwKSkpIHsNCiAgICAgICAgbG9nZ2VyLndhcm4oJ9CSINCf0YDQuNC70L7QttC10L3QuNC4IDMg0Log0JvQuNGB0YLRgyAwMiDRgdGC0YDQvtC60LAgMTUwINC90LXQstC10YDQvdC+INGD0LrQsNC30LDQvdCwINGB0YPQvNC80LAhJykNCiAgICB9DQoNCiAgICAvLyDQn9GA0L7QstC10YDQutC4INCf0YDQuNC70L7QttC10L3QuNGPIOKEliAzINC6INCb0LjRgdGC0YMgMDIgLSDQn9GA0L7QstC10YDQutCwINC+0YLRgNC40YbQsNGC0LXQu9GM0L3QvtC5INGA0LDQt9C90LjRhtGLICjRg9Cx0YvRgtC+0LopLCDQv9C+0LvRg9GH0LXQvdC90L7QuSDQvdCw0LvQvtCz0L7Qv9C70LDRgtC10LvRjNGJ0LjQutC+0LwNCiAgICAvLyDQv9GA0Lgg0YPRgdGC0YPQv9C60LUg0L/RgNCw0LLQsCDRgtGA0LXQsdC+0LLQsNC90LjRjyDQtNC+0LvQs9CwINC/0L7RgdC70LUg0L3QsNGB0YLRg9C/0LvQtdC90LjRjyDRgdGA0L7QutCwINC/0LvQsNGC0LXQttCwINCyINGB0L7QvtGC0LLQtdGC0YHRgtCy0LjQuCDRgSDQvy4gMiDRgdGC0LDRgtGM0LggMjc5INCd0JoNCiAgICAvLyDRg9C00LDQu9C10L3QsCDRgSAyMDE1INCz0L7QtNCwDQp9DQoNClN0cmluZyBnZXRNZXNzYWdlKFN0cmluZyBwbGFjZSwgU3RyaW5nIHByaW50TmFtZSwgU3RyaW5nIHhtbE5hbWUsIFN0cmluZyBkZXBhcnRtZW50TmFtZSkgew0KICAgIHJldHVybiBTdHJpbmcuZm9ybWF0KCIlcy4g0J7QsdGP0LfQsNGC0LXQu9GM0L3Ri9C5INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyDQsNGC0YDQuNCx0YPRgiDCqyVzwrsgKCVzKSDQvdC1INC30LDQv9C+0LvQvdC10L0hINCd0LAg0LzQvtC80LXQvdGCINGA0LDRgdGH0ZHRgtCwINGN0LrQt9C10LzQv9C70Y/RgNCwINC00LXQutC70LDRgNCw0YbQuNC4ICjRhNC+0YDQvNC40YDQvtCy0LDQvdC40LUgWE1MKSDQvdCwINGE0L7RgNC80LUg0L3QsNGB0YLRgNC+0LXQuiDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRjyDQvtGC0YHRg9GC0YHRgtCy0L7QstCw0LvQviDQt9C90LDRh9C10L3QuNC1INCw0YLRgNC40LHRg9GC0LAgwqslc8K7LiIsDQogICAgICAgICAgICBwbGFjZSwgcHJpbnROYW1lLCB4bWxOYW1lLCBkZXBhcnRtZW50TmFtZSkNCn0NCg0KU3RyaW5nIGdldFByb21NZXNzYWdlKFN0cmluZyBkZXBhcnRtZW50TmFtZSkgew0KICAgIHJldHVybiBTdHJpbmcuZm9ybWF0KCLQntCx0Y/Qt9Cw0YLQtdC70YzQvdGL0Lkg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPINCw0YLRgNC40LHRg9GCIMKrJXPCuyDQsiDQvdCw0LjQvNC10L3QvtCy0LDQvdC40LggeG1sINGE0LDQudC70LAg0L3QtSDQt9Cw0L/QvtC70L3QtdC9ISDQndCwINC80L7QvNC10L3RgiDRgNCw0YHRh9GR0YLQsCDRjdC60LfQtdC80L/Qu9GP0YDQsCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAo0YTQvtGA0LzQuNGA0L7QstCw0L3QuNC1IFhNTCkg0L3QsCDRhNC+0YDQvNC1INC90LDRgdGC0YDQvtC10Log0L/QvtC00YDQsNC30LTQtdC70LXQvdC40Y8g0L7RgtGB0YPRgtGB0YLQstC+0LLQsNC70L4g0LfQvdCw0YfQtdC90LjQtSDQsNGC0YDQuNCx0YPRgtCwIMKrJXPCuy4iLA0KICAgICAgICAgICAgZGVwYXJ0bWVudE5hbWUsIGRlcGFydG1lbnROYW1lKQ0KfQ0KDQpTdHJpbmcgZ2V0VGF4UmF0ZU1lc3NhZ2UoU3RyaW5nIHBsYWNlLCBTdHJpbmcgcHJpbnROYW1lLCBTdHJpbmcgeG1sTmFtZSwgU3RyaW5nIGRlcGFydG1lbnROYW1lKSB7DQogICAgcmV0dXJuIFN0cmluZy5mb3JtYXQoIiVzLiDQkNGC0YDQuNCx0YPRgiDCqyVzwrsgKCVzKSDQt9Cw0L/QvtC70L3QtdC9INC30L3QsNGH0LXQvdC40LXQvCDCqzDCuyEg0J3QsCDQvNC+0LzQtdC90YIg0YDQsNGB0YfRkdGC0LAg0Y3QutC30LXQvNC/0LvRj9GA0LAg0LTQtdC60LvQsNGA0LDRhtC40LggKNGE0L7RgNC80LjRgNC+0LLQsNC90LjQtSBYTUwpINC90LAg0YTQvtGA0LzQtSDQvdCw0YHRgtGA0L7QtdC6INC/0L7QtNGA0LDQt9C00LXQu9C10L3QuNGPINC30L3QsNGH0LXQvdC40LUg0LDRgtGA0LjQsdGD0YLQsCDCqyVzwrsg0L7RgtGB0YPRgtGB0YLQstC+0LLQsNC70L4g0LvQuNCx0L4g0LHRi9C70L4g0YDQsNCy0L3QviDQt9C90LDRh9C10L3QuNGOIMKrMMK7LiIsDQogICAgICAgICAgICBwbGFjZSwgcHJpbnROYW1lLCB4bWxOYW1lLCBkZXBhcnRtZW50TmFtZSkNCn0NCg0KU3RyaW5nIGdldFZlcnNpb25NZXNzYWdlKFN0cmluZyB2YWx1ZSwgU3RyaW5nIHhtbE5hbWUsIFN0cmluZyBkZXBhcnRtZW50TmFtZSkgew0KICAgIHJldHVybiBTdHJpbmcuZm9ybWF0KCLQntCx0Y/Qt9Cw0YLQtdC70YzQvdGL0Lkg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPINCw0YLRgNC40LHRg9GCIMKrJXPCuyAoJXMpINC30LDQv9C+0LvQvdC10L0g0L3QtdCy0LXRgNC90L4gKCVzKSEg0J7QttC40LTQsNC10LzQvtC1INC30L3QsNGH0LXQvdC40LUgwqskdmVyc2lvbsK7LiDQndCwINC80L7QvNC10L3RgiDRgNCw0YHRh9GR0YLQsCDRjdC60LfQtdC80L/Qu9GP0YDQsCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAo0YTQvtGA0LzQuNGA0L7QstCw0L3QuNC1IFhNTCkg0L3QsCDRhNC+0YDQvNC1INC90LDRgdGC0YDQvtC10Log0L/QvtC00YDQsNC30LTQtdC70LXQvdC40Y8g0LHRi9C70L4g0YPQutCw0LfQsNC90L4g0L3QtdCy0LXRgNC90L7QtSDQt9C90LDRh9C10L3QuNC1INCw0YLRgNC40LHRg9GC0LAgwqslc8K7LiIsDQogICAgICAgICAgICBkZXBhcnRtZW50TmFtZSwgeG1sTmFtZSwgdmFsdWU/OifQv9GD0YHRgtC+0LUg0LfQvdCw0YfQtdC90LjQtScsIGRlcGFydG1lbnROYW1lKQ0KfQ0KDQpTdHJpbmcgZ2V0UmVvcmdNZXNzYWdlKFN0cmluZyBwbGFjZSwgU3RyaW5nIHByaW50TmFtZSwgU3RyaW5nIHhtbE5hbWUsIFN0cmluZyBkZXBhcnRtZW50TmFtZSkgew0KICAgIHJldHVybiBTdHJpbmcuZm9ybWF0KCIlcy4g0KPRgdC70L7QstC90L4g0L7QsdGP0LfQsNGC0LXQu9GM0L3Ri9C5INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyAo0LfQsNC/0L7Qu9C90LXQvSDQutC+0LQg0YTQvtGA0LzRiyDRgNC10L7RgNCz0LDQvdC40LfQsNGG0LjQuCkg0LDRgtGA0LjQsdGD0YIgwqslc8K7ICglcykg0L3QtSDQt9Cw0L/QvtC70L3QtdC9ISDQndCwINC80L7QvNC10L3RgiDRgNCw0YHRh9GR0YLQsCDRjdC60LfQtdC80L/Qu9GP0YDQsCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAo0YTQvtGA0LzQuNGA0L7QstCw0L3QuNC1IFhNTCkg0L3QsCDRhNC+0YDQvNC1INC90LDRgdGC0YDQvtC10Log0L/QvtC00YDQsNC30LTQtdC70LXQvdC40Y8g0L7RgtGB0YPRgtGB0YLQstC+0LLQsNC70L4g0LfQvdCw0YfQtdC90LjQtSDQsNGC0YDQuNCx0YPRgtCwIMKrJXPCuy4iLA0KICAgICAgICAgICAgcGxhY2UsIHByaW50TmFtZSwgeG1sTmFtZSwgZGVwYXJ0bWVudE5hbWUpDQp9DQoNClN0cmluZyBnZXREb2N1bWVudE1lc3NhZ2UoU3RyaW5nIHBsYWNlLCBTdHJpbmcgcHJpbnROYW1lLCBTdHJpbmcgeG1sTmFtZSwgU3RyaW5nIGRlcGFydG1lbnROYW1lKSB7DQogICAgcmV0dXJuIFN0cmluZy5mb3JtYXQoIiVzLiDQo9GB0LvQvtCy0L3QviDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGL0Lkg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPICjQn9GA0LjQt9C90LDQuiDQu9C40YbQsCwg0L/QvtC00L/QuNGB0LDQstGI0LXQs9C+INC00L7QutGD0LzQtdC90YIgPSAyKSDQsNGC0YDQuNCx0YPRgiDCqyVzwrsgKCVzKSDQvdC1INC30LDQv9C+0LvQvdC10L0hINCd0LAg0LzQvtC80LXQvdGCINGA0LDRgdGH0ZHRgtCwINGN0LrQt9C10LzQv9C70Y/RgNCwINC00LXQutC70LDRgNCw0YbQuNC4ICjRhNC+0YDQvNC40YDQvtCy0LDQvdC40LUgWE1MKSDQvdCwINGE0L7RgNC80LUg0L3QsNGB0YLRgNC+0LXQuiDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRjyDQvtGC0YHRg9GC0YHRgtCy0L7QstCw0LvQviDQt9C90LDRh9C10L3QuNC1INCw0YLRgNC40LHRg9GC0LAgwqslc8K7LiIsDQogICAgICAgICAgICBwbGFjZSwgcHJpbnROYW1lLCB4bWxOYW1lLCBkZXBhcnRtZW50TmFtZSkNCn0NCg0KLy8g0JfQsNC/0YPRgdC6INCz0LXQvdC10YDQsNGG0LjQuCBYTUwuDQp2b2lkIGdlbmVyYXRlWE1MKCkgew0KDQogICAgZGVmIGVtcHR5ID0gMA0KDQogICAgZGVmIGtuZCA9ICcxMTUxMDA2Jw0KICAgIGRlZiBrYmsgPSAnMTgyMTAxMDEwMTEwMTEwMDAxMTAnDQogICAgZGVmIGtiazIgPSAnMTgyMTAxMDEwMTIwMjEwMDAxMTAnDQogICAgZGVmIHR5cGVOUCA9ICcxJw0KDQogICAgZGVmIGRlcGFydG1lbnRJZCA9IGRlY2xhcmF0aW9uRGF0YS5kZXBhcnRtZW50SWQNCiAgICBkZWYgcmVwb3J0UGVyaW9kSWQgPSBkZWNsYXJhdGlvbkRhdGEucmVwb3J0UGVyaW9kSWQNCg0KICAgIC8vINCf0LDRgNCw0LzQtdGC0YDRiyDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRjw0KICAgIGRlZiBpbmNvbWVQYXJhbXMgPSBnZXREZXBhcnRtZW50UGFyYW0oKQ0KICAgIGRlZiBpbmNvbWVQYXJhbXNUYWJsZSA9IGdldERlcGFydG1lbnRQYXJhbVRhYmxlKGluY29tZVBhcmFtcy5yZWNvcmRfaWQudmFsdWUpDQoNCiAgICBkZWYgcmVvcmdGb3JtQ29kZSA9IGdldFJlZkJvb2tWYWx1ZSg1LCBpbmNvbWVQYXJhbXNUYWJsZT8uUkVPUkdfRk9STV9DT0RFPy52YWx1ZSk/LkNPREU/LnZhbHVlDQogICAgZGVmIHRheE9yZ2FuQ29kZSA9IGluY29tZVBhcmFtc1RhYmxlPy5UQVhfT1JHQU5fQ09ERT8udmFsdWUNCiAgICBkZWYgdGF4T3JnYW5Db2RlUHJvbSA9IHVzZVRheE9yZ2FuQ29kZVByb20oKSA/IGluY29tZVBhcmFtc1RhYmxlPy5UQVhfT1JHQU5fQ09ERV9QUk9NPy52YWx1ZSA6IHRheE9yZ2FuQ29kZQ0KICAgIGRlZiBva3ZlZENvZGUgPSBnZXRSZWZCb29rVmFsdWUoMzQsIGluY29tZVBhcmFtc1RhYmxlPy5PS1ZFRF9DT0RFPy52YWx1ZSk/LkNPREU/LnZhbHVlDQogICAgZGVmIHBob25lID0gaW5jb21lUGFyYW1zVGFibGU/LlBIT05FPy52YWx1ZQ0KICAgIGRlZiBuYW1lID0gaW5jb21lUGFyYW1zVGFibGU/Lk5BTUU/LnZhbHVlDQogICAgZGVmIGlubiA9IGluY29tZVBhcmFtcz8uSU5OPy52YWx1ZQ0KICAgIGRlZiBrcHAgPSBkZWNsYXJhdGlvbkRhdGEua3BwDQogICAgZGVmIHJlb3JnSW5uID0gaW5jb21lUGFyYW1zVGFibGU/LlJFT1JHX0lOTj8udmFsdWUNCiAgICBkZWYgcmVvcmdLcHAgPSBpbmNvbWVQYXJhbXNUYWJsZT8uUkVPUkdfS1BQPy52YWx1ZQ0KICAgIGRlZiBva3RtbyA9IGdldFJlZkJvb2tWYWx1ZSg5NiwgaW5jb21lUGFyYW1zVGFibGU/Lk9LVE1PPy52YWx1ZSk/LkNPREU/LnZhbHVlPy5zdWJzdHJpbmcoMCw4KQ0KICAgIGRlZiBzaWduYXRvcnlJZCA9IGdldFJlZkJvb2tWYWx1ZSgzNSwgaW5jb21lUGFyYW1zVGFibGU/LlNJR05BVE9SWV9JRD8udmFsdWUpPy5DT0RFPy52YWx1ZQ0KICAgIGRlZiB0YXhSYXRlID0gaW5jb21lUGFyYW1zPy5UQVhfUkFURT8udmFsdWUgPzogMA0KICAgIGRlZiBmb3JtYXRWZXJzaW9uID0gaW5jb21lUGFyYW1zPy5GT1JNQVRfVkVSU0lPTj8udmFsdWUNCiAgICBkZWYgdGF4UGxhY2VUeXBlQ29kZSA9IGdldFJlZkJvb2tWYWx1ZSgyLCBpbmNvbWVQYXJhbXNUYWJsZT8uVEFYX1BMQUNFX1RZUEVfQ09ERT8udmFsdWUpPy5DT0RFPy52YWx1ZQ0KICAgIGRlZiBzaWduYXRvcnlTdXJuYW1lID0gaW5jb21lUGFyYW1zVGFibGU/LlNJR05BVE9SWV9TVVJOQU1FPy52YWx1ZQ0KICAgIGRlZiBzaWduYXRvcnlGaXJzdE5hbWUgPSBpbmNvbWVQYXJhbXNUYWJsZT8uU0lHTkFUT1JZX0ZJUlNUTkFNRT8udmFsdWUNCiAgICBkZWYgc2lnbmF0b3J5TGFzdE5hbWUgPSBpbmNvbWVQYXJhbXNUYWJsZT8uU0lHTkFUT1JZX0xBU1ROQU1FPy52YWx1ZQ0KICAgIGRlZiBhcHByb3ZlRG9jTmFtZSA9IGluY29tZVBhcmFtc1RhYmxlPy5BUFBST1ZFX0RPQ19OQU1FPy52YWx1ZQ0KICAgIGRlZiBhcHByb3ZlT3JnTmFtZSA9IGluY29tZVBhcmFtc1RhYmxlPy5BUFBST1ZFX09SR19OQU1FPy52YWx1ZQ0KDQogICAgLy8g0J7RgtGH0ZHRgtC90YvQuSDQv9C10YDQuNC+0LQuDQogICAgZGVmIHJlcG9ydFBlcmlvZCA9IHJlcG9ydFBlcmlvZFNlcnZpY2UuZ2V0KHJlcG9ydFBlcmlvZElkKQ0KDQogICAgLyoqINCf0YDQtdC00YvQtNGD0YnQuNC5INC+0YLRh9GR0YLQvdGL0Lkg0L/QtdGA0LjQvtC0LiAqLw0KICAgIGRlZiBwcmV2UmVwb3J0UGVyaW9kID0gcmVwb3J0UGVyaW9kU2VydmljZS5nZXRQcmV2UmVwb3J0UGVyaW9kKHJlcG9ydFBlcmlvZElkKQ0KDQogICAgLyoqIFhNTCDQtNC10LrQu9Cw0YDQsNGG0LjQuCDQt9CwINC/0YDQtdC00YvQtNGD0YnQuNC5INC+0YLRh9C10YLQvdGL0Lkg0L/QtdGA0LjQvtC0LiAqLw0KICAgIGRlZiByZWFkZXJPbGQgPSBnZXRYbWxTdHJlYW1SZWFkZXIocHJldlJlcG9ydFBlcmlvZD8uaWQsIGRlcGFydG1lbnRJZCwgZmFsc2UsIHRydWUpDQoNCiAgICAvKiog0J3QsNC70JLRi9C/0LszMTHQpNCRINC30LAg0L/RgNC10LTRi9C00YPRidC40Lkg0L7RgtGH0LXRgtC90YvQuSDQv9C10YDQuNC+0LQuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMjUwLiAqLw0KICAgIGRlZiBuYWxWaXBsMzExRkJPbGQgPSAwDQogICAgLyoqINCd0LDQu9CS0YvQv9C7MzEx0KHRg9CxINC30LAg0L/RgNC10LTRi9C00YPRidC40Lkg0L7RgtGH0LXRgtC90YvQuSDQv9C10YDQuNC+0LQuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMjYwLiAqLw0KICAgIGRlZiBuYWxWaXBsMzExU3ViT2xkID0gMA0KICAgIC8qKiDQndCw0LvQmNGB0YfQuNGB0LvQpNCRLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDE5MC4gKi8NCiAgICBkZWYgbmFsSXNjaGlzbEZCT2xkID0gMA0KICAgIC8qKiDQndCw0LvQmNGB0YfQuNGB0LvQodGD0LEuINCh0YLQvtC70LHQtdGGIMKr0KHRg9C80LzQsCDQvdCw0LvQvtCz0LDCuy4gKi8NCiAgICBkZWYgbmFsSXNjaGlzbFN1Yk9sZCA9IDANCiAgICAvKiog0JDQstCf0LvQsNGC0JzQtdGB0KHRg9CxLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDMxMC4gKi8NCiAgICBkZWYgYXZQbGF0TWVzU3ViT2xkID0gMA0KICAgIC8qKiDQkNCy0J3QsNGH0LjRgdC70KHRg9CxLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDIzMC4g0KHRgtC+0LvQsdC10YYgwqvQndCw0YfQuNGB0LvQtdC90L4g0L3QsNC70L7Qs9CwINCyINCx0Y7QtNC20LXRgiDRgdGD0LHRitC10LrRgtCwINCg0KQuINCg0LDRgdGH0ZHRgtC90YvQuSBbMDgwXcK7LiAqLw0KICAgIGRlZiBhdk5hY2hpc2xTdWJPbGQgPSAwDQogICAgLyoqINCQ0LLQn9C70LDRgtCc0LXRgdCk0JEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMzAwLiAqLw0KICAgIGRlZiBhdlBsYXRNZXNGQk9sZCA9IDANCg0KICAgIGRlZiBuYWxEaXZOZVJGUHJlZE9sZE1hcCA9IFs6XQ0KICAgIGRlZiBuYWxEaXZOZVJGT2xkTWFwID0gWzpdDQogICAgZGVmIG5hbE5hY2hpc2xQcmVkT2xkTWFwID0gWzpdDQogICAgZGVmIG5hbE5hY2hpc2xQb3NsT2xkTWFwID0gWzpdDQogICAgaWYgKHJlYWRlck9sZCAhPSBudWxsKSB7DQogICAgICAgIGRlZiBlbGVtZW50cyA9IFs6XQ0KICAgICAgICBkZWYgcmFzY2hOYWxGb3VuZCA9IGZhbHNlDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICB3aGlsZShyZWFkZXJPbGQuaGFzTmV4dCgpKSB7DQogICAgICAgICAgICAgICAgaWYgKHJlYWRlck9sZC5zdGFydEVsZW1lbnQpew0KICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1tyZWFkZXJPbGQubmFtZS5sb2NhbFBhcnRdID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICBpZiAoIXJhc2NoTmFsRm91bmQgJiYgaXNDdXJyZW50Tm9kZShbJ9CU0L7QutGD0LzQtdC90YInLCAn0J/RgNC40LHRi9C70YwnLCAn0KDQsNGB0YfQndCw0LsnXSwgZWxlbWVudHMpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByYXNjaE5hbEZvdW5kID0gdHJ1ZSAvLyDRh9GC0L7QsdGLINCy0YLQvtGA0L7QuSDRgNCw0Lcg0L3QtSDQuNGB0LrQsNC7DQogICAgICAgICAgICAgICAgICAgICAgICBuYWxWaXBsMzExRkJPbGQgPSBnZXRYbWxEZWNpbWFsKHJlYWRlck9sZCwgItCd0LDQu9CS0YvQv9C7MzEx0KTQkSIpID86IDANCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbFZpcGwzMTFTdWJPbGQgPSBnZXRYbWxEZWNpbWFsKHJlYWRlck9sZCwgItCd0LDQu9CS0YvQv9C7MzEx0KHRg9CxIikgPzogMA0KICAgICAgICAgICAgICAgICAgICAgICAgbmFsSXNjaGlzbEZCT2xkID0gZ2V0WG1sRGVjaW1hbChyZWFkZXJPbGQsICLQndCw0LvQmNGB0YfQuNGB0LvQpNCRIikgPzogMA0KICAgICAgICAgICAgICAgICAgICAgICAgbmFsSXNjaGlzbFN1Yk9sZCA9IGdldFhtbERlY2ltYWwocmVhZGVyT2xkLCAi0J3QsNC70JjRgdGH0LjRgdC70KHRg9CxIikgPzogMA0KICAgICAgICAgICAgICAgICAgICAgICAgYXZQbGF0TWVzU3ViT2xkID0gZ2V0WG1sRGVjaW1hbChyZWFkZXJPbGQsICLQkNCy0J/Qu9Cw0YLQnNC10YHQodGD0LEiKSA/OiAwDQogICAgICAgICAgICAgICAgICAgICAgICBhdk5hY2hpc2xTdWJPbGQgPSBnZXRYbWxEZWNpbWFsKHJlYWRlck9sZCwgItCQ0LLQndCw0YfQuNGB0LvQodGD0LEiKSA/OiAwDQogICAgICAgICAgICAgICAgICAgICAgICBhdlBsYXRNZXNGQk9sZCA9IGdldFhtbERlY2ltYWwocmVhZGVyT2xkLCAi0JDQstCf0LvQsNGC0JzQtdGB0KTQkSIpID86IDANCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0N1cnJlbnROb2RlKFsn0JTQvtC60YPQvNC10L3RgicsICfQn9GA0LjQsdGL0LvRjCcsICfQndCw0LvQlNC+0YXQodGC0LDQsiddLCBlbGVtZW50cykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGludCB2aWREb2hvZCA9IGdldFhtbERlY2ltYWwocmVhZGVyT2xkLCAi0JLQuNC00JTQvtGF0L7QtCIpPy5pbnRWYWx1ZSgpID86IDANCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbERpdk5lUkZQcmVkT2xkTWFwW3ZpZERvaG9kXSA9IGdldFhtbERlY2ltYWwocmVhZGVyT2xkLCAn0J3QsNC70JTQuNCy0J3QtdCg0KTQn9GA0LXQtCcpID86IDANCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbERpdk5lUkZPbGRNYXBbdmlkRG9ob2RdID0gZ2V0WG1sRGVjaW1hbChyZWFkZXJPbGQsICfQndCw0LvQlNC40LLQndC10KDQpCcpID86IDANCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbE5hY2hpc2xQcmVkT2xkTWFwW3ZpZERvaG9kXSA9IGdldFhtbERlY2ltYWwocmVhZGVyT2xkLCAn0J3QsNC70J3QsNGH0LjRgdC70J/RgNC10LQnKSA/OiAwDQogICAgICAgICAgICAgICAgICAgICAgICBuYWxOYWNoaXNsUG9zbE9sZE1hcFt2aWREb2hvZF0gPSBnZXRYbWxEZWNpbWFsKHJlYWRlck9sZCwgJ9Cd0LDQu9Cd0LDRh9C40YHQu9Cf0L7RgdC7JykgPzogMA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChyZWFkZXJPbGQuZW5kRWxlbWVudCl7DQogICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW3JlYWRlck9sZC5uYW1lLmxvY2FsUGFydF0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZWFkZXJPbGQubmV4dCgpDQogICAgICAgICAgICB9DQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICByZWFkZXJPbGQuY2xvc2UoKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8g0J3QsNC70L7Qs9C+0LLRi9C5INC/0LXRgNC40L7QtC4NCiAgICBkZWYgdGF4UGVyaW9kID0gKHJlcG9ydFBlcmlvZCAhPSBudWxsID8gdGF4UGVyaW9kU2VydmljZS5nZXQocmVwb3J0UGVyaW9kLmdldFRheFBlcmlvZCgpLmdldElkKCkpIDogbnVsbCkNCg0KICAgIC8qKiDQn9GA0LjQt9C90LDQuiDQvdCw0LvQvtCz0L7QstGL0Lkg0LvQuCDRjdGC0L4g0L/QtdGA0LjQvtC0LiAqLw0KICAgIGRlZiBpc1RheFBlcmlvZCA9IChyZXBvcnRQZXJpb2QgIT0gbnVsbCAmJiByZXBvcnRQZXJpb2Qub3JkZXIgPT0gNCkNCg0KICAgIC8qKiDQn9GA0LjQt9C90LDQuiDQv9C10YDQstGL0Lkg0LvQuCDRjdGC0L4g0L7RgtGH0LXRgtC90YvQuSDQv9C10YDQuNC+0LQuICovDQogICAgZGVmIGlzRmlyc3RQZXJpb2QgPSAocmVwb3J0UGVyaW9kICE9IG51bGwgJiYgcmVwb3J0UGVyaW9kLm9yZGVyID09IDEpDQoNCiAgICAvKiog0J/RgNC40L3Rj9GC0LDRjyDQtNC10LrQu9Cw0YDQsNGG0LjRjyDQt9CwINC/0LXRgNC40L7QtCDCqzkg0LzQtdGB0Y/RhtC10LLCuyDQv9GA0LXQtNGL0LTRg9GJ0LXQs9C+INC90LDQu9C+0LPQvtCy0L7Qs9C+INC/0LXRgNC40L7QtNCwLiAqLw0KICAgIGRlZiByZWFkZXI5bW9udGggPSBudWxsDQogICAgLyoqINCY0YHQv9C+0LvRjNC30YPQtdC80YvQtSDQv9C+0LvRjyDQtNC10LrQu9Cw0YDQsNGG0LjQuCDQt9CwINC/0LXRgNC40L7QtCDCqzkg0LzQtdGB0Y/RhtC10LLCuyDQv9GA0LXQtNGL0LTRg9GJ0LXQs9C+INC90LDQu9C+0LPQvtCy0L7Qs9C+INC/0LXRgNC40L7QtNCwLiAqLw0KICAgIC8qKiDQkNCy0J/Qu9Cw0YLQo9C/0Lsx0JrQstCk0JEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMzMwLiAqLw0KICAgIGRlZiBhdlBsYXRVcGwxQ3ZGQjltb250aCA9IDANCiAgICAvKiog0JDQstCf0LvQsNGC0KPQv9C7MdCa0LLQodGD0LEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMzQwLiAqLw0KICAgIGRlZiBhdlBsYXRVcGwxQ3ZTdWJCOW1vbnRoID0gMA0KDQogICAgaWYgKGlzRmlyc3RQZXJpb2QpIHsNCiAgICAgICAgcmVhZGVyOW1vbnRoID0gZ2V0WG1sU3RyZWFtUmVhZGVyKGdldFJlcG9ydFBlcmlvZDltb250aChwcmV2UmVwb3J0UGVyaW9kKT8uaWQsIGRlcGFydG1lbnRJZCwgdHJ1ZSwgdHJ1ZSkNCiAgICAgICAgaWYgKHJlYWRlcjltb250aCAhPSBudWxsKSB7DQogICAgICAgICAgICBkZWYgZWxlbWVudHMgPSBbOl0NCiAgICAgICAgICAgIGRlZiByYXNjaE5hbEZvdW5kID0gZmFsc2UNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlcjltb250aC5oYXNOZXh0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWRlcjltb250aC5zdGFydEVsZW1lbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW3JlYWRlcjltb250aC5uYW1lLmxvY2FsUGFydF0gPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJhc2NoTmFsRm91bmQgJiYgaXNDdXJyZW50Tm9kZShbJ9CU0L7QutGD0LzQtdC90YInLCAn0J/RgNC40LHRi9C70YwnLCAn0KDQsNGB0YfQndCw0LsnXSwgZWxlbWVudHMpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFzY2hOYWxGb3VuZCA9IHRydWUgLy8g0YfRgtC+0LHRiyDQstGC0L7RgNC+0Lkg0YDQsNC3INC90LUg0LjRgdC60LDQuw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2UGxhdFVwbDFDdkZCOW1vbnRoID0gZ2V0WG1sRGVjaW1hbChyZWFkZXI5bW9udGgsICLQkNCy0J/Qu9Cw0YLQo9C/0Lsx0JrQstCk0JEiKSA/OiBCaWdEZWNpbWFsLlpFUk8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdlBsYXRVcGwxQ3ZTdWJCOW1vbnRoID0gZ2V0WG1sRGVjaW1hbChyZWFkZXI5bW9udGgsICLQkNCy0J/Qu9Cw0YLQo9C/0Lsx0JrQstCh0YPQsSIpID86IEJpZ0RlY2ltYWwuWkVSTw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChyZWFkZXI5bW9udGguZW5kRWxlbWVudCl7DQogICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1tyZWFkZXI5bW9udGgubmFtZS5sb2NhbFBhcnRdID0gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZWFkZXI5bW9udGgubmV4dCgpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgICAgICByZWFkZXI5bW9udGguY2xvc2UoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8g0JTQ'
        longString += 'sNC90L3Ri9C1INC90LDQu9C+0LPQvtCy0YvRhSDRhNC+0YDQvC4NCg0KICAgIGRlZiBmb3JtRGF0YUNvbGxlY3Rpb24gPSBkZWNsYXJhdGlvblNlcnZpY2UuZ2V0QWNjZXB0ZWRGb3JtRGF0YVNvdXJjZXMoZGVjbGFyYXRpb25EYXRhLCB1c2VySW5mbywgbG9nZ2VyKQ0KDQogICAgLyoqINCU0L7RhdC+0LTRiyDRgdC70L7QttC90YvQtSDRg9GA0L7QstC90Y8g0JHQsNC90LrQsCAi0KHQstC+0LTQvdCw0Y8g0YTQvtGA0LzQsCDQvdCw0YfQuNGB0LvQtdC90L3Ri9GFINC00L7RhdC+0LTQvtCyIi4gKi8NCiAgICBkZWYgZGF0YVJvd3NDb21wbGV4SW5jb21lID0gZ2V0RGF0YVJvd3MoZm9ybURhdGFDb2xsZWN0aW9uLCAzMDIpDQoNCiAgICAvKiog0JTQvtGF0L7QtNGLINC/0YDQvtGB0YLRi9C1INGD0YDQvtCy0L3RjyDQkdCw0L3QutCwICLQoNCw0YHRiNC40YTRgNC+0LLQutCwINCy0LjQtNC+0LIg0LTQvtGF0L7QtNC+0LIsINGD0YfQuNGC0YvQstCw0LXQvNGL0YUg0LIg0L/RgNC+0YHRgtGL0YUg0KDQndCjIi4gKi8NCiAgICBkZWYgZGF0YVJvd3NTaW1wbGVJbmNvbWUgPSBnZXREYXRhUm93cyhmb3JtRGF0YUNvbGxlY3Rpb24sIDMwNSkNCg0KICAgIC8qKiDQlNC+0YXQvtC00Ysg0L/RgNC+0YHRgtGL0LUg0YPRgNC+0LLQvdGPINCR0LDQvdC60LAgItCg0LDRgdGI0LjRhNGA0L7QstC60LAg0LLQuNC00L7QsiDQtNC+0YXQvtC00L7Qsiwg0YPRh9C40YLRi9Cy0LDQtdC80YvRhSDQsiDQv9GA0L7RgdGC0YvRhSDQoNCd0KMiLiAqLw0KICAgIGRlZiBkYXRhUm93c1NpbXBsZUluY29tZV9vbGQgPSBnZXREYXRhUm93cyhmb3JtRGF0YUNvbGxlY3Rpb24sIDMwMSkNCiAgICBpZiAoZGF0YVJvd3NTaW1wbGVJbmNvbWUgPT0gbnVsbCkgew0KICAgICAgICBkYXRhUm93c1NpbXBsZUluY29tZSA9IGRhdGFSb3dzU2ltcGxlSW5jb21lX29sZA0KICAgIH0gZWxzZSBpZiAoZGF0YVJvd3NTaW1wbGVJbmNvbWVfb2xkICE9IG51bGwpIHsNCiAgICAgICAgbG9nZ2VyLndhcm4oItCd0LXQstC10YDQvdC+INC90LDRgdGC0YDQvtC10L3RiyDQuNGB0YLQvtGH0L3QuNC60Lgg0LTQtdC60LvQsNGA0LDRhtC40Lgg0JHQsNC90LrQsCEg0J7QtNC90L7QstGA0LXQvNC10L3QvdC+INGB0L7Qt9C00LDQvdGLINCyINC60LDRh9C10YHRgtCy0LUg0LjRgdGC0L7Rh9C90LjQutC+0LIg0L3QsNC70L7Qs9C+0LLRi9C1INGE0L7RgNC80Ys6IMKrJXPCuywgwqslc8K7LiDQmtC+0L3RgdC+0LvQuNC00LDRhtC40Y8g0L/RgNC+0LjQt9Cy0LXQtNC10L3QsCDQuNC3IMKrJXPCuy4iLA0KICAgICAgICAgICAgICAgIGZvcm1UeXBlU2VydmljZS5nZXQoMzA1KS5uYW1lLCBmb3JtVHlwZVNlcnZpY2UuZ2V0KDMwMSk/Lm5hbWUsIGZvcm1UeXBlU2VydmljZS5nZXQoMzA1KT8ubmFtZSkNCiAgICB9DQoNCiAgICAvKiog0KDQsNGB0YXQvtC00Ysg0YHQu9C+0LbQvdGL0LUg0YPRgNC+0LLQvdGPINCR0LDQvdC60LAgItCh0LLQvtC00L3QsNGPINGE0L7RgNC80LAg0L3QsNGH0LjRgdC70LXQvdC90YvRhSDRgNCw0YHRhdC+0LTQvtCyIi4gKi8NCiAgICBkZWYgZGF0YVJvd3NDb21wbGV4Q29uc3VtcHRpb24gPSBnZXREYXRhUm93cyhmb3JtRGF0YUNvbGxlY3Rpb24sIDMwMykNCg0KICAgIC8qKiDQoNCw0YHRhdC+0LTRiyDQv9GA0L7RgdGC0YvQtSDRg9GA0L7QstC90Y8g0JHQsNC90LrQsCAi0KDQsNGB0YjQuNGE0YDQvtCy0LrQsCDQstC40LTQvtCyINGA0LDRgdGF0L7QtNC+0LIsINGD0YfQuNGC0YvQstCw0LXQvNGL0YUg0LIg0L/RgNC+0YHRgtGL0YUg0KDQndCjIi4gKi8NCiAgICBkZWYgZGF0YVJvd3NTaW1wbGVDb25zdW1wdGlvbiA9IGdldERhdGFSb3dzKGZvcm1EYXRhQ29sbGVjdGlvbiwgMzA0KQ0KDQogICAgLyoqINCU0L7RhdC+0LTRiyDQv9GA0L7RgdGC0YvQtSDRg9GA0L7QstC90Y8g0JHQsNC90LrQsCAi0KDQsNGB0YjQuNGE0YDQvtCy0LrQsCDQstC40LTQvtCyINC00L7RhdC+0LTQvtCyLCDRg9GH0LjRgtGL0LLQsNC10LzRi9GFINCyINC/0YDQvtGB0YLRi9GFINCg0J3QoyIuICovDQogICAgZGVmIGRhdGFSb3dzU2ltcGxlQ29uc3VtcHRpb25fb2xkID0gZ2V0RGF0YVJvd3MoZm9ybURhdGFDb2xsZWN0aW9uLCAzMTApDQogICAgaWYgKGRhdGFSb3dzU2ltcGxlQ29uc3VtcHRpb24gPT0gbnVsbCkgew0KICAgICAgICBkYXRhUm93c1NpbXBsZUNvbnN1bXB0aW9uID0gZGF0YVJvd3NTaW1wbGVDb25zdW1wdGlvbl9vbGQNCiAgICB9IGVsc2UgaWYgKGRhdGFSb3dzU2ltcGxlQ29uc3VtcHRpb25fb2xkICE9IG51bGwpIHsNCiAgICAgICAgbG9nZ2VyLndhcm4oItCd0LXQstC10YDQvdC+INC90LDRgdGC0YDQvtC10L3RiyDQuNGB0YLQvtGH0L3QuNC60Lgg0LTQtdC60LvQsNGA0LDRhtC40Lgg0JHQsNC90LrQsCEg0J7QtNC90L7QstGA0LXQvNC10L3QvdC+INGB0L7Qt9C00LDQvdGLINCyINC60LDRh9C10YHRgtCy0LUg0LjRgdGC0L7Rh9C90LjQutC+0LIg0L3QsNC70L7Qs9C+0LLRi9C1INGE0L7RgNC80Ys6IMKrJXPCuywgwqslc8K7LiDQmtC+0L3RgdC+0LvQuNC00LDRhtC40Y8g0L/RgNC+0LjQt9Cy0LXQtNC10L3QsCDQuNC3IMKrJXPCuy4iLA0KICAgICAgICAgICAgICAgIGZvcm1UeXBlU2VydmljZS5nZXQoMzEwKS5uYW1lLCBmb3JtVHlwZVNlcnZpY2UuZ2V0KDMwNCk/Lm5hbWUsIGZvcm1UeXBlU2VydmljZS5nZXQoMzEwKT8ubmFtZSkNCiAgICB9DQoNCiAgICAvKiog0KHQstC+0LTQvdCw0Y8g0L3QsNC70L7Qs9C+0LLQsNGPINGE0L7RgNC80Ysg0JHQsNC90LrQsCDCq9Cg0LDRgdGH0ZHRgiDRgNCw0YHQv9GA0LXQtNC10LvQtdC90LjRjyDQsNCy0LDQvdGB0L7QstGL0YUg0L/Qu9Cw0YLQtdC20LXQuSDQuCDQvdCw0LvQvtCz0LAg0L3QsCDQv9GA0LjQsdGL0LvRjCDQv9C+INC+0LHQvtGB0L7QsdC70LXQvdC90YvQvCDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRj9C8INC+0YDQs9Cw0L3QuNC30LDRhtC40LjCuy4gKi8NCiAgICBkZWYgZGF0YVJvd3NBZHZhbmNlID0gZ2V0RGF0YVJvd3MoZm9ybURhdGFDb2xsZWN0aW9uLCA1MDApDQoNCiAgICAvKiog0KHQstC10LTQtdC90LjRjyDQtNC70Y8g0YDQsNGB0YfRkdGC0LAg0L3QsNC70L7Qs9CwINGBINC00L7RhdC+0LTQvtCyINCyINCy0LjQtNC1INC00LjQstC40LTQtdC90LTQvtCyLiAqLw0KICAgIGRlZiBkYXRhUm93c0RpdmlkZW5kID0gZ2V0RGF0YVJvd3MoZm9ybURhdGFDb2xsZWN0aW9uLCA0MTQpDQoNCiAgICAvKiog0KDQsNGB0YfQtdGCINC90LDQu9C+0LPQsCDQvdCwINC/0YDQuNCx0YvQu9GMINGBINC00L7RhdC+0LTQvtCyLCDRg9C00LXRgNC20LjQstCw0LXQvNC+0LPQviDQvdCw0LvQvtCz0L7QstGL0Lwg0LDQs9C10L3RgtC+0LwuICovDQogICAgLyoqINC70LjQsdC+ICovDQogICAgLyoqINCh0LLQtdC00LXQvdC40Y8g0L4g0LTQuNCy0LjQtNC10L3QtNCw0YUsINCy0YvQv9C70LDRh9C10L3QvdGL0YUg0LIg0L7RgtGH0LXRgtC90L7QvCDQutCy0LDRgNGC0LDQu9C1LiAqLw0KICAgIGRlZiBkYXRhUm93c1RheEFnZW50ID0gZ2V0RGF0YVJvd3MoZm9ybURhdGFDb2xsZWN0aW9uLCA0MTYpDQoNCiAgICAvKiog0KHRg9C80LzQsCDQvdCw0LvQvtCz0LAsINC/0L7QtNC70LXQttCw0YnQsNGPINGD0L/Qu9Cw0YLQtSDQsiDQsdGO0LTQttC10YIsINC/0L4g0LTQsNC90L3Ri9C8INC90LDQu9C+0LPQvtC/0LvQsNGC0LXQu9GM0YnQuNC60LAuICovDQogICAgZGVmIGRhdGFSb3dzVGF4U3VtID0gZ2V0RGF0YVJvd3MoZm9ybURhdGFDb2xsZWN0aW9uLCA0MTIpDQoNCiAgICAvKiog0YTQvtGA0LzQsCDCq9Ce0YHRgtCw0YLQutC4INC/0L4g0L3QsNGH0LjRgdC70LXQvdC90YvQvCDQsNCy0LDQvdGB0L7QstGL0Lwg0L/Qu9Cw0YLQtdC20LDQvMK7LiAqLw0KICAgIGRlZiBkYXRhUm93c1JlbWFpbnMgPSBnZXREYXRhUm93cyhmb3JtRGF0YUNvbGxlY3Rpb24sIDMwOSkNCg0KICAgIC8qKiDQodCy0LXQtNC10L3QuNGPINC+INGB0YPQvNC80LDRhSDQvdCw0LvQvtCz0LAg0L3QsCDQv9GA0LjQsdGL0LvRjCwg0YPQv9C70LDRh9C10L3QvdC+0LPQviDQkdCw0L3QutC+0Lwg0LfQsCDRgNGD0LHQtdC20L7QvCAqLw0KICAgIGRlZiBkYXRhUm93c1N1bSA9IGdldERhdGFSb3dzKGZvcm1EYXRhQ29sbGVjdGlvbiwgNDIxKQ0KDQogICAgLy8g0J/RgNC40LvQvtC20LXQvdC40LUg4oSWMiAi0KHQstC10LTQtdC90LjRjyDQviDQtNC+0YXQvtC00LDRhSDRhNC40LfQuNGH0LXRgdC60L7Qs9C+INC70LjRhtCwLCDQstGL0L/Qu9Cw0YfQtdC90L3Ri9GFINC10LzRgyDQvdCw0LvQvtCz0L7QstGL0Lwg0LDQs9C10L3RgtC+0LwsINC+0YIg0L7Qv9C10YDQsNGG0LjQuSDRgSDRhtC10L3QvdGL0LzQuCDQsdGD0LzQsNCz0LDQvNC4LCDQvtC/0LXRgNCw0YbQuNC5INGBINGE0LjQvdCw0L3RgdC+0LLRi9C80Lgg0LjQvdGB0YLRgNGD0LzQtdC90YLQsNC80Lgg0YHRgNC+0YfQvdGL0YUg0YHQtNC10LvQvtC6LCDQsCDRgtCw0LrQttC1INC/0YDQuCDQvtGB0YPRidC10YHRgtCy0LvQtdC90LjQuCDQstGL0L/Qu9Cw0YIg0L/QviDRhtC10L3QvdGL0Lwg0LHRg9C80LDQs9Cw0Lwg0YDQvtGB0YHQuNC50YHQutC40YUg0Y3QvNC40YLQtdC90YLQvtCyIg0KICAgIGRlZiBkYXRhUm93c0FwcDIgPSBnZXREYXRhUm93cyhmb3JtRGF0YUNvbGxlY3Rpb24sIDQxNSkNCiAgICBkZWYgaXNDRk9BcHAyID0gZmFsc2UNCg0KICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1IOKEljIgItCh0LLQtdC00LXQvdC40Y8g0L4g0LTQvtGF0L7QtNCw0YUg0YTQuNC30LjRh9C10YHQutC+0LPQviDQu9C40YbQsCwg0LLRi9C/0LvQsNGH0LXQvdC90YvRhSDQtdC80YMg0L3QsNC70L7Qs9C+0LLRi9C8INCw0LPQtdC90YLQvtC8LCDQvtGCINC+0L/QtdGA0LDRhtC40Lkg0YEg0YbQtdC90L3Ri9C80Lgg0LHRg9C80LDQs9Cw0LzQuCwg0L7Qv9C10YDQsNGG0LjQuSDRgSDRhNC40L3QsNC90YHQvtCy0YvQvNC4INC40L3RgdGC0YDRg9C80LXQvdGC0LDQvNC4INGB0YDQvtGH0L3Ri9GFINGB0LTQtdC70L7Quiwg0LAg0YLQsNC60LbQtSDQv9GA0Lgg0L7RgdGD0YnQtdGB0YLQstC70LXQvdC40Lgg0LLRi9C/0LvQsNGCINC/0L4g0YbQtdC90L3Ri9C8INCx0YPQvNCw0LPQsNC8INGA0L7RgdGB0LjQudGB0LrQuNGFINGN0LzQuNGC0LXQvdGC0L7QsiAo0KbQpNCeINCd0JTQpNCbKS4iDQogICAgZGVmIGRhdGFSb3dzQXBwMl9vbGQgPSBnZXREYXRhUm93cyhmb3JtRGF0YUNvbGxlY3Rpb24sIDQxOCkNCiAgICBpZiAoZGF0YVJvd3NBcHAyID09IG51bGwpIHsNCiAgICAgICAgaXNDRk9BcHAyID0gdHJ1ZQ0KICAgICAgICBkYXRhUm93c0FwcDIgPSBkYXRhUm93c0FwcDJfb2xkDQogICAgfSBlbHNlIGlmIChkYXRhUm93c0FwcDJfb2xkICE9IG51bGwpIHsNCiAgICAgICAgbG9nZ2VyLndhcm4oItCd0LXQstC10YDQvdC+INC90LDRgdGC0YDQvtC10L3RiyDQuNGB0YLQvtGH0L3QuNC60Lgg0LTQtdC60LvQsNGA0LDRhtC40Lgg0JHQsNC90LrQsCEg0J7QtNC90L7QstGA0LXQvNC10L3QvdC+INGB0L7Qt9C00LDQvdGLINCyINC60LDRh9C10YHRgtCy0LUg0LjRgdGC0L7Rh9C90LjQutC+0LIg0L3QsNC70L7Qs9C+0LLRi9C1INGE0L7RgNC80Ys6IMKrJXPCuywgwqslc8K7LiDQmtC+0L3RgdC+0LvQuNC00LDRhtC40Y8g0L/RgNC+0LjQt9Cy0LXQtNC10L3QsCDQuNC3IMKrJXPCuy4iLA0KICAgICAgICAgICAgICAgIGZvcm1UeXBlU2VydmljZS5nZXQoNDE1KS5uYW1lLCBmb3JtVHlwZVNlcnZpY2UuZ2V0KDQxOCk/Lm5hbWUsIGZvcm1UeXBlU2VydmljZS5nZXQoNDE1KT8ubmFtZSkNCiAgICB9DQoNCiAgICAvLyDQoNCw0YHRh9C10YIg0LfQvdCw0YfQtdC90LjQuSDQtNC70Y8g0YLQtdC60YPRidC10Lkg0LTQtdC60LvQsNGA0LDRhtC40LguDQoNCiAgICAvLyDQn9C10YDQuNC+0LQNCiAgICBkZWYgcGVyaW9kID0gMA0KICAgIGlmIChyZW9yZ0Zvcm1Db2RlICE9IG51bGwpIHsNCiAgICAgICAgcGVyaW9kID0gNTANCiAgICB9IGVsc2UgaWYgKHJlcG9ydFBlcmlvZC5vcmRlciAhPSBudWxsKSB7DQogICAgICAgIGRlZiB2YWx1ZXMgPSBbMjEsIDMxLCAzMywgMzRdDQogICAgICAgIHBlcmlvZCA9IHZhbHVlc1tyZXBvcnRQZXJpb2Qub3JkZXIgLSAxXQ0KICAgIH0NCg0KDQogICAgLyoqINCS0YvRgNGD0YfQoNC10LDQu9Ci0L7Qsi4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAxODAuICovDQogICAgZGVmIHZpcnVjaFJlYWxUb3YgPSBlbXB0eQ0KICAgIC8qKiDQlNC+0YXQlNC+0LPQvtCy0JTQo9CYLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDIxMC4gKi8NCiAgICBkZWYgZG9oRG9sZ292RFVJID0gZW1wdHkNCiAgICAvKiog0JTQvtGF0JTQvtCz0L7QstCU0KPQmF/QktC90KAuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMjExLiAqLw0KICAgIGRlZiBkb2hEb2xnb3ZEVUlfVm5SID0gZW1wdHkNCiAgICAvKiog0KPQsdGL0YLQntCx0J7QsdGB0LvQndC10L7QsdC7LiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDIwMS4gKi8NCiAgICBkZWYgdWJpdE9iT2JzbE5lb2JsID0gZW1wdHkNCiAgICAvKiog0KPQsdGL0YLQlNC+0LPQvtCy0JTQo9CYLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDIzMC4gKi8NCiAgICBkZWYgdWJpdERvZ292RFVJID0gZW1wdHkNCiAgICAvKiog0KPQsdGL0YLQn9GA0L7RiNCf0LXRgC4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAzMDEuICovDQogICAgZGVmIHViaXRQcm9zaFBlciA9IGVtcHR5DQogICAgLyoqINCh0YPQvNCR0LXQt9C90LDQtNCU0L7Qu9CzLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDMwMi4gKi8NCiAgICBkZWYgc3VtQmV6bmFsRG9sZyA9IGVtcHR5DQogICAgLyoqINCj0LHRi9GC0J/RgNC40YDQsNCy0L3QktGBLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDMwMC4gKi8NCiAgICBkZWYgdWJpdFByaXJhdm5WcyA9IHViaXRQcm9zaFBlciArIHN1bUJlem5hbERvbGcNCg0KICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1IOKEliAzINC6INCb0LjRgdGC0YMgMDINCiAgICAvKiog0JrQvtC70J7QsdCg0LXQsNC70JDQmC4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAwMTAuINCa0L7QtCDQstC40LTQsCDQtNC+0YXQvtC00LAgPSAxMC4gKi8NCiAgICBkZWYgY29sT2JSZWFsQUkgPSBnZXRMb25nKGdldENvbXBsZXhJbmNvbWVTdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhJbmNvbWUsIFsxMF0pKQ0KICAgIC8qKiDQmtC+0LvQntCx0KDQtdCw0LvQkNCY0KPQsS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAwMjAuINCa0L7QtCDQstC40LTQsCDQtNC+0YXQvtC00LAgPSAyMC4gKi8NCiAgICBkZWYgY29sT2JSZWFsQUlVYiA9IGdldExvbmcoZ2V0Q29tcGxleEluY29tZVN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleEluY29tZSwgWzIwXSkpDQogICAgLyoqINCS0YvRgNGD0YfQoNC10LDQu9CQ0JguINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDMwLiDQmtC+0LQg0LLQuNC00LAg0LTQvtGF0L7QtNCwID0gMTA5MTAuICovDQogICAgZGVmIHZpcnVjaFJlYWxBSSA9IGdldExvbmcoZ2V0Q29tcGxleEluY29tZVN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleEluY29tZSwgWzEwOTEwXSkpDQogICAgLyoqINCf0YDQuNCx0KDQtdCw0LvQkNCYLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDA0MC4g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQsCA9IDEwOTIwLiAqLw0KICAgIGRlZiBwcmliUmVhbEFJID0gZ2V0TG9uZyhnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGF0YVJvd3NDb21wbGV4SW5jb21lLCBbMTA5MjBdKSkNCiAgICAvKiog0KPQsdGL0YLQoNC10LDQu9CQ0JguINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDYwLiDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyMTQyMC4gKi8NCiAgICBkZWYgdWJpdFJlYWxBSSA9IGdldExvbmcoZ2V0Q29tcGxleENvbnN1bXB0aW9uU3VtUm93czkoZGF0YVJvd3NDb21wbGV4Q29uc3VtcHRpb24sIFsyMTQyMF0pKQ0KICAgIC8qKiDQptC10L3QoNC10LDQu9Cf0YDQl9CjLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDI0MC4g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQsCA9IDEwOTUwLiAqLw0KICAgIGRlZiBjZW5SZWFsUHJaVSA9IGdldExvbmcoZ2V0Q29tcGxleEluY29tZVN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleEluY29tZSwgWzEwOTUwXSkpDQogICAgLyoqINCj0LHRi9GC0KDQtdCw0LvQn9GA0JfQoy4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAyNjAuINChIDEg0LrQstCw0YDRgtCw0LvQsCAyMDE2INCz0L7QtNCwINC90LUg0LfQsNC/0L7Qu9C90Y/QtdGC0YHRjy4gKi8NCiAgICBkZWYgdWJpdFJlYWxQclpVID0gZW1wdHkNCiAgICAvKiog0JLRi9GA0YPRh9Cg0LXQsNC70J/QotCU0L7QodGALiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDEwMC4g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQsCA9IDEwOTcwLiAqLw0KICAgIGRlZiB2aXJ1Y2hSZWFsUFREb1NyID0gZ2V0TG9uZyhnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGF0YVJvd3NDb21wbGV4SW5jb21lLCBbMTA5NzBdKSkNCiAgICAvKiog0JLRi9GA0YPRh9Cg0LXQsNC70J/QotCf0L7RgdCh0YAuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMTEwLiDQmtC+0LQg0LLQuNC00LAg0LTQvtGF0L7QtNCwID0gMTA4NzAuINCd0LUg0LfQsNC/0L7Qu9C90Y/QtdGC0YHRjyDRgSAyMDE1INCz0L7QtNCwLiAqLw0KICAgIGRlZiB2aXJ1Y2hSZWFsUFRQb3NTciA9IGdldExvbmcoMCkNCiAgICAvKiog0KPQsdGL0YIx0KHQvtC+0YIyNjkuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMTQwLiDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyMTA2MC4gKi8NCiAgICBkZWYgdWJpdDFTb290MjY5ID0gZ2V0TG9uZyhnZXRDb21wbGV4Q29uc3VtcHRpb25TdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgWzIxMDYwXSkpDQogICAgLyoqINCj0LHRi9GCMdCf0YDQtdCyMjY5LiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDE1MC4g0JrQvtC0INCy0LjQtNCwINGA0LDRgdGF0L7QtNCwID0gMjEwNzAuICovDQogICAgZGVmIHViaXQxUHJldjI2OSA9IGdldExvbmcoZ2V0Q29tcGxleENvbnN1bXB0aW9uU3VtUm93czkoZGF0YVJvd3NDb21wbGV4Q29uc3VtcHRpb24sIFsyMTA3MF0pKQ0KICAgIC8qKiDQo9Cx0YvRgjLQoNC10LDQu9Cf0KIuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMTYwLiDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyMTUxMC4gKi8NCiAgICBkZWYgdWJpdDJSZWFsUFQgPSBlbXB0eQ0KICAgIC8qKiDQo9Cx0YvRgjLQktC90KDQsNGB0YUuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMTcwLiDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyMjcwMC4gKi8NCiAgICBkZWYgdWJpdDJWblJhc2ggPSBlbXB0eQ0KICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1IOKEliAzINC6INCb0LjRgdGC0YMgMDIgLSDQutC+0L3QtdGGDQoNCiAgICAvKiog0J/RgNCf0L7QtNC/LiAqLw0KICAgIGRlZiBwclBvZHAgPSBzaWduYXRvcnlJZA0KICAgIC8qKiDQktGL0YDQoNC10LDQu9Ci0L7QstCh0L7QsS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAwMTEuICovDQogICAgZGVmIHZpclJlYWxUb3ZTb2IgPSBnZXRWaXJSZWFsVG92U29iKGRhdGFSb3dzQ29tcGxleEluY29tZSwgZGF0YVJvd3NTaW1wbGVJbmNvbWUpDQogICAgLyoqINCS0YvRgNCg0LXQsNC70JjQvNCf0YDQsNCyLiDQodGC0YDQvtC60LAg0LTQtdC60LvQsNGA0LDRhtC40LggMDEzLiDQmtC+0LQg0LLQuNC00LAg0LTQvtGF0L7QtNCwID0gMTA5NDAsIDEwOTYwLCAxMDk4MC4gKi8NCiAgICBkZWYgdmlyUmVhbEltUHJhdiA9IGdldExvbmcoZ2V0Q29tcGxleEluY29tZVN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleEluY29tZSwgWzEwOTQwLCAxMDk2MCwgMTA5ODBdKSkNCiAgICAvKiog0JLRi9GA0KDQtdCw0LvQmNC80J/RgNC+0YcuINCh0YLRgNC+0LrQsCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAwMTQuINCa0L7QtCDQstC40LTQsCDQtNC+0YXQvtC00LAgPSAxMDkzMC4gKi8NCiAgICBkZWYgdmlyUmVhbEltUHJvY2ggPSBnZXRMb25nKGdldENvbXBsZXhJbmNvbWVTdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhJbmNvbWUsIFsxMDkzMF0pKQ0KICAgIC8qKiDQktGL0YDQoNC10LDQu9CS0YEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDEwLiAqLw0KICAgIGRlZiB2aXJSZWFsVnMgPSB2aXJSZWFsVG92U29iICsgdmlyUmVhbEltUHJhdiArIHZpclJlYWxJbVByb2NoDQogICAgLyoqINCS0YvRgNCg0LXQsNC70KbQkdCS0YEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDIwLiDQmtC+0LQg0LLQuNC00LAg0LTQvtGF0L7QtNCwID0gMTEwNDAsIDExMDUwLCAxMTA2MCwgMTEwNzAsIDExMDgwLCAxMTA5MCwgMTExMDAsIDExMTEwLiAqLw0KICAgIGRlZiB2aXJSZWFsQ0JWcyA9IGdldExvbmcoZ2V0Q29tcGxleEluY29tZVN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleEluY29tZSwgWzExMDQwLCAxMTA1MCwgMTEwNjAsIDExMDcwLCAxMTA4MCwgMTEwOTAsIDExMTAwLCAxMTExMF0pKQ0KICAgIC8qKiDQktGL0YDQoNC10LDQu9Cf0YDQtdC0LiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDAyMy4gKi8NCiAgICBkZWYgdmlyUmVhbFByZWQgPSBlbXB0eQ0KICAgIC8qKiDQktGL0YDRg9GH0J7QvzMwMtCY0YIuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMzQwLiDQodGC0YDQvtC60LAgMDMwICsg0YHRgtGA0L7QutCwIDEwMCArINGB0YLRgNC+0LrQsCAxMTAgKyDRgdGC0YDQvtC60LAgMTgwICsgKNGB0YLRgNC+0LrQsCAyMTAg4oCTINGB0YLRgNC+0LrQsCAyMTEpICsg0YHRgtGA0L7QutCwIDI0MC4gKi8NCiAgICBkZWYgdmlydWNoT3AzMDJJdCA9IHZpcnVjaFJlYWxBSSArIHZpcnVjaFJlYWxQVERvU3IgKyB2aXJ1Y2hSZWFsUFRQb3NTciArIHZpcnVjaFJlYWxUb3YgKyBkb2hEb2xnb3ZEVUkgLSBkb2hEb2xnb3ZEVUlfVm5SICsgY2VuUmVhbFByWlUNCg0KICAgIC8qKiDQodC10YDQm9C40YbQndC10LTRgC4g0JvQuNGG0LXQvdC30LjRjzog0YHQtdGA0LjRjyAqLw0KICAgIGRlZiBzZXJMaWNOZWRyID0gZW1wdHkNCiAgICAvKiog0J3QvtC80JvQuNGG0J3QtdC00YAuINCb0LjRhtC10L3Qt9C40Y86INC90L7QvNC10YAgKi8NCiAgICBkZWYgbm9tTGljTmVkciA9IGVtcHR5DQogICAgLyoqINCS0LjQtNCb0LjRhtCd0LXQtNGALiDQm9C40YbQtdC90LfQuNGPOiDQstC40LQg0LzQvtGA0YHQutC+0LPQviDQvNC10YHRgtC+0YDQvtC20LTQtdC90LjRjyAqLw0KICAgIGRlZiB2aWRMaWNOZWRyID0gZW1wdHkNCiAgICAvKiog0J3QvtC80JzQvtGA0JzQtdGB0YIuINCb0LjRhtC10L3Qt9C40Y86INC90L7QvNC10YAg0LzQvtGA0YHQutC+0LPQviDQvNC10YHRgtC+0YDQvtC20LTQtdC90LjRjyAqLw0KICAgIGRlZiBub21Nb3JNZXN0ID0gZW1wdHkNCg0KICAgIC8qKiDQlNC+0YXQoNC10LDQuywg0JLRi9GA0KDQtdCw0LvQmNGC0L7Qsy4gKi8NCiAgICBkZWYgZG9oUmVhbCA9IHZpclJlYWxWcyArIHZpclJlYWxDQlZzICsgdmlyUmVhbFByZWQgKyB2aXJ1Y2hPcDMwMkl0DQogICAgLyoqINCU0L7RhdCS0L3QtdGA0LXQsNC7LiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDEwMC4gKi8NCiAgICBkZWYgZG9oVm5lcmVhbCA9IGdldERvaFZuZXJlYWwoZGF0YVJvd3NDb21wbGV4SW5jb21lLCBkYXRhUm93c1NpbXBsZUluY29tZSkNCiAgICAvKiog0J/RgNGP0LzQoNCw0YHRhdCg0LXQsNC7LiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDAxMC4gKi8NCiAgICBkZWYgcHJhbVJhc2hSZWFsID0gZW1wdHkNCiAgICAvKiog0J/RgNGP0LzQoNCw0YHRhdCi0L7RgNCz0JLRgS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAwMjAuICovDQogICAgZGVmIHByYW1SYXNoVG9yZ1ZzID0gZW1wdHkNCiAgICAvKiog0JrQvtGB0LLQoNCw0YHRhdCS0YEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDQwLiAqLw0KICAgIGRlZiBjb3N2UmFzaFZzID0gZ2V0Q29zdlJhc2hWcyhkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgZGF0YVJvd3NTaW1wbGVDb25zdW1wdGlvbikNCiAgICAvKiog0KDQsNGB0YXQktC90LXRgNC10LDQu9CS0KEuINCh0YLRgNC+0LrQsCAyMDAuICovDQogICAgZGVmIHJhc2hWbmVyZWFsVnMgPSBnZXRSYXNoVm5lcmVhbFZzKGRhdGFSb3dzQ29tcGxleENvbnN1bXB0aW9uLCBkYXRhUm93c1NpbXBsZUNvbnN1bXB0aW9uKQ0KICAgIC8qKiDQoNCw0YHRhdCS0L3QtdGA0LXQsNC7LiDQodGC0YDQvtC60LAgMjAwICsg0YHRgtGA0L7QutCwIDMwMC4gKi8NCiAgICBkZWYgcmFzaFZuZXJlYWwgPSByYXNoVm5lcmVhbFZzICsgdWJpdFByaXJhdm5Wcw0KICAgIC8qKiDQntGB0YLQodGC0KDQtdCw0LvQkNCYLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDA0MC4g0JrQvtC0INCy0LjQtNCwINGA0LDRgdGF0L7QtNCwID0gMjE0MDAuICovDQogICAgZGVmIG9zdFN0UmVhbEFJID0gZ2V0TG9uZyhnZXRDb21wbGV4Q29uc3VtcHRpb25TdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgWzIxNDAwXSkpDQogICAgLyoqINCg0LXQsNC70JjQvNGD0YnQn9GA0LDQsi4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAwNTkuINCa0L7QtCDQstC40LTQsCDRgNCw0YHRhdC+0LTQsCA9IDIxMDgwLCAyMTEwMCwgMjEzOTAuICovDQogICAgZGVmIHJlYWxJbXVzaFByYXYgPSBnZXRMb25nKGdldENvbXBsZXhDb25zdW1wdGlvblN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleENvbnN1bXB0aW9uLCBbMjEwODAsIDIxMTAwLCAyMTM5MF0pKQ0KICAgIC8qKiDQn9GA0LjQvtCx0YDQoNC10LDQu9CY0LzRg9GJLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDA2MC4g0JrQvtC0INCy0LjQtNCwINGA0LDRgdGF0L7QtNCwID0gMjE0MTAuICovDQogICAgZGVmIHByaW9iclJlYWxJbXVzaCA9IGdldExvbmcoZ2V0Q29tcGxleENvbnN1bXB0aW9uU3VtUm93czkoZGF0YVJvd3NDb21wbGV4Q29uc3VtcHRpb24sIFsyMTQxMF0pKQ0KICAgIC8qINCQ0LrRgtC40LLQoNC10LDQu9Cf0YDQtdC0LiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDA2MS4gKi8NCiAgICBkZWYgYWN0aXZSZWFsUHJlZCA9IGVtcHR5DQogICAgLyoqINCf0YDQuNC+0LHQoNC10LDQu9Cm0JEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDcwLiDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyMTIzMCwgMjEyNDAsIDIxMjUwLCAyMTI2MCwgMjEyNzAsIDIxMjgwLCAyMTI5MCwgMjEzMDAsIDIxMzEwLiAqLw0KICAgIGRlZiBwcmlvYnJSZWFsQ0IgPSBnZXRMb25nKGdldENvbXBsZXhDb25zdW1wdGlvblN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleENvbnN1bXB0aW9uLCBbMjEyMzAsIDIxMjQwLCAyMTI1MCwgMjEyNjAsIDIxMjcwLCAyMTI4MCwgMjEyOTAsIDIxMzAwLCAyMTMxMF0pKQ0KICAgIC8qKiDQodGD0LzQntGC0LrQu9Cm0LXQvS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAwNzEuINCa0L7QtCDQstC40LTQsCDRgNCw0YHRhdC+0LTQvtCyID0gMjEzMjAsIDIxMzMwLiAqLw0KICAgIGRlZiBzdW1PdGtsQ2VuID0gZ2V0TG9uZyhnZXRDb21wbGV4Q29uc3VtcHRpb25TdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgWzIxMzIwLCAyMTMzMF0pKQ0KICAgIC8qKiDQn9GA0LjQvtCx0KDQtdCw0LvQptCR0J7RgNCzLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDA3Mi4g0KDQsNGB0YXQvtC00YssINGB0LLRj9C30LDQvdC90YvQtSDRgSDQv9GA0LjQvtCx0YDQuNGC0LXQvdC40LXQvCDQuCDRgNC10LDQu9C40LfQsNGG0LjQtdC5ICjQstGL0LHRi9GC0LjQtdC8LCDQsiDRgtC+0Lwg0YfQuNGB0LvQtSDQv9C+0LPQsNGI0LXQvdC40LXQvCkg0YbQtdC90L3Ri9GFINCx0YPQvNCw0LMsINC+0LHRgNCw0YnQsNGO0YnQuNGF0YHRjyDQvdCwINC+0YDQs9Cw0L3QuNC30L7QstCw0L3QvdC+0Lwg0YDRi9C90LrQtSDRhtC10L3QvdGL0YUg0LHRg9C80LDQsyAqLw0KICAgIGRlZiBwcmlvYlJlYWxDQk9yZyA9IGVtcHR5DQogICAgLyoqINCh0YPQvNCe0YLQutC70KbQtdC90J7RgNCzLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDA3My4g0KHRg9C80LzRiyDQvtGC0LrQu9C+0L3QtdC90LjRjyDQvtGCINC80LDQutGB0LjQvNCw0LvRjNC90L7QuSAo0YDQsNGB0YfQtdGC0L3QvtC5KSDRhtC10L3RiyAqLw0KICAgIGRlZiBzdW1PdGtsQ2VuT3JnID0gZW1wdHkNCg0KICAgIC8qKiDQo9Cx0YvRgtCf0YDQvtGI0J7QsdGB0LsuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDkwLiAqLw0KICAgIGRlZiB1Yml0UHJvc2hPYnNsID0gZW1wdHkNCiAgICAvKiog0KHRgtC+0LjQvNCg0LXQsNC70J/QotCU0L7QodGALiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDEyMC4g0JrQvtC0INCy0LjQtNCwINGA0LDRgdGF0L7QtNCwID0gMjEwNTAuICovDQogICAgZGVmIHN0b2ltUmVhbFBURG9TciA9IGdldExvbmcoZ2V0Q29tcGxleENvbnN1bXB0aW9uU3VtUm93czkoZGF0YVJvd3NDb21wbGV4Q29uc3VtcHRpb24sIFsyMTQ2MF0pKQ0KICAgIC8qKiDQodGC0L7QuNC80KDQtdCw0LvQn9Ci0J/QvtGB0KHRgC4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAxMzAuINCa0L7QtCDQstC40LTQsCDRgNCw0YHRhdC+0LTQsCA9IDIxNDcwLiDQndC1INC30LDQv9C+0LvQvdGP0LXRgtGB0Y8g0YEgMjAxNSDQs9C+0LTQsC4gKi8NCiAgICBkZWYgc3RvaW1SZWFsUFRQb3NTciA9IGdldExvbmcoMCkNCiAgICAvKiog0KDQsNGB0YXQoNC10LDQu9Ci0L7Qsi4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAxOTAuICovDQogICAgZGVmIHJhc2hSZWFsVG92ID0gZW1wdHkNCiAgICAvKiog0KDQsNGB0YXQlNC+0LPQvtCy0JTQo9CYLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDIyMC4gKi8NCiAgICBkZWYgcmFzaERvbGdvdkRVSSA9IGVtcHR5DQogICAgLyoqINCg0LDRgdGF0JTQvtCz0L7QstCU0KPQmF/QktC90KAuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMjIxLiAqLw0KICAgIGRlZiByYXNoRG9sZ292RFVJX1ZuUiA9IGVtcHR5DQogICAgLyoqINCd0LXQktC+0LfQl9Cw0YLRgNCf0YDQl9CjLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDI1MC4g0KEgMSDQutCy0LDRgNGC0LDQu9CwIDIwMTYg0LPQvtC00LAg0L3QtSDQt9Cw0L/QvtC70L3Rj9C10YLRgdGPLiAqLw0KICAgIGRlZiBuZVZvelphdHJQclpVID0gZW1wdHkNCiAgICAvKiog0KDQsNGB0YXQntC/0LXRgDMyLCDQoNCw0YHRhdCe0L8zMDLQmNGCLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4ID0gMDgwINC40LvQuCAzNTAuICovDQogICAgZGVmIHJhc2hPcGVyMzIgPSBvc3RTdFJlYWxBSSArIHN0b2ltUmVhbFBURG9TciArIHN0b2ltUmVhbFBUUG9zU3IgKyByYXNoUmVhbFRvdiArIChyYXNoRG9sZ292RFVJIC0gcmFzaERvbGdvdkRVSV9WblIpICsgbmVWb3paYXRyUHJaVQ0KICAgIC8qKiDQo9Cx0YvRgtCg0LXQsNC70JDQvNCY0LwuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMTAwLiDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyMTExMC4gKi8NCiAgICBkZWYgdWJpdFJlYWxBbUltID0gZ2V0TG9uZyhnZXRDb21wbGV4Q29uc3VtcHRpb25TdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgWzIxMTEwXSkpDQogICAgLyoqINCj0LHRi9GC0KDQtdCw0LvQl9C10LzQo9GHLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDExMC4gKi8NCiAgICBkZWYgdWJpdFJlYWxaZW1VY2ggPSBlbXB0eQ0KICAgIC8qKiDQndCw0LTQsdCf0L7QutCf0YDQtdC0LiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDEyMC4gKi8NCiAgICBkZWYgbmFkYlBva1ByZWQgPSBlbXB0eQ0KICAgIC8qKiDQoNCw0YHRhdCj0LzQoNC10LDQuywg0KDQsNGB0YXQn9GA0LjQt9C90JjRgtC+0LPQvi4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAxMzAuICovDQogICAgZGVmIHJhc2hVbVJlYWwgPSBwcmFtUmFzaFJlYWwgKyBwcmFtUmFzaFRvcmdWcyArIGNvc3ZSYXNoVnMgKyByZWFsSW11c2hQcmF2ICsNCiAgICAgICAgICAgIHByaW9iclJlYWxJbXVzaCArIGFjdGl2UmVhbFByZWQgKyBwcmlvYnJSZWFsQ0IgKyByYXNoT3BlcjMyICsgdWJpdFByb3NoT2JzbCArDQogICAgICAgICAgICB1Yml0UmVhbEFtSW0gKyB1Yml0UmVhbFplbVVjaCArIG5hZGJQb2tQcmVkDQogICAgLyoqINCj0LHRi9GC0LrQuCwg0KPQsdGL0YLQntC/MzAyLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDM2MC4gQ9GC0YDQvtC60LAgMDYwICsg0YHRgtGA0L7QutCwIDE1MCArINGB0YLRgNC+0LrQsCAxNjAgKyDRgdGC0YDQvtC60LAgMjAxKyDRgdGC0YDQvtC60LAgMjMwICsg0YHRgtGA0L7QutCwIDI2MC4gKi8NCiAgICBkZWYgdWJpdGtpID0gdWJpdFJlYWxBSSArIHViaXQxUHJldjI2OSArIHViaXQyUmVhbFBUICsgdWJpdE9iT2JzbE5lb2JsICsgdWJpdERvZ292RFVJICsgdWJpdFJlYWxQclpVDQogICAgLyoqINCf0YDQuNCx0KPQsS4gKi8NCiAgICBkZWYgcHJpYlViID0gZG9oUmVhbCArIGRvaFZuZXJlYWwgLSByYXNoVW1SZWFsIC0gcmFzaFZuZXJlYWwgKyB1Yml0a2kNCiAgICAvKiog0JTQvtGF0JjRgdC60LvQn9GA0LjQsS4gKi8NCiAgICBkZWYgZG9oSXNrbFByaWIgPSBnZXREb2hJc2tsUHJpYihkYXRhUm93c0NvbXBsZXhJbmNvbWUsIGRhdGFSb3dzU2ltcGxlSW5jb21lKQ0KICAgIC8vINCd0LDQu9CR0LDQt9CwINGB0YLRgNC+0LrQsCA2MCAtINGB0YLRgNC+0LrQsCA3MCAtINGB0YLRgNC+0LrQsCA4MCAtINGB0YLRgNC+0LrQsCA5MCAtINGB0YLRgNC+0LrQsCA0MDAgKNCf0YDQuNC70L7QttC10L3QuNC1IOKEljIg0Log0JvQuNGB0YLRgyAwMikNCiAgICBkZWYgbmFsQmF6YSA9IHByaWJVYiAtIGRvaElza2xQcmliIC0gMCAtIDAgLSAwDQogICAgLyoqINCd0LDQu9CR0LDQt9Cw0JjRgdGHLCDQndCw0LvQkdCw0LfQsNCe0YDQsy4gKi8NCiAgICBkZWYgbmFsQmF6YUlzY2ggPSBnZXROYWxCYXphSXNjaChuYWxCYXphLCAwKQ0KICAgIC8qKiDQndCw0LvQmNGB0YfQuNGB0LvQpNCRLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDE5MC4gKi8NCiAgICBkZWYgbmFsSXNjaGlzbEZCID0gZ2V0TmFsSXNjaGlzbEZCKG5hbEJhemFJc2NoLCB0YXhSYXRlKQ0KICAgIC8qKiDQndCw0LvQmNGB0YfQuNGB0LvQodGD0LEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMjAwLiDQodGC0L7Qu9Cx0LXRhiDCq9Ch0YPQvNC80LAg0L3QsNC70L7Qs9CwwrsuICovDQogICAgZGVmIG5hbElzY2hpc2xTdWIgPSBnZXRUb3RhbEZyb21Gb3JtKGRhdGFSb3dzQWR2YW5jZSwgJ3RheFN1bScpDQogICAgLyoqINCd0LDQu9CY0YHRh9C40YHQuy4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAxODAuICovDQogICAgZGVmIG5hbElzY2hpc2wgPSBuYWxJc2NoaXNsRkIgKyBuYWxJc2NoaXNsU3ViDQogICAgLy8g0J3QsNC70JLRi9C/0LszMTEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMjQwLg0KICAgIGRlZiBuYWxWaXBsMzExDQogICAgaWYgKCFzb3VyY2VDaGVjayhmYWxzZSwgTG9nTGV2ZWwuV0FSTklORykpIHsNCiAgICAgICAgbmFsVmlwbDMxMSA9IDANCiAgICB9IGVsc2Ugew0KICAgICAgICBuYWxWaXBsMzExID0gZ2V0QWxpYXNGcm9tRm9ybShkYXRhUm93c1N1bSwgJ3RheFN1bScsICdTVU1fVEFYJykNCiAgICB9DQogICAgLyoqINCd0LDQu9CS0YvQv9C7MzEx0KTQkS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAyNTAuICovDQogICAgZGVmIG5hbFZpcGwzMTFGQiA9IGdldExvbmcobmFsVmlwbDMxMSAqIDIgLyAyMCkNCiAgICAvKiog0J3QsNC70JLRi9C/0LszMTHQodGD0LEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMjYwLiAqLw0KICAgIGRl'
        longString += 'ZiBuYWxWaXBsMzExU3ViID0gZ2V0TG9uZyhuYWxWaXBsMzExIC0gbmFsVmlwbDMxMUZCKQ0KDQogICAgLyoqINCQ0LLQn9C70LDRgtCc0LXRgdCk0JEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMzAwLiAqLw0KICAgIGRlZiBhdlBsYXRNZXNGQiA9IGlzVGF4UGVyaW9kID8gZW1wdHkgOiAobmFsSXNjaGlzbEZCIC0gKCFpc0ZpcnN0UGVyaW9kID8gbmFsSXNjaGlzbEZCT2xkIDogMCkpDQogICAgLyoqINCQ0LLQndCw0YfQuNGB0LvQpNCRLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDIyMC4gKi8NCiAgICBkZWYgYXZOYWNoaXNsRkINCiAgICBpZiAoaXNGaXJzdFBlcmlvZCkgew0KICAgICAgICBpZiAocmVhZGVyOW1vbnRoICE9IG51bGwpIHsNCiAgICAgICAgICAgIGF2TmFjaGlzbEZCID0gZ2V0TG9uZyhhdlBsYXRVcGwxQ3ZGQjltb250aCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGF2TmFjaGlzbEZCID0gZ2V0VG90YWxGcm9tRm9ybShkYXRhUm93c1JlbWFpbnMsICdzdW0xJykNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGF2TmFjaGlzbEZCID0gbmFsSXNjaGlzbEZCT2xkIC0gbmFsVmlwbDMxMUZCT2xkICsgYXZQbGF0TWVzRkJPbGQNCiAgICB9DQogICAgLyoqINCQ0LLQn9C70LDRgtCc0LXRgdCh0YPQsS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAzMTAuICovDQogICAgZGVmIGF2UGxhdE1lc1N1YiA9IGlzVGF4UGVyaW9kID8gZW1wdHkgOiAobmFsSXNjaGlzbFN1YiAtIChpc0ZpcnN0UGVyaW9kID8gMCA6IG5hbElzY2hpc2xTdWJPbGQpKQ0KICAgIC8qKiDQkNCy0J/Qu9Cw0YLQnNC10YEuICovDQogICAgZGVmIGF2UGxhdE1lcyA9IGlzVGF4UGVyaW9kID8gZW1wdHkgOiAoYXZQbGF0TWVzRkIgKyBhdlBsYXRNZXNTdWIpDQogICAgLyoqINCQ0LLQn9C70LDRgtCj0L/QuzHQmtCy0KTQkS4gKi8NCiAgICBkZWYgYXZQbGF0VXBsMUN2RkIgPSAocmVwb3J0UGVyaW9kICE9IG51bGwgJiYgcmVwb3J0UGVyaW9kLm9yZGVyID09IDMgPyBhdlBsYXRNZXNGQiA6IGVtcHR5KQ0KICAgIC8qKiDQkNCy0J/Qu9Cw0YLQo9C/0Lsx0JrQstCh0YPQsS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAzNDAuICovDQogICAgZGVmIGF2UGxhdFVwbDFDdlN1YiA9IChyZXBvcnRQZXJpb2QgIT0gbnVsbCAmJiByZXBvcnRQZXJpb2Qub3JkZXIgPT0gMyA/IGF2UGxhdE1lc1N1YiA6IGVtcHR5KQ0KICAgIC8qKiDQkNCy0J/Qu9Cw0YLQo9C/0Lsx0JrQsi4gKi8NCiAgICBkZWYgYXZQbGF0VXBsMUN2ID0gKHJlcG9ydFBlcmlvZCAhPSBudWxsICYmIHJlcG9ydFBlcmlvZC5vcmRlciA9PSAzID8gYXZQbGF0VXBsMUN2RkIgKyBhdlBsYXRVcGwxQ3ZTdWIgOiBlbXB0eSkNCiAgICAvKiog0JDQstCd0LDRh9C40YHQu9Ch0YPQsS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAyMzAuIDIwMCAtIDI2MCArIDMxMC4gKi8NCiAgICBkZWYgYXZOYWNoaXNsU3ViDQogICAgaWYgKGlzRmlyc3RQZXJpb2QpIHsNCiAgICAgICAgaWYgKHJlYWRlcjltb250aCAhPSBudWxsKSB7DQogICAgICAgICAgICBhdk5hY2hpc2xTdWIgPSBnZXRMb25nKGF2UGxhdFVwbDFDdlN1YkI5bW9udGgpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhdk5hY2hpc2xTdWIgPSBnZXRUb3RhbEZyb21Gb3JtKCBkYXRhUm93c1JlbWFpbnMsICdzdW0yJykNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIGF2TmFjaGlzbFN1YiA9ICBnZXRMb25nKG5hbElzY2hpc2xTdWJPbGQgLSBuYWxWaXBsMzExU3ViT2xkICsgYXZQbGF0TWVzU3ViT2xkKQ0KICAgIH0NCiAgICAvKiog0JDQstCd0LDRh9C40YHQuy4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAyMTAuICovDQogICAgZGVmIGF2TmFjaGlzbCA9IGF2TmFjaGlzbEZCICsgYXZOYWNoaXNsU3ViDQogICAgLyoqINCd0LDQu9CU0L7Qv9C70KTQkS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAyNzAuICovDQogICAgZGVmIG5hbERvcGxGQiA9IGdldE5hbERvcGwobmFsSXNjaGlzbEZCLCBhdk5hY2hpc2xGQiwgbmFsVmlwbDMxMUZCKQ0KICAgIC8qKiDQndCw0LvQlNC+0L/Qu9Ch0YPQsS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAyNzEuICovDQogICAgZGVmIG5hbERvcGxTdWIgPSBnZXRUb3RhbEZyb21Gb3JtKGRhdGFSb3dzQWR2YW5jZSwgJ3RheFN1bVRvUGF5JykNCiAgICAvKiog0J3QsNC70KPQvNC10L3QpNCRLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDI4MC4gKi8NCiAgICBkZWYgbmFsVW1lbkZCID0gZ2V0TmFsVW1lbihhdk5hY2hpc2xGQiwgbmFsVmlwbDMxMUZCLCBuYWxJc2NoaXNsRkIpDQogICAgLyoqINCd0LDQu9Cj0LzQtdC90KHRg9CxLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDI4MS4gKi8NCiAgICBkZWYgbmFsVW1lblN1YiA9IGdldFRvdGFsRnJvbUZvcm0oZGF0YVJvd3NBZHZhbmNlLCAndGF4U3VtVG9SZWR1Y3Rpb24nKQ0KICAgIC8qKiDQntGC0LrQu9CS0YvRgNCm0JHQntCx0YAuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDIxLiDQmtC+0LQg0LLQuNC00LAg0LTQvtGF0L7QtNCwID0gMTExMjAsIDExMTMwLiAqLw0KICAgIGRlZiBvdGtsVmlyQ0JPcmIgPSBnZXRMb25nKGdldENvbXBsZXhJbmNvbWVTdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhJbmNvbWUsIFsxMTEyMCwgMTExMzBdKSkNCiAgICAvKiog0J7RgtC60LvQktGL0YDQptCR0J3QtdCe0LHRgC4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAwMjIuINCa0L7QtCDQstC40LTQsCDQtNC+0YXQvtC00LAgPSAxMTE0MCwgMTExNTAuICovDQogICAgZGVmIG90a2xWaXJDQk5lT2JyID0gZ2V0TG9uZyhnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGF0YVJvd3NDb21wbGV4SW5jb21lLCBbMTExNDAsIDExMTUwXSkpDQogICAgLyoqINCS0L3QtdCg0LXQsNC70JTQvtGF0JLRgS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAxMDAuICovDQogICAgZGVmIHZuZVJlYWxEb2hWcyA9IGRvaFZuZXJlYWwNCiAgICAvKiog0JLQvdC10KDQtdCw0LvQlNC+0YXQodGCLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDEwMi4g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQsCA9IDE2MzAwLiAqLw0KICAgIGRlZiB2bmVSZWFsRG9oU3QgPSBnZXRMb25nKGdldENvbXBsZXhJbmNvbWVTdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhJbmNvbWUsIFsxNjMwMF0pKQ0KICAgIC8qKiDQktC90LXQoNC10LDQu9CU0L7RhdCR0LXQt9CyLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDEwMy4g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQsCA9IDE2MTUwLiAqLw0KICAgIGRlZiB2bmVSZWFsRG9oQmV6diA9IGdldExvbmcoZ2V0U2ltcGxlSW5jb21lU3VtUm93czgoZGF0YVJvd3NTaW1wbGVJbmNvbWUsIFsxNjE1MF0pKQ0KICAgIC8qKiDQktC90LXQoNC10LDQu9CU0L7RhdCY0LfQuy4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAxMDQuINCa0L7QtCDQstC40LTQsCDQtNC+0YXQvtC00LAgPSAxNjQwMCwgMTY0MTAuICovDQogICAgZGVmIHZuZVJlYWxEb2hJemwgPSBnZXRMb25nKGdldFNpbXBsZUluY29tZVN1bVJvd3M4KGRhdGFSb3dzU2ltcGxlSW5jb21lLCBbMTY0MDAsIDE2NDEwXSkpDQogICAgLyoqINCS0L3QtdCg0LXQsNC70JTQvtGF0JLQoNCw0YHRhS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAxMDUuINCa0L7QtCDQstC40LTQsCDQtNC+0YXQvtC00LAgPSAxNjQyMC4gKi8NCiAgICBkZWYgdm5lUmVhbERvaFZSYXNoID0gZ2V0TG9uZyhnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGF0YVJvd3NDb21wbGV4SW5jb21lLCBbMTY0MjBdKSkNCiAgICAvKiog0JLQvdC10KDQtdCw0LvQlNC+0YXQoNGL0L3QptCR0JTQlC4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAxMDYuINCa0L7QtCDQstC40LTQsCDQtNC+0YXQvtC00LAgPSAxNjk3MCwgMTY5ODAsIDE2OTkwLCAxNzAwMCwgMTcwMTAsIDE3MDIwLCAxNzAzMCwgMTcwNDAsIDE3MDYwLCAxNzA3MCwgMTcwODAsIDE3MDkwLCAxNzEwMCwgMTcxMTAsIDE3MTIwLiAqLw0KICAgIGRlZiB2bmVSZWFsRG9oUmluQ0JERCA9IGdldExvbmcoZ2V0Q29tcGxleEluY29tZVN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleEluY29tZSwgWzE2OTcwLCAxNjk4MCwgMTY5OTAsIDE3MDAwLCAxNzAxMCwgMTcwMjAsIDE3MDMwLCAxNzA0MCwgMTcwNjAsIDE3MDcwLCAxNzA4MCwgMTcwOTAsIDE3MTAwLCAxNzExMCwgMTcxMjBdKSkNCiAgICAvKiog0JLQvdC10KDQtdCw0LvQlNC+0YXQmtC+0YAuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMTA3LiDQmtC+0LQg0LLQuNC00LAg0LTQvtGF0L7QtNCwID0gMTkwMDAsIDE5MDMwLCAxOTA2MCwgMTkwOTAsIDE5MTIwLCAxOTE1MCwgMTkxODAsIDE5MjEwLCAxOTI0MCwgMTkyNzAsIDE5MzAwLCAxOTMzMCwgMTkzNjAsIDE5MzkwLCAxOTQyMCwgMTk0NTAsIDE5NDgwLCAxOTUxMCwgMTk1NDAsIDE5NTcwLiAqLw0KICAgIGRlZiB2bmVSZWFsRG9oQ29yID0gZ2V0TG9uZyhnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGF0YVJvd3NDb21wbGV4SW5jb21lLCBbMTkwMDAsIDE5MDMwLCAxOTA2MCwgMTkwOTAsIDE5MTIwLCAxOTE1MCwgMTkxODAsIDE5MjEwLCAxOTI0MCwgMTkyNzAsIDE5MzAwLCAxOTMzMCwgMTkzNjAsIDE5MzkwLCAxOTQyMCwgMTk0NTAsIDE5NDgwLCAxOTUxMCwgMTk1NDAsIDE5NTcwXSkpDQogICAgLyoqINCd0LDQu9C+0LPQuC4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAwNDEuICovDQogICAgZGVmIG5hbG9naSA9IGdldE5hbG9naShkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgZGF0YVJvd3NTaW1wbGVDb25zdW1wdGlvbikNCiAgICAvKiog0KDQsNGB0YXQmtCw0L/QktC7MTAuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDQyLiDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyMDQ5MC4gKi8NCiAgICBkZWYgcmFzaENhcFZsMTAgPSBnZXRMb25nKGdldENvbXBsZXhDb25zdW1wdGlvblN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleENvbnN1bXB0aW9uLCBbMjA0OTBdKSkNCiAgICAvKiog0KDQsNGB0YXQmtCw0L/QktC7MzAuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDQzLiDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyMDUwMC4gKi8NCiAgICBkZWYgcmFzaENhcFZsMzAgPSBnZXRMb25nKGdldENvbXBsZXhDb25zdW1wdGlvblN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleENvbnN1bXB0aW9uLCBbMjA1MDBdKSkNCiAgICAvKiog0KDQsNGB0YXQl9C10LzQo9GHMzDQv9GALiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDA0OS4g0JrQvtC0INCy0LjQtNCwINGA0LDRgdGF0L7QtNCwID0gMjA5NzAuICovDQogICAgZGVmIHJhc2haZW1VY2gzMHByID0gZ2V0TG9uZyhnZXRDb21wbGV4Q29uc3VtcHRpb25TdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgWzIwOTcwXSkpDQogICAgLyoqINCg0LDRgdGF0JfQtdC80KPRh9Ch0YDQvtC60JDRgC4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAwNTEuINCa0L7QtCDQstC40LTQsCDRgNCw0YHRhdC+0LTQsCA9IDIwOTgwLiAqLw0KICAgIGRlZiByYXNoWmVtVWNoU3JvY0FyID0gZ2V0TG9uZyhnZXRDb21wbGV4Q29uc3VtcHRpb25TdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgWzIwOTgwXSkpDQogICAgLyoqINCg0LDRgdGF0JfQtdC80KPRh9CS0YEuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMDQ3LiDQmtC+0LQg0LLQuNC00LAg0LTQvtGF0L7QtNCwID0gMjA5NzAsIDIwOTgwLiAqLw0KICAgIGRlZiByYXNoWmVtVWNoVnMgPSBnZXRMb25nKGdldENvbXBsZXhDb25zdW1wdGlvblN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleENvbnN1bXB0aW9uLCBbMjA5NzAsIDIwOTgwXSkpDQoNCiAgICAvKiog0KHRg9C80JDQvNC+0YDRgtCf0LXRgNCbLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDEzMS4g0JrQvtC0INCy0LjQtNCwINGA0LDRgdGF0L7QtNCwID0gMjA0NzAsIDIwNTEwLiAqLw0KICAgIGRlZiBzdW1BbW9ydFBlckwgPSBnZXRMb25nKGdldENvbXBsZXhDb25zdW1wdGlvblN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleENvbnN1bXB0aW9uLCBbMjA0NzAsIDIwNTEwXSkpDQogICAgLyoqINCh0YPQvNCQ0LzQvtGA0YLQn9C10YDQndC80JDQmy4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAxMzIuINCa0L7QtCDQstC40LTQsCDRgNCw0YHRhdC+0LTQsCA9IDIwNDcwLiAqLw0KICAgIGRlZiBzdW1BbW9ydFBlck5tQUwgPSBnZXRMb25nKGdldENvbXBsZXhDb25zdW1wdGlvblN1bVJvd3M5KGRhdGFSb3dzQ29tcGxleENvbnN1bXB0aW9uLCBbMjA0NzBdKSkNCiAgICAvKiog0KDQsNGB0YXQktC90LXRgNC10LDQu9Cf0YDQlNCeLiDQmtC+0LQg0YHRgtGA0L7QutC4INC00LXQutC70LDRgNCw0YbQuNC4IDIwMS4gKi8NCiAgICBkZWYgcmFzaFZuZXJlYWxQckRPID0gZ2V0TG9uZyhnZXRSYXNoVm5lcmVhbFByRE8oZGF0YVJvd3NDb21wbGV4Q29uc3VtcHRpb24sIGRhdGFSb3dzU2ltcGxlQ29uc3VtcHRpb24pKQ0KICAgIC8qKiDQoNCw0YHRhdCb0LjQutCy0J7QoS4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAyMDQuINCa0L7QtCDQstC40LTQsCDRgNCw0YHRhdC+0LTQsCA9IDI2MzYwLiAqLw0KICAgIGRlZiByYXNoTGlrdk9TID0gZ2V0TG9uZyhnZXRDb21wbGV4Q29uc3VtcHRpb25TdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgWzI2MzYwXSkpDQogICAgLyoqINCg0LDRgdGF0KjRgtGA0LDRhC4g0JrQvtC0INGB0YLRgNC+0LrQuCDQtNC10LrQu9Cw0YDQsNGG0LjQuCAyMDUuICovDQogICAgZGVmIHJhc2hTaHRyYWYgPSBnZXRSYXNoU2h0cmFmKGRhdGFSb3dzU2ltcGxlQ29uc3VtcHRpb24pDQogICAgLyoqINCg0LDRgdGF0KDRi9C90KbQkdCU0JQuINCa0L7QtCDRgdGC0YDQvtC60Lgg0LTQtdC60LvQsNGA0LDRhtC40LggMjA2LiDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyNjgyMCwgMjY4MzAsIDI2ODQwLCAyNjg1MCwgMjY4NjAsIDI2ODcwLCAyNjg4MCwgMjY4OTAuICovDQogICAgZGVmIHJhc2hSaW5DQkREID0gZ2V0TG9uZyhnZXRDb21wbGV4Q29uc3VtcHRpb25TdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgWzI2ODIwLCAyNjgzMCwgMjY4NDAsIDI2ODUwLCAyNjg2MCwgMjY4NzAsIDI2ODgwLCAyNjg5MF0pKQ0KDQogICAgLy8g0J/RgNC40LvQvtC20LXQvdC40LUg0Log0L3QsNC70L7Qs9C+0LLQvtC5INC00LXQutC70LDRgNCw0YbQuNC4DQogICAgLyoqINCh0LLQptC10LvQodGA0LXQtCAtINCx0LvQvtC6LiDQotCw0LHQuy4gMzYuINCQ0LvQs9C+0YDQuNGC0LzRiyDQt9Cw0L/QvtC70L3QtdC90LjRjyDQvtGC0LTQtdC70YzQvdGL0YUg0LDRgtGA0LjQsdGD0YLQvtCyIMKr0J/RgNC40LvQvtC20LXQvdC40LUg0Log0L3QsNC70L7Qs9C+0LLQvtC5INC00LXQutC70LDRgNCw0YbQuNC4wrsgINC00LXQutC70LDRgNCw0YbQuNC4INCR0LDQvdC60LAg0L/QviDQvdCw0LvQvtCz0YMg0L3QsCDQv9GA0LjQsdGL0LvRjC4gKi8NCiAgICBkZWYgc3ZDZWxTcmVkID0gbmV3IEhhc2hNYXAoKQ0KICAgIGlmIChkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiAhPSBudWxsKSB7DQogICAgICAgIC8vIDY3NywgNzAwLCA4OTANCiAgICAgICAgZGVmIG1hcCA9IFsNCiAgICAgICAgICAgICAgICA2NzcgOiBbMjA1MjBdLA0KICAgICAgICAgICAgICAgIDcwMCA6IFsyMDQ4MF0sDQogICAgICAgICAgICAgICAgODkwIDogWzIwODUwXQ0KICAgICAgICBdDQogICAgICAgIG1hcC5lYWNoIHsgaWQsIGNvZGVzIC0+DQogICAgICAgICAgICBkZWYgcmVzdWx0ID0gZ2V0TG9uZyhnZXRDb21wbGV4Q29uc3VtcHRpb25TdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhDb25zdW1wdGlvbiwgY29kZXMpKQ0KICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSAwKSB7DQogICAgICAgICAgICAgICAgc3ZDZWxTcmVkW2lkXSA9IHJlc3VsdA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChkYXRhUm93c1NpbXBsZUNvbnN1bXB0aW9uICE9IG51bGwpIHsNCiAgICAgICAgLy8gNzgwLCA3OTAsIDgxMSwgODEyLCA4MTMNCiAgICAgICAgZGVmIG1hcCA9IFsNCiAgICAgICAgICAgICAgICA3ODAgOiBbMjAzMzBdLA0KICAgICAgICAgICAgICAgIDc5MCA6IFsyMDMyMF0sDQogICAgICAgICAgICAgICAgODExIDogWzIwNDUwXSwNCiAgICAgICAgICAgICAgICA4MTIgOiBbMjA0MDAsIDIwNDEwXSwNCiAgICAgICAgICAgICAgICA4MTMgOiBbMjAzNzAsIDIwMzgwXQ0KICAgICAgICBdDQogICAgICAgIG1hcC5lYWNoIHsgaWQsIGNvZGVzIC0+DQogICAgICAgICAgICBkZWYgcmVzdWx0ID0gZ2V0TG9uZyhnZXRDYWxjdWxhdGVkU2ltcGxlQ29uc3VtcHRpb24oZGF0YVJvd3NTaW1wbGVDb25zdW1wdGlvbiwgY29kZXMpKQ0KICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSAwKSB7DQogICAgICAgICAgICAgICAgc3ZDZWxTcmVkW2lkXSA9IHJlc3VsdA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vIDk0MCwgOTUwDQogICAgICAgIG1hcCA9IFsNCiAgICAgICAgICAgICAgICA5NDAgOiBbMjY1MDAsIDI2NTEwXSwNCiAgICAgICAgICAgICAgICA5NTAgOiBbMjY1MjBdDQogICAgICAgIF0NCiAgICAgICAgbWFwLmVhY2ggeyBpZCwgY29kZXMgLT4NCiAgICAgICAgICAgIGRlZiByZXN1bHQgPSBnZXRMb25nKGdldFNpbXBsZUNvbnN1bXB0aW9uU3VtUm93czgoZGF0YVJvd3NTaW1wbGVDb25zdW1wdGlvbiwgY29kZXMpKQ0KICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSAwKSB7DQogICAgICAgICAgICAgICAgc3ZDZWxTcmVkW2lkXSA9IHJlc3VsdA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1INC6INC90LDQu9C+0LPQvtCy0L7QuSDQtNC10LrQu9Cw0YDQsNGG0LjQuCAtINC60L7QvdC10YYNCg0KICAgIGlmICh4bWwgPT0gbnVsbCkgew0KICAgICAgICByZXR1cm4NCiAgICB9DQoNCiAgICAvLyDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUgWE1MJ9C60LguDQoNCiAgICBNYXJrdXBCdWlsZGVyIGJ1aWxkZXIgPSBuZXcgTWFya3VwQnVpbGRlcih4bWwpDQoNCiAgICBidWlsZGVyLtCk0LDQudC7KA0KICAgICAgICAgICAg0JjQtNCk0LDQudC7IDogZ2VuZXJhdGVYbWxGaWxlSWQodGF4T3JnYW5Db2RlUHJvbSwgdGF4T3JnYW5Db2RlKSwNCiAgICAgICAgICAgINCS0LXRgNGB0J/RgNC+0LMgOiBhcHBsaWNhdGlvblZlcnNpb24sDQogICAgICAgICAgICDQktC10YDRgdCk0L7RgNC8IDogZm9ybWF0VmVyc2lvbil7DQoNCiAgICAgICAgLy8g0KLQuNGC0YPQu9GM0L3Ri9C5INC70LjRgdGCDQogICAgICAgINCU0L7QutGD0LzQtdC90YIoDQogICAgICAgICAgICAgICAg0JrQndCUIDogIGtuZCwNCiAgICAgICAgICAgICAgICDQlNCw0YLQsNCU0L7QuiA6IChkb2NEYXRlICE9IG51bGwgPyBkb2NEYXRlIDogbmV3IERhdGUoKSkuZm9ybWF0KCJkZC5NTS55eXl5IiksDQogICAgICAgICAgICAgICAg0J/QtdGA0LjQvtC0IDogcGVyaW9kLA0KICAgICAgICAgICAgICAgINCe0YLRh9C10YLQk9C+0LQgOiAodGF4UGVyaW9kICE9IG51bGwgPyB0YXhQZXJpb2QueWVhciA6IGVtcHR5KSwNCiAgICAgICAgICAgICAgICDQmtC+0LTQndCeIDogdGF4T3JnYW5Db2RlLA0KICAgICAgICAgICAgICAgINCd0L7QvNCa0L7RgNGAIDogcmVwb3J0UGVyaW9kU2VydmljZS5nZXRDb3JyZWN0aW9uTnVtYmVyKGRlY2xhcmF0aW9uRGF0YS5kZXBhcnRtZW50UmVwb3J0UGVyaW9kSWQpLA0KICAgICAgICAgICAgICAgINCf0L7QnNC10YHRgtGDIDogdGF4UGxhY2VUeXBlQ29kZSkgew0KDQogICAgICAgICAgICDQodCy0J3QnygNCiAgICAgICAgICAgICAgICAgICAgW9Ce0JrQktCt0JQgOiBva3ZlZENvZGVdICsgKHBob25lID8gW9Ci0LvRhCA6IHBob25lXSA6IFs6XSkpIHsNCg0KICAgICAgICAgICAgICAgINCd0J/QrtCbKA0KICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC40LzQntGA0LMgOiBuYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAg0JjQndCd0K7QmyA6IGlubiwNCiAgICAgICAgICAgICAgICAgICAgICAgINCa0J/QnyA6IGtwcCkgew0KDQogICAgICAgICAgICAgICAgICAgIGlmIChyZW9yZ0Zvcm1Db2RlICE9IG51bGwgJiYgIXJlb3JnRm9ybUNvZGUuZXF1YWxzKCIiKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAg0KHQstCg0LXQvtGA0LPQrtCbKFvQpNC+0YDQvNCg0LXQvtGA0LM6IHJlb3JnRm9ybUNvZGVdICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEludGVnZXIucGFyc2VJbnQocmVvcmdGb3JtQ29kZSkgaW4gWzEsIDIsIDMsIDUsIDZdID8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBb0JjQndCd0K7QmzogcmVvcmdJbm4sINCa0J/QnzogcmVvcmdLcHBdIDogW10pDQogICAgICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgINCf0L7QtNC/0LjRgdCw0L3RgijQn9GA0J/QvtC00L8gOiBwclBvZHApIHsNCiAgICAgICAgICAgICAgICDQpNCY0J4oDQogICAgICAgICAgICAgICAgICAgICAgICBb0KTQsNC80LjQu9C40Y8gOiBzaWduYXRvcnlTdXJuYW1lLCDQmNC80Y8gOiBzaWduYXRvcnlGaXJzdE5hbWVdICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNpZ25hdG9yeUxhc3ROYW1lICE9IG51bGwgPyBb0J7RgtGH0LXRgdGC0LLQviA6IHNpZ25hdG9yeUxhc3ROYW1lXSA6IFs6XSkpDQogICAgICAgICAgICAgICAgaWYgKHByUG9kcCAhPSAxKSB7DQogICAgICAgICAgICAgICAgICAgINCh0LLQn9GA0LXQtCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBb0J3QsNC40LzQlNC+0LogOiBhcHByb3ZlRG9jTmFtZV0gKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFwcHJvdmVPcmdOYW1lICE9IG51bGwgPyBb0J3QsNC40LzQntGA0LMgOiBhcHByb3ZlT3JnTmFtZV0gOiBbOl0gKQ0KICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8g0KLQuNGC0YPQu9GM0L3Ri9C5INC70LjRgdGCIC0g0LrQvtC90LXRhg0KDQogICAgICAgICAgICDQn9GA0LjQsdGL0LvRjCgpIHsNCiAgICAgICAgICAgICAgICDQndCw0LvQn9CjKCkgew0KICAgICAgICAgICAgICAgICAgICAvLyDQoNCw0LfQtNC10LsgMS4g0J/QvtC00YDQsNC30LTQtdC7IDEuMQ0KICAgICAgICAgICAgICAgICAgICAvLyAwLi5uIC8vINCy0YHQtdCz0LTQsCDQvtC00LjQvQ0KICAgICAgICAgICAgICAgICAgICDQndCw0LvQn9Cj0JDQsijQntCa0KLQnNCeOiBva3Rtbykgew0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIG5hbFB1ID0gKG5hbERvcGxGQiAhPSAwID8gbmFsRG9wbEZCIDogLW5hbFVtZW5GQikNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgINCk0LXQtNCR0LTQtigNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JrQkdCaOiBrYmssDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9Cf0KM6IG5hbFB1KQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBuYWxQdSA9IDANCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93c0FkdmFuY2UgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINC/0L7Qu9GD0YfQtdC90LjQtSDRgdGC0YDQvtC60Lgg0L/QvtC00YDQsNC30LTQtdC70LXQvdC40Y8gItCm0JAiLCDQt9Cw0YLQtdC8INC30L3QsNGH0LXQvdC40LUg0YHRgtC+0LvQsdGG0LAgwqvQodGD0LzQvNCwINC90LDQu9C+0LPQsCDQuiDQtNC+0L/Qu9Cw0YLQtSBbMTAwXcK7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmIHJvd0Zvck5hbFB1ID0gZ2V0RGF0YVJvdyhkYXRhUm93c0FkdmFuY2UsICdjYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g0L3QsNC70J/RgyA9INGB0YLRgNC+0LrQsCAwNzAsINC10YHQu9C4INGB0YLRgNC+0LrQsCAwNzAgPT0gMCwg0YLQviDRgdGC0YDQvtC60LAgMDgwLCDQtdGB0LvQuCDRgdGC0YDQvtC60LAgMDgwID09IDAsINGC0L4gMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbFB1ID0gKHJvd0Zvck5hbFB1ICE9IG51bGwgPw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJvd0Zvck5hbFB1LnRheFN1bVRvUGF5ID86ICgtIChyb3dGb3JOYWxQdS50YXhTdW1Ub1JlZHVjdGlvbiA/OiAwKSkpIDogMCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFsUHUgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYWxQdSA9IDANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgINCh0YPQsdCR0LTQtigNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JrQkdCaIDoga2JrMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70J/QoyA6IG5hbFB1KQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vINCg0LDQt9C00LXQuyAxLiDQn9C+0LTRgNCw0LfQtNC10LsgMS4xIC0g0LrQvtC90LXRhg0KDQogICAgICAgICAgICAgICAgICAgIC8vINCg0LDQt9C00LXQuyAxLiDQn9C+0LTRgNCw0LfQtNC10LsgMS4yDQogICAgICAgICAgICAgICAgICAgIGlmIChwZXJpb2QgIT0gMzQgJiYgcGVyaW9kICE9IDUwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi5uDQogICAgICAgICAgICAgICAgICAgICAgICAvLyDQmtCy0JjRgdGH0LjRgdC70JDQsiA6ICcwMCcsDQogICAgICAgICAgICAgICAgICAgICAgICDQndCw0LvQn9Cj0JzQtdGBKNCe0JrQotCc0J4gOiBva3Rtbykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBsaXN0MDJSb3czMDAgPSBhdlBsYXRNZXNGQg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBhdlBsYXQxID0gKGxvbmcpIGxpc3QwMlJvdzMwMCAvIDMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYgYXZQbGF0MiA9IGF2UGxhdDENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYgYXZQbGF0MyA9IGdldExvbmcobGlzdDAyUm93MzAwIC0gYXZQbGF0MSAtIGF2UGxhdDIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMC4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCk0LXQtNCR0LTQtigNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCa0JHQmiA6IGtiaywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCQ0LLQn9C70LDRgjEgOiBhdlBsYXQxLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JDQstCf0LvQsNGCMiA6IGF2UGxhdDIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQkNCy0J/Qu9Cw0YIzIDogYXZQbGF0MykNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2UGxhdDEgPSBlbXB0eQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2UGxhdDIgPSBlbXB0eQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2UGxhdDMgPSBlbXB0eQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNUYXhQZXJpb2QgJiYgZGF0YVJvd3NBZHZhbmNlICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g0L/QvtC70YPRh9C10L3QuNC1INGB0YLRgNC+0LrQuCDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRjyAi0KbQkCIsINC30LDRgtC10Lwg0LfQvdCw0YfQtdC90LjQtSDRgdGC0L7Qu9Cx0YbQsCDCq9CV0LbQtdC80LXRgdGP0YfQvdGL0LUg0LDQstCw0L3RgdC+0LLRi9C1INC/0LvQsNGC0LXQttC4INCyINC60LLQsNGA0YLQsNC70LUsINGB0LvQtdC00YPRjtGJ0LXQvCDQt9CwINC+0YLRh9GR0YLQvdGL0Lwg0L/QtdGA0LjQvtC00L7QvCAo0YLQtdC60YPRidC40Lkg0L7RgtGH0ZHRginCuw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYgcm93Rm9yQXZQbGF0ID0gZ2V0RGF0YVJvdyhkYXRhUm93c0FkdmFuY2UsICdjYScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBhdlBsYXRzID0gZ2V0QXZQbGF0cyhyb3dGb3JBdlBsYXQsIHJlcG9ydFBlcmlvZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZQbGF0MSA9IGF2UGxhdHNbMF0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZQbGF0MiA9IGF2UGxhdHNbMV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZQbGF0MyA9IGF2UGxhdHNbMl0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMC4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0YPQsdCR0LTQtigNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCa0JHQmiA6IGtiazIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQkNCy0J/Qu9Cw0YIxIDogYXZQbGF0MSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCQ0LLQn9C70LDRgjIgOiBhdlBsYXQyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JDQstCf0LvQsNGCMyA6IGF2UGxhdDMpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8g0KDQsNC30LTQtdC7IDEuINCf0L7QtNGA0LDQt9C00LXQuyAxLjIgLSDQutC+0L3QtdGGDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFSb3dzVGF4U3VtICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCg0LDQt9C00LXQuyAxLiDQn9C+0LTRgNCw0LfQtNC10LsgMS4zDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhUm93c1RheFN1bS5zb3J0IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRSZWZCb29rVmFsdWUoMjQsIGl0LnBheW1lbnRUeXBlKT8uQ09ERT8udmFsdWUgKyBpdC5va2F0b0NvZGUgKyBpdC5idWRnZXRDbGFzc2lmaWNhdGlvbkNvZGUNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3dzVGF4U3VtLmVhY2ggeyByb3cgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi5uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70J/Qo9Cf0YDQvtGGKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLQuNC00J/Qu9Cw0YIgOiBnZXRSZWZCb29rVmFsdWUoMjQsIHJvdy5wYXltZW50VHlwZSk/LkNPREU/LnZhbHVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J7QmtCi0JzQniA6IHJvdy5va2F0b0NvZGU/LnN1YnN0cmluZygwLDgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JrQkdCaIDogcm93LmJ1ZGdldENsYXNzaWZpY2F0aW9uQ29kZSkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLm4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KPQv9C70KHRgNC+0LooDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHRgNC+0LogOiAocm93LmRhdGVPZlBheW1lbnQgIT0gbnVsbCA/IHJvdy5kYXRlT2ZQYXltZW50LmZvcm1hdCgnZGQuTU0ueXl5eScpIDogZW1wdHkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9Cf0KMgOiBnZXRMb25nKHJvdy5zdW1UYXgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyDQoNCw0LfQtNC10LsgMS4g0J/QvtC00YDQsNC30LTQtdC7IDEuMyAtINC60L7QvdC10YYNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyDQm9C40YHRgiAwMg0KICAgICAgICAgICAgICAgIC8vIDAuLjQNCiAgICAgICAgICAgICAgICDQoNCw0YHRh9Cd0LDQuygNCiAgICAgICAgICAgICAgICAgICAgICAgINCi0LjQv9Cd0J8gOiB0eXBlTlAsDQovLyAgICAgICAgICAgICAgICAgICAgICAgINCh0LXRgNCb0LjRhtCd0LXQtNGAIDogc2VyTGljTmVkciwNCi8vICAgICAgICAgICAgICAgICAgICAgICAg0J3QvtC80JvQuNGG0J3QtdC00YAgOiBub21MaWNOZWRyLA0KLy8gICAgICAgICAgICAgICAgICAgICAgICDQktC40LTQm9C40YbQndC10LTRgCA6IHZpZExpY05lZHIsDQovLyAgICAgICAgICAgICAgICAgICAgICAgINCd0L7QvNCc0L7RgNCc0LXRgdGCIDogbm9tTW9yTWVzdCwNCiAgICAgICAgICAgICAgICAgICAgICAgINCU0L7RhdCg0LXQsNC7IDogZG9oUmVhbCwNCiAgICAgICAgICAgICAgICAgICAgICAgINCU0L7RhdCS0L3QtdGA0LXQsNC7IDogZG9oVm5lcmVhbCwNCiAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0KPQvNCg0LXQsNC7IDogcmFzaFVtUmVhbCwNCiAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0JLQvdC10YDQtdCw0LsgOiByYXNoVm5lcmVhbCwNCiAgICAgICAgICAgICAgICAgICAgICAgINCj0LHRi9GC0LrQuCA6IHViaXRraSwNCiAgICAgICAgICAgICAgICAgICAgICAgINCf0YDQuNCx0KPQsSA6IHByaWJVYiwNCiAgICAgICAgICAgICAgICAgICAgICAgINCU0L7RhdCY0YHQutC70J/RgNC40LEgOiBkb2hJc2tsUHJpYiwNCiAgICAgICAgICAgICAgICAgICAgICAgINCf0YDQuNCx0JHQoNCh0YIwIDogZW1wdHksDQogICAgICAgICAgICAgICAgICAgICAgICDQodGD0LzQm9GM0LPQvtGCIDogZW1wdHksDQogICAgICAgICAgICAgICAgICAgICAgICDQndCw0LvQkdCw0LfQsCA6IG5hbEJhemEsDQogICAgICAgICAgICAgICAgICAgICAgICDQo9Cx0YvRgtCj0LzQndCRIDogZW1wdHksDQogICAgICAgICAgICAgICAgICAgICAgICDQndCw0LvQkdCw0LfQsNCY0YHRhyA6IG5hbEJhemFJc2NoLA0KICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JHQsNC30LDQmNGB0YfQodGD0LEgOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgINCh0YLQsNCy0J3QsNC70JLRgdC10LPQviA6IGVtcHR5LA0KICAgICAgICAgICAgICAgICAgICAgICAg0KHRgtCw0LLQndCw0LvQpNCRIDogdGF4UmF0ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgINCh0YLQsNCy0J3QsNC70KHRg9CxIDogZW1wdHksDQogICAgICAgICAgICAgICAgICAgICAgICDQodGC0LDQstCd0LDQu9Ch0YPQsTI4NCA6IGVtcHR5LA0KICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JjRgdGH0LjRgdC7IDogbmFsSXNjaGlzbCwNCiAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9CY0YHRh9C40YHQu9Ck0JEgOiBuYWxJc2NoaXNsRkIsDQogICAgICAgICAgICAgICAgICAgICAgICDQndCw0LvQmNGB0YfQuNGB0LvQodGD0LEgOiBuYWxJc2NoaXNsU3ViLA0KICAgICAgICAgICAgICAgICAgICAgICAg0JDQstCd0LDRh9C40YHQuyA6IGF2TmFjaGlzbCwNCiAgICAgICAgICAgICAgICAgICAgICAgINCQ0LLQndCw0YfQuNGB0LvQpNCRIDogYXZOYWNoaXNsRkIsDQogICAgICAgICAgICAgICAgICAgICAgICDQkNCy0J3QsNGH0LjRgdC70KHRg9CxIDogYXZOYWNoaXNsU3ViLA0KICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JLRi9C/0LszMTEgOiBuYWxWaXBsMzExLA0KICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JLRi9C/0LszMTHQpNCRIDogbmFsVmlwbDMxMUZCLA0KICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JLRi9C/0LszMTHQodGD0LEgOiBuYWxWaXBsMzExU3ViLA0KICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JTQvtC/0LvQpNCRIDogbmFsRG9wbEZCLA0KICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JTQvtC/0LvQodGD0LEgOiBuYWxEb3BsU3ViLA0KICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70KPQvNC10L3QpNCRIDogbmFsVW1lbkZCLA0KICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70KPQvNC10L3QodGD0LEgOiBuYWxVbWVuU3ViLA0KICAgICAgICAgICAgICAgICAgICAgICAg'
        longString += '0JDQstCf0LvQsNGC0JzQtdGBIDogYXZQbGF0TWVzLA0KICAgICAgICAgICAgICAgICAgICAgICAg0JDQstCf0LvQsNGC0JzQtdGB0KTQkSA6IGF2UGxhdE1lc0ZCLA0KICAgICAgICAgICAgICAgICAgICAgICAg0JDQstCf0LvQsNGC0JzQtdGB0KHRg9CxIDogYXZQbGF0TWVzU3ViLA0KICAgICAgICAgICAgICAgICAgICAgICAg0JDQstCf0LvQsNGC0KPQv9C7MdCa0LIgOiBhdlBsYXRVcGwxQ3YsDQogICAgICAgICAgICAgICAgICAgICAgICDQkNCy0J/Qu9Cw0YLQo9C/0Lsx0JrQstCk0JEgOiBhdlBsYXRVcGwxQ3ZGQiwNCiAgICAgICAgICAgICAgICAgICAgICAgINCQ0LLQn9C70LDRgtCj0L/QuzHQmtCy0KHRg9CxIDogYXZQbGF0VXBsMUN2U3ViKSB7DQogICAgICAgICAgICAgICAgICAgIC8vINCb0LjRgdGCIDAyIC0g0LrQvtC90LXRhg0KDQogICAgICAgICAgICAgICAgICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1IOKEliAxINC6INCb0LjRgdGC0YMgMDINCiAgICAgICAgICAgICAgICAgICAgLy8gMC4uMQ0KICAgICAgICAgICAgICAgICAgICDQlNC+0YXQoNC10LDQu9CS0L3QtdCg0LXQsNC7KNCi0LjQv9Cd0J8gOiB0eXBlTlApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgINCU0L7RhdCg0LXQsNC7KA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktGL0YDQoNC10LDQu9Cf0YDQtdC0IDogdmlyUmVhbFByZWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCS0YvRgNCg0LXQsNC70J7Qv9C10YAzMiA6IHZpcnVjaE9wMzAySXQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCS0YvRgNCg0LXQsNC70JjRgtC+0LMgOiBkb2hSZWFsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMC4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCS0YvRgNCg0LXQsNC7KA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLRi9GA0KDQtdCw0LvQktGBIDogdmlyUmVhbFZzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLRi9GA0KDQtdCw0LvQotC+0LLQodC+0LEgOiB2aXJSZWFsVG92U29iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLRi9GA0KDQtdCw0LvQotC+0LLQn9C+0LogOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCS0YvRgNCg0LXQsNC70JjQvNCf0YDQsNCyIDogdmlyUmVhbEltUHJhdiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCS0YvRgNCg0LXQsNC70JjQvNCf0YDQvtGHIDogdmlyUmVhbEltUHJvY2gpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMC4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCS0YvRgNCg0LXQsNC70KbQkSgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCS0YvRgNCg0LXQsNC70KbQkdCS0YEgOiB2aXJSZWFsQ0JWcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCe0YLQutC70JLRi9GA0KbQkdCe0LHRgCA6IG90a2xWaXJDQk9yYiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCe0YLQutC70JLRi9GA0KbQkdCd0LXQntCx0YAgOiBvdGtsVmlyQ0JOZU9icikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi4xDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLRi9GA0KDQtdCw0LvQptCR0J7QsdGAKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLRi9GA0KDQtdCw0LvQptCR0JLRgSA6IGVtcHR5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J7RgtC60LvQktGL0YDQptCR0JzQuNC9IDogZW1wdHkpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi4xDQogICAgICAgICAgICAgICAgICAgICAgICDQlNC+0YXQktC90LXQoNC10LDQuygNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLQvdC10KDQtdCw0LvQlNC+0YXQktGBIDogdm5lUmVhbERvaFZzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktC90LXQoNC10LDQu9CU0L7RhdCf0YAgOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLQvdC10KDQtdCw0LvQlNC+0YXQodGCIDogdm5lUmVhbERvaFN0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktC90LXQoNC10LDQu9CU0L7RhdCR0LXQt9CyIDogdm5lUmVhbERvaEJlenYsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCS0L3QtdCg0LXQsNC70JTQvtGF0JjQt9C7IDogdm5lUmVhbERvaEl6bCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLQvdC10KDQtdCw0LvQlNC+0YXQktCg0LDRgdGFIDogdm5lUmVhbERvaFZSYXNoLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktC90LXQoNC10LDQu9CU0L7RhdCg0YvQvdCm0JHQlNCUIDogdm5lUmVhbERvaFJpbkNCREQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCS0L3QtdCg0LXQsNC70JTQvtGF0JrQvtGAIDogdm5lUmVhbERvaENvcikNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyDQn9GA0LjQu9C+0LbQtdC90LjQtSDihJYgMSDQuiDQm9C40YHRgtGDIDAyIC0g0LrQvtC90LXRhg0KDQogICAgICAgICAgICAgICAgICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1IOKEliAyINC6INCb0LjRgdGC0YMgMDINCiAgICAgICAgICAgICAgICAgICAgLy8gMC4uMQ0KICAgICAgICAgICAgICAgICAgICDQoNCw0YHRhdCg0LXQsNC70JLQvdC10KDQtdCw0LsoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0KLQuNC/0J3QnyA6IHR5cGVOUA0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHQtdGA0JvQuNGG0J3QtdC00YA6IGVtcHR5LA0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QvtC80JvQuNGG0J3QtdC00YA6IGVtcHR5LA0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLQuNC00JvQuNGG0J3QtdC00YAgOiBlbXB0eSwNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0L7QvNCc0L7RgNCc0LXRgdGCIDogZW1wdHkNCiAgICAgICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi4xDQogICAgICAgICAgICAgICAgICAgICAgICDQoNCw0YHRhdCg0LXQsNC7KA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQn9GA0Y/QvNCg0LDRgdGF0KDQtdCw0LsgOiBwcmFtUmFzaFJlYWwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LXQsNC70JjQvNGD0YnQn9GA0LDQsiA6IHJlYWxJbXVzaFByYXYsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCf0YDQuNC+0LHRgNCg0LXQsNC70JjQvNGD0YkgOiBwcmlvYnJSZWFsSW11c2gsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCQ0LrRgtC40LLQoNC10LDQu9Cf0YDQtdC0IDogYWN0aXZSZWFsUHJlZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J/RgNC40L7QsdCg0LXQsNC70KbQkSA6IHByaW9iclJlYWxDQiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHRg9C80J7RgtC60LvQptC10L0gOiBzdW1PdGtsQ2VuLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQn9GA0LjQvtCx0KDQtdCw0LvQptCR0J7RgNCzIDogcHJpb2JSZWFsQ0JPcmcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0YPQvNCe0YLQutC70KbQtdC90J7RgNCzIDogc3VtT3RrbENlbk9yZywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KDQsNGB0YXQntC/0LXRgDMyIDogcmFzaE9wZXIzMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KPQsdGL0YLQn9GA0L7RiNCe0LHRgdC7IDogdWJpdFByb3NoT2JzbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KPQsdGL0YLQoNC10LDQu9CQ0LzQmNC8IDogdWJpdFJlYWxBbUltLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQo9Cx0YvRgtCg0LXQsNC70JfQtdC80KPRhyA6IHViaXRSZWFsWmVtVWNoLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQndCw0LTQsdCf0L7QutCf0YDQtdC0IDogbmFkYlBva1ByZWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0J/RgNC40LfQvdCY0YLQvtCz0L4gOiByYXNoVW1SZWFsKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi4xDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0J/RgNGP0LzQoNCw0YHRhdCi0L7RgNCzKNCf0YDRj9C80KDQsNGB0YXQotC+0YDQs9CS0YEgOiBwcmFtUmFzaFRvcmdWcykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi4xDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0JrQvtGB0LLQoNCw0YHRhSgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCa0L7RgdCy0KDQsNGB0YXQktGBIDogY29zdlJhc2hWcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9C+0LPQuCA6IG5hbG9naSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0JrQsNC/0JLQuzEwIDogcmFzaENhcFZsMTAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQoNCw0YHRhdCa0LDQv9CS0LszMCA6IHJhc2hDYXBWbDMwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KDQsNGB0YXQotGA0YPQtNCY0L3QsiA6IGVtcHR5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KDQsNGB0YXQntGA0LPQmNC90LIgOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0JfQtdC80KPRh9CS0YEgOiByYXNoWmVtVWNoVnMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQoNCw0YHRhdCX0LXQvNCj0YfQodGA0L7QutCd0J8gOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0JfQtdC80KPRhzMw0L/RgCA6IHJhc2haZW1VY2gzMHByLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KDQsNGB0YXQl9C10LzQo9GH0KHRgNC+0LrQoNCw0YEgOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0JfQtdC80KPRh9Ch0YDQvtC60JDRgCA6IHJhc2haZW1VY2hTcm9jQXIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQndCY0J7QmtCgIDogZW1wdHksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQndCY0J7QmtCg0L3QtdCf0L7Qu9Cg0LXQtyA6IGVtcHR5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QmNCe0JrQoNCf0LXRgCA6IGVtcHR5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QmNCe0JrQoNCf0LXRgNCd0LXQoNC10LcgOiBlbXB0eSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgINCh0YPQvNCQ0LzQvtGA0YIoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0YPQvNCQ0LzQvtGA0YLQn9C10YDQmyA6IHN1bUFtb3J0UGVyTCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHRg9C80JDQvNC+0YDRgtCf0LXRgNCd0LzQkNCbIDogc3VtQW1vcnRQZXJObUFMLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQodGD0LzQkNC80L7RgNGC0J/QtdGA0J0gOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHRg9C80JDQvNC+0YDRgtCf0LXRgNCd0LzQkNCdIDogZW1wdHksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCc0LXRgtC+0LTQndCw0YfQkNC80L7RgNGCIDogJzEnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gMC4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAg0KDQsNGB0YXQktC90LXQoNC10LDQuygNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KDQsNGB0YXQktC90LXQoNC10LDQu9CS0YEgOiByYXNoVm5lcmVhbFZzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQoNCw0YHRhdCS0L3QtdGA0LXQsNC70J/RgNCU0J4gOiByYXNoVm5lcmVhbFByRE8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0JLQvdC10YDQtdCw0LvQoNC30YDQsiA6IGVtcHR5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQo9Cx0YvRgtCg0LXQsNC70J/RgNCw0LLQotGAIDogZW1wdHksIC8vINC90LUg0LfQsNC/0L7Qu9C90Y/QtdGC0YHRjyDRgSAyMDE1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0JvQuNC60LLQntChIDogcmFzaExpa3ZPUywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KDQsNGB0YXQqNGC0YDQsNGEIDogcmFzaFNodHJhZiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KDQsNGB0YXQoNGL0L3QptCR0JTQlCA6IHJhc2hSaW5DQkREKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gMC4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAg0KPQsdGL0YLQn9GA0LjRgNCw0LLQvSgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KPQsdGL0YLQn9GA0LjRgNCw0LLQvdCS0YEgOiB1Yml0UHJpcmF2blZzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQo9Cx0YvRgtCf0YDQvtGI0J/QtdGAIDogdWJpdFByb3NoUGVyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQodGD0LzQkdC10LfQvdCw0LTQlNC+0LvQsyA6IHN1bUJlem5hbERvbGcpDQogICAgICAgICAgICAgICAgICAgICAgICDQmtC+0YDQndCR0JvQuNGIKNCa0L7RgNCd0JHQm9C40YjQktGBIDogZW1wdHkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQmtC+0YDQndCR0JvQuNGI0JPQvtC0KNCT0L7QtDogeWVhciwg0JrQvtGA0J3QkdCb0LjRiNCS0YE6IGtvck5CbGlzaFZzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1IOKEliAyINC6INCb0LjRgdGC0YMgMDIgLSDQutC+0L3QtdGGDQoNCiAgICAgICAgICAgICAgICAgICAgLy8g0J/RgNC40LvQvtC20LXQvdC40LUg4oSWIDMg0Log0JvQuNGB0YLRgyAwMg0KICAgICAgICAgICAgICAgICAgICAvLyAwLi4xDQogICAgICAgICAgICAgICAgICAgINCg0LDRgdGH0KDQsNGB0YXQntC/0LXRgCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQotC40L/QndCfIDogdHlwZU5QLA0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHQtdGA0JvQuNGG0J3QtdC00YAgOiBlbXB0eSwNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0L7QvNCb0LjRhtCd0LXQtNGAIDogZW1wdHksDQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktC40LTQm9C40YbQndC10LTRgCA6IGVtcHR5LA0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QvtC80JzQvtGA0JzQtdGB0YIgOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQmtC+0LvQntCx0KDQtdCw0LvQkNCYIDpjb2xPYlJlYWxBSSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQmtC+0LvQntCx0KDQtdCw0LvQkNCY0KPQsSA6IGNvbE9iUmVhbEFJVWIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLRi9GA0YPRh9Cg0LXQsNC70JDQmCA6IHZpcnVjaFJlYWxBSSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQntGB0YLQodGC0KDQtdCw0LvQkNCYIDogb3N0U3RSZWFsQUksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0J/RgNC40LHQoNC10LDQu9CQ0JggOiBwcmliUmVhbEFJLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCj0LHRi9GC0KDQtdCw0LvQkNCYIDogdWJpdFJlYWxBSSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktGL0YDRg9GH0KDQtdCw0LvQotC+0LIgOiB2aXJ1Y2hSZWFsVG92LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0KDQtdCw0LvQotC+0LIgOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQo9Cx0YvRgtCe0LHQntCx0YHQuyA6IGVtcHR5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCj0LHRi9GC0J7QsdCe0LHRgdC70J3QtdC+0LHQuyA6IHViaXRPYk9ic2xOZW9ibCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNC+0YXQlNC+0LPQvtCy0JTQo9CYIDogZG9oRG9sZ292RFVJLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0L7RhdCU0L7Qs9C+0LLQlNCj0Jhf0JLQvdCgIDogZG9oRG9sZ292RFVJX1ZuUiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQoNCw0YHRhdCU0L7Qs9C+0LLQlNCj0JggOiByYXNoRG9sZ292RFVJLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0JTQvtCz0L7QstCU0KPQmF/QktC90KAgOiByYXNoRG9sZ292RFVJX1ZuUiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQo9Cx0YvRgtCU0L7Qs9C+0LLQlNCj0JggOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQptC10L3QoNC10LDQu9Cf0YDQl9CjIDogY2VuUmVhbFByWlUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QtdCS0L7Qt9CX0LDRgtGA0J/RgNCX0KMgOiBuZVZvelphdHJQclpVLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCj0LHRi9GC0KDQtdCw0LvQn9GA0JfQoyA6IHViaXRSZWFsUHJaVSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktGL0YDRg9GH0J7QvzMwMtCY0YIgOiB2aXJ1Y2hPcDMwMkl0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCg0LDRgdGF0J7QvzMwMtCY0YIgOiByYXNoT3BlcjMyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCj0LHRi9GC0J7QvzMwMiA6IHViaXRraSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gMC4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAg0JLRi9GA0YPRh9Cg0LXQsNC70J/QoigNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JLRi9GA0YPRh9Cg0LXQsNC70J/QotCU0L7QodGAIDogdmlydWNoUmVhbFBURG9TciwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g0JLRi9GA0YPRh9Cg0LXQsNC70J/QotCf0L7RgdCh0YAgOiB2aXJ1Y2hSZWFsUFRQb3NTciDQvdC1INC30LDQv9C+0LvQvdGP0LXRgtGB0Y8g0YEgMjAxNSDQs9C+0LTQsA0KICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gMC4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAg0KHRgtC+0LjQvNCg0LXQsNC70J/QoigNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHRgtC+0LjQvNCg0LXQsNC70J/QotCU0L7QodGAIDogc3RvaW1SZWFsUFREb1NyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQodGC0L7QuNC80KDQtdCw0LvQn9Ci0J/QvtGB0KHRgCA6IHN0b2ltUmVhbFBUUG9zU3Ig0L3QtSDQt9Cw0L/QvtC70L3Rj9C10YLRgdGPINGBIDIwMTUg0LPQvtC00LANCiAgICAgICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgINCj0LHRi9GC0KDQtdCw0LvQn9CiMSgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KPQsdGL0YIx0KHQvtC+0YIyNjkgOiB1Yml0MVNvb3QyNjksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCj0LHRi9GCMdCf0YDQtdCyMjY5IDogdWJpdDFQcmV2MjY5DQogICAgICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgICAgICAgICAvL9Cj0LHRi9GC0KDQtdCw0LvQn9CiMigNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCj0LHRi9GCMtCg0LXQsNC70J/QoiA6IHViaXQyUmVhbFBULCDQvdC1INC30LDQv9C+0LvQvdGP0LXRgtGB0Y8g0YEgMjAxNSDQs9C+0LTQsA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g0KPQsdGL0YIy0JLQvdCg0LDRgdGFIDogdWJpdDJWblJhc2gg0L3QtSDQt9Cw0L/QvtC70L3Rj9C10YLRgdGPINGBIDIwMTUg0LPQvtC00LANCiAgICAgICAgICAgICAgICAgICAgICAgIC8vKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1IOKEliAzINC6INCb0LjRgdGC0YMgMDIgLSDQutC+0L3QtdGGDQoNCiAgICAgICAgICAgICAgICAgICAgLy8g0J/RgNC40LvQvtC20LXQvdC40LUg4oSWIDUg0Log0JvQuNGB0YLRgyAwMg0KICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvd3NBZHZhbmNlICE9IG51bGwgJiYgIWRhdGFSb3dzQWR2YW5jZS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiDQndCw0LvQkdCw0LfQsNCe0YDQsyAwMzAgPSDRgdGC0YDQvtC60LAgMTIwINCb0LjRgdGC0LAgMDIgKi8NCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBuYWxCYXphT3JnID0gbmFsQmF6YUlzY2gNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiByb3dDQSA9IGdldERhdGFSb3coZGF0YVJvd3NBZHZhbmNlLCAnY2EnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvd3NBZHZhbmNlLmVhY2ggeyByb3cgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93LmdldEFsaWFzKCkgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQv9C+0LTQvNC10L3Rj9C10Lwg0YHRgtGA0L7QutGDICLQptCQIiDRgdGC0YDQvtC60L7QuSAi0KbQkCDRgdC60L7RgNGA0LXQutGC0LjRgNC+0LLQsNC90L3QvtC1Ig0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93Q0EucmVnaW9uQmFua0RpdmlzaW9uID09IHJvdy5yZWdpb25CYW5rRGl2aXNpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdyA9IHJvd0NBDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMC4ubg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQoNCw0YHQv9GA0J3QsNC70KHRg9Cx0KDQpCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQotC40L/QndCfOiB0eXBlTlAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J7QsdCg0LDRgdGHOiBnZXRSZWZCb29rVmFsdWUoMjYsIHJvdy5jYWxjRmxhZyk/LkNPREU/LnZhbHVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQuNC80J7Qnzogcm93LmRpdmlzaW9uTmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQmtCf0J/QntCfOiByb3cua3BwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCe0LHRj9C30KPQv9C70J3QsNC70J7QnzogZ2V0UmVmQm9va1ZhbHVlKDI1LCByb3cub2JsaWdhdGlvblBheVRheCk/LkNPREU/LnZhbHVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9CR0LDQt9Cw0J7RgNCzOiBuYWxCYXphT3JnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9CR0LDQt9Cw0JHQtdC30JvQuNC60LLQntCfOiBlbXB0eSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNC+0LvRj9Cd0LDQu9CR0LDQtzogcm93LmJhc2VUYXhPZiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQndCw0LvQkdCw0LfQsNCU0L7Qu9GPOiByb3cuYmFzZVRheE9mUnViLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0YLQsNCy0J3QsNC70KHRg9Cx0KDQpDogcm93LnN1YmplY3RUYXhTdGF2a2EsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHRg9C80J3QsNC7OiByb3cudGF4U3VtLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9Cd0LDRh9C40YHQu9Ch0YPQsdCg0KQ6IHJvdy5zdWJqZWN0VGF4Q3JlZGl0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9CS0YvQv9C70JLQvdC10KDQpDogcm93LnRheFN1bU91dHNpZGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHRg9C80J3QsNC70J86IChyb3cudGF4U3VtVG9QYXkgIT0gMCkgPyByb3cudGF4U3VtVG9QYXkgOiAoLXJvdy50YXhTdW1Ub1JlZHVjdGlvbiksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JzQtdGB0JDQstCf0LvQsNGCOiAoaXNUYXhQZXJpb2QgPyBlbXB0eSA6IChyb3cuZXZlcnlNb250aGVyUGF5bWVudEFmdGVyUGVyaW9kKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JzQtdGB0JDQstCf0LvQsNGCMdCa0LLQodC70LXQtDogcm93LmV2ZXJ5TW9udGhGb3JLdmFydGFsTmV4dFBlcmlvZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8g0J/RgNC40LvQvtC20LXQvdC40LUg4oSWIDUg0Log0JvQuNGB0YLRgyAwMiAtINC60L7QvdC10YYNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBib29sZWFuIGlzQWdlbnRVc2VkID0gZmFsc2UNCiAgICAgICAgICAgICAgICAvLyAwLi4xDQogICAgICAgICAgICAgICAg0J3QsNC70KPQtNCd0JAoKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93c0RpdmlkZW5kICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFSb3dzRGl2aWRlbmQuZWFjaCB7IHJvdyAtPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINCb0LjRgdGCIDAzINCQDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMC4ubg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9CU0L7RhdCU0LjQsigNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFvQmtCw0YLQtdCz0L7RgNCd0JAgOiByb3cudGFDYXRlZ29yeV0gKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyb3cuaW5uID8gW9CY0J3QndCu0Jtf0K3QvNCm0JEgOiByb3cuaW5uXSA6IFs6XSkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW9CS0LjQtNCU0LjQsiA6IHJvdy5kaXZpZGVuZFR5cGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQndCw0LvQn9C10YAgOiByb3cudGF4UGVyaW9kLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J7RgtGH0LXRgtCT0L7QtCA6IHJvdy5maW5hbmNpYWxZZWFyLmZvcm1hdCgneXl5eScpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQuNCy0KDQsNGB0L/RgNCf0L7QuyA6IGdldExvbmcocm93LnRvdGFsRGl2aWRlbmQpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQuNCy0JLRgdC10LPQviA6IGdldExvbmcocm93LmRpdmlkZW5kU3VtUmFzcHJlZFBlcmlvZCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNC40LLQpNCb0KDQtdC3IDogZ2V0TG9uZyhyb3cuZGl2aWRlbmRSdXNzaWFuUGVyc29uYWwpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQuNCy0JjQvdCe0YDQsyA6IGdldExvbmcocm93LmRpdmlkZW5kRm9yZ2Vpbk9yZ0FsbCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNC40LLQodGC0LDRgtCd0LXQo9GB0YIgOiBnZXRMb25nKHJvdy5kaXZpZGVuZFRheFVua25vd24pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQuNCy0J3QtdCU0L7RhdC+0LQgOiBnZXRMb25nKHJvdy5kaXZpZGVuZE5vbkluY29tZSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNC40LLQoNCw0YHQv9GA0KPQvCA6IGdldExvbmcocm93LmRpdmlkZW5kRDFEMiksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQndCw0LvQmNGB0YfQuNGB0LsgOiBnZXRMb25nKHJvdy50YXhTdW0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JTQuNCy0J/RgNC10LQgOiBnZXRMb25nKHJvdy50YXhTdW1Gcm9tUGVyaW9kKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9CU0LjQstCf0L7RgdC7IDogZ2V0TG9uZyhyb3cudGF4U3VtTGFzdCldKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQuNCy0KDQvtGB0J7RgNCzKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0LjQstCg0L7RgdCe0YDQs9CS0YEgOiBnZXRMb25nKHJvdy5kaXZpZGVuZFJ1c3NpYW5Ub3RhbCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQuNCy0KDQvtGB0KHRgtCw0LIwIDogZ2V0TG9uZyhyb3cuZGl2aWRlbmRSdXNzaWFuU3RhdmthMCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQuNCy0KDQvtGB0KHRgtCw0LI5IDogZ2V0TG9uZyhyb3cuZGl2aWRlbmRSdXNzaWFuU3RhdmthNiksLy8g0LTQu9GPIDklINCw0LvQuNCw0YEg0YLQsNC60L7QuQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0LjQstCg0L7RgdCh0YLQsNCy0JjQvSA6IGdldExvbmcocm93LmRpdmlkZW5kUnVzc2lhblN0YXZrYTkpLCAvLyDQsNC70LjQsNGBINGC0LDQutC+0LkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNC40LLQoNC+0YHQndC10J3QnyA6IGdldExvbmcocm93LiBkaXZpZGVuZFJ1c3NpYW5UYXhGcmVlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi4xDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0LjQstCk0JvQndC10KDQtdC3KA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0LjQstCk0JvQndC10KDQtdC30JLRgSA6IGdldExvbmcocm93LmRpdmlkZW5kRm9yZ2VpblBlcnNvbmFsQWxsKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNC40LLQpNCb0KHRgtCw0LIwIDogZ2V0TG9uZyhyb3cuZGl2aWRlbmRTdGF2a2EwKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNC40LLQpNCb0KHRgtCw0LI1IDogZ2V0TG9uZyhyb3cuZGl2aWRlbmRTdGF2a2FMZXNzNSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQuNCy0KTQm9Ch0YLQsNCyMTAgOiBnZXRMb25nKHJvdy5kaXZpZGVuZFN0YXZrYU1vcmU1KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNC40LLQpNCb0KHRgtCw0LLQodCyMTAgOiBnZXRMb25nKHJvdy5kaXZpZGVuZFN0YXZrYU1vcmUxMCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQuNCy0J3QkCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNC40LLQndCQ0LTQvtCg0LDRgSA6IGdldExvbmcocm93LmRpdmlkZW5kQWdlbnRBbGwpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0LjQstCd0JDQkdC10LfQo9GHMCA6IGdldExvbmcocm93LmRpdmlkZW5kQWdlbnRXaXRoU3RhdmthMCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQuNCy0J3QsNC7KA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0LjQstCd0LDQuzkgOiBnZXRMb25nKHJvdy5kaXZpZGVuZFN1bUZvclRheFN0YXZrYTkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0LjQstCd0LDQuzAgOiBnZXRMb25nKHJvdy5kaXZpZGVuZFN1bUZvclRheFN0YXZrYTApKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQm9C40YHRgiAwMyDQkg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVJvd3NUYXhBZ2VudCAhPSBudWxsICYmIGRhdGFSb3dzRGl2aWRlbmQuaW5kZXhPZihyb3cpID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWdlbnRVc2VkID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJvd3NUYXhBZ2VudC5lYWNoIHsgcm93QWdlbnQgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi5uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KDQtdC10YHRgtGA0KHRg9C80JTQuNCyKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J/RgNCf0YDQuNC90LDQtNC7IDogJ9CQJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCi0LjQvyA6IHJvd0FnZW50LnJlY1R5cGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNCw0YLQsNCf0LXRgNCU0LjQsiA6IChyb3dBZ2VudC5kaXZpZGVuZERhdGUgIT0gbnVsbCA/IHJvd0FnZW50LmRpdmlkZW5kRGF0ZS5mb3JtYXQoJ2RkLk1NLnl5eXknKSA6IGVtcHR5KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0YPQvNCU0LjQsiA6IGdldExvbmcocm93QWdlbnQuc3VtRGl2aWRlbmQpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHRg9C80J3QsNC7IDogZ2V0TG9uZyhyb3dBZ2VudC5zdW1UYXgpLCkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0LLQn9C+0LvRg9GHKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFvQmNCd0J3Qn9C+0LvRg9GHIDogcm93QWdlbnQuaW5uLCDQmtCf0J/Qn9C+0LvRg9GHIDogcm93QWdlbnQua3BwLCDQndCw0LjQvNCf0L7Qu9GD0YcgOiByb3dBZ2VudC50aXRsZV0gKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJvd0FnZW50LnBob25lID8gW9Ci0LvRhCA6IHJvd0FnZW50LnBob25lXSA6IFs6XSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCc0J3Qn9C+0LvRg9GH0KDQpCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJvd0FnZW50LnppcENvZGUgPyBb0JjQvdC00LXQutGBIDogcm93QWdlbnQuemlwQ29kZV0gOiBbOl0pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBb0JrQvtC00KDQtdCz0LjQvtC9IDogKGdldFJlZkJvb2tWYWx1ZSg0LCByb3dBZ2VudC5zdWJkaXZpc2lvblJGKT8uQ09ERT8udmFsdWUgPzogJzAwJyldICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocm93QWdlbnQuYXJlYT8gW9Cg0LDQudC+0L0gOiByb3dBZ2VudC5hcmVhXSA6IFs6XSkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyb3dBZ2VudC5jaXR5ID8gW9CT0L7RgNC+0LQgOiByb3dBZ2VudC5jaXR5XSA6IFs6XSkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyb3dBZ2VudC5yZWdpb24gPyBb0J3QsNGB0LXQu9Cf0YPQvdC60YIgOiByb3dBZ2VudC5yZWdpb25dIDogWzpdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJvd0FnZW50LnN0cmVldCA/IFvQo9C70LjRhtCwIDogcm93QWdlbnQuc3RyZWV0XSA6IFs6XSkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyb3dBZ2VudC5ob21lTnVtYmVyID8gW9CU0L7QvCA6IHJvd0FnZW50LmhvbWVOdW1iZXJdIDogWzpdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg'
        longString += 'ICAgICAgICAgICAgICAgICAgKHJvd0FnZW50LmNvcnBOdW1iZXIgPyBb0JrQvtGA0L/Rg9GBIDogcm93QWdlbnQuY29ycE51bWJlcl0gOiBbOl0pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocm93QWdlbnQuYXBhcnRtZW50ID8gW9Ca0LLQsNGA0YIgOiByb3dBZ2VudC5hcGFydG1lbnRdIDogWzpdKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCk0JjQntCg0YPQuigNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW9Ck0LDQvNC40LvQuNGPIDogKHJvd0FnZW50LnN1cm5hbWUgPzogJ9C90LXRgiDQtNCw0L3QvdGL0YUnKV0gKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFvQmNC80Y8gOiAocm93QWdlbnQubmFtZSA/OiAn0L3QtdGCINC00LDQvdC90YvRhScpXSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJvd0FnZW50LnBhdHJvbnltaWMgPyBb0J7RgtGH0LXRgdGC0LLQviA6IHJvd0FnZW50LnBhdHJvbnltaWNdIDogWzpdKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQm9C40YHRgiAwMyDQkiAtINC60L7QvdC10YYNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCb0LjRgdGCIDAzINCQIC0g0LrQvtC90LXRhg0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g0JvQuNGB0YIgMDMg0JEg0YPQtNCw0LvQtdC9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyDQm9C40YHRgiAwNA0KICAgICAgICAgICAgICAgIGRlZiBuYWxCYXphMDQgPSAwDQogICAgICAgICAgICAgICAgZGVmIGRvaFVtTmFsQmF6ID0gMA0KICAgICAgICAgICAgICAgIGRlZiBzdGF2TmFsID0gMA0KICAgICAgICAgICAgICAgIGRlZiBuYWxJc2NoaXNsMDQgPSAwDQogICAgICAgICAgICAgICAgZGVmIG5hbERpdk5lUkZQcmVkID0gMA0KICAgICAgICAgICAgICAgIGRlZiBuYWxEaXZOZVJGID0gMA0KICAgICAgICAgICAgICAgIGRlZiBuYWxOYWNoaXNsUHJlZCA9IDANCiAgICAgICAgICAgICAgICBkZWYgbmFsTmFjaGlzbFBvc2wgPSAwDQoNCiAgICAgICAgICAgICAgICAoMS4uNikuZWFjaCB7DQogICAgICAgICAgICAgICAgICAgIG5hbERpdk5lUkZQcmVkID0gMA0KICAgICAgICAgICAgICAgICAgICBuYWxEaXZOZVJGID0gMA0KDQogICAgICAgICAgICAgICAgICAgIC8vINC30LAg0L/RgNC10LTRi9C00YPRidC40Lkg0L7RgtGH0LXRgtC90YvQuSDQv9C10YDQuNC+0LQNCiAgICAgICAgICAgICAgICAgICAgZGVmIG5hbERpdk5lUkZQcmVkT2xkID0gbmFsRGl2TmVSRlByZWRPbGRNYXBbaXRdID86IDANCiAgICAgICAgICAgICAgICAgICAgZGVmIG5hbERpdk5lUkZPbGQgPSBuYWxEaXZOZVJGT2xkTWFwW2l0XSA/OiAwDQogICAgICAgICAgICAgICAgICAgIGRlZiBuYWxOYWNoaXNsUHJlZE9sZCA9IG5hbE5hY2hpc2xQcmVkT2xkTWFwW2l0XSA/OiAwDQogICAgICAgICAgICAgICAgICAgIGRlZiBuYWxOYWNoaXNsUG9zbE9sZCA9IG5hbE5hY2hpc2xQb3NsT2xkTWFwW2l0XSA/OiAwDQoNCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbEJhemEwNCA9IGdldENvbXBsZXhJbmNvbWVTdW1Sb3dzOShkYXRhUm93c0NvbXBsZXhJbmNvbWUsIFsxNjQ0MCwgMTY0ODAsIDE2NTEwLCAxNjU0MCwgMTY1NzAsIDE2NjYwLCAxNjY3MF0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rhdk5hbCA9IDE1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYWxCYXphMDQgPSBnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGF0YVJvd3NDb21wbGV4SW5jb21lLCBbMTY0NTAsIDE2NDkwLCAxNjUyMCwgMTY1ODBdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXZOYWwgPSA5DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYWxCYXphMDQgPSBnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGF0YVJvd3NDb21wbGV4SW5jb21lLCBbMTY0NjAsIDE2NTAwLCAxNjU1MF0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rhdk5hbCA9IDANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbEJhemEwNCA9IGdldFN1bVJvd3NCeUNvbChkYXRhUm93c1NpbXBsZUluY29tZSwgJ2luY29tZVR5cGVJZCcsICdybnU2RmllbGQxMFN1bScsIFsxNzE0MF0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rhdk5hbCA9IDEzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFsRGl2TmVSRlByZWQgPSAoaXNGaXJzdFBlcmlvZCA/IDAgOiBuYWxEaXZOZVJGUHJlZE9sZCArIG5hbERpdk5lUkZPbGQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFsRGl2TmVSRiA9IChnZXRBbGlhc0Zyb21Gb3JtKGRhdGFSb3dzU3VtLCAndGF4U3VtJywgJ1NVTV9ESVZJREVORFMnKSA/OiAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFsQmF6YTA0ID0gZ2V0U3VtUm93c0J5Q29sKGRhdGFSb3dzU2ltcGxlSW5jb21lLCAnaW5jb21lVHlwZUlkJywgJ3JudTZGaWVsZDEwU3VtJywgWzE3MTUwXSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF2TmFsID0gMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFsQmF6YTA0ID0gMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXZOYWwgPSA5DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBuYWxJc2NoaXNsMDQgPSBnZXRMb25nKG5hbEJhemEwNCAqIHN0YXZOYWwgLyAxMDApDQogICAgICAgICAgICAgICAgICAgIGlmIChpdCBpbiBbMywgNV0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbE5hY2hpc2xQcmVkID0gMA0KICAgICAgICAgICAgICAgICAgICAgICAgbmFsTmFjaGlzbFBvc2wgPSAwDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYWxOYWNoaXNsUHJlZCA9IChpc0ZpcnN0UGVyaW9kID8gMCA6IG5hbE5hY2hpc2xQcmVkT2xkICsgbmFsTmFjaGlzbFBvc2xPbGQpDQogICAgICAgICAgICAgICAgICAgICAgICBuYWxOYWNoaXNsUG9zbCA9IG5hbElzY2hpc2wwNCAtIG5hbERpdk5lUkZQcmVkIC0gbmFsRGl2TmVSRiAtIG5hbE5hY2hpc2xQcmVkDQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZiAoIShpdCBpbiBbMiwgMywgNl0gJiYgIW5hbEJhemEwNCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9CU0L7RhdCh0YLQsNCyKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktC40LTQlNC+0YXQvtC0OiBpdCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JHQsNC30LA6IGdldExvbmcobmFsQmF6YTA0KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQvtGF0KPQvNCd0LDQu9CR0LDQtzogZ2V0TG9uZyhkb2hVbU5hbEJheiksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0YLQsNCy0J3QsNC7OiBnZXRMb25nKHN0YXZOYWwpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQndCw0LvQmNGB0YfQuNGB0Ls6IG5hbElzY2hpc2wwNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JTQuNCy0J3QtdCg0KTQn9GA0LXQtDogZ2V0TG9uZyhuYWxEaXZOZVJGUHJlZCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9CU0LjQstCd0LXQoNCkOiBnZXRMb25nKG5hbERpdk5lUkYpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQndCw0LvQndCw0YfQuNGB0LvQn9GA0LXQtDogZ2V0TG9uZyhuYWxOYWNoaXNsUHJlZCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9Cd0LDRh9C40YHQu9Cf0L7RgdC7OiBnZXRMb25nKG5hbE5hY2hpc2xQb3NsKSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyDQm9C40YHRgiAwNCAtINC60L7QvdC10YYNCg0KICAgICAgICAgICAgICAgIC8vINCb0LjRgdGCIDA1INC90LXQsNC60YLRg9Cw0LvQtdC9INGBIDEg0Y/QvdCy0LDRgNGPIDIwMTUg0LPQvtC00LANCg0KICAgICAgICAgICAgICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1IOKEljEg0Log0L3QsNC70L7Qs9C+0LLQvtC5INC00LXQutC70LDRgNCw0YbQuNC4DQogICAgICAgICAgICAgICAgaWYgKHN2Q2VsU3JlZC5zaXplKCkgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIDAuLjENCiAgICAgICAgICAgICAgICAgICAg0JTQvtGF0J3QtdCj0Ydf0KDQsNGB0YXQo9GHKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3ZDZWxTcmVkLmtleVNldCgpLnNvcnQoKS5lYWNoIHsgaWQgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxLi5uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHQstCm0LXQu9Ch0YDQtdC0KA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JrQvtC00JLQuNC00KDQsNGB0YXQvtC0IDogaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQodGD0LzQoNCw0YHRhdC+0LQgOiBnZXRMb25nKHN2Q2VsU3JlZFtpZF0pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1IOKEljEg0Log0L3QsNC70L7Qs9C+0LLQvtC5INC00LXQutC70LDRgNCw0YbQuNC4IC0g0LrQvtC90LXRhg0KDQogICAgICAgICAgICAgICAgLy8g0J/RgNC40LvQvtC20LXQvdC40LUg4oSWMiDQuiDQvdCw0LvQvtCz0L7QstC+0Lkg0LTQtdC60LvQsNGA0LDRhtC40LggLSDRhNC+0YDQvNC40YDRg9C10YLRgdGPINGC0L7Qu9GM0LrQviDQtNC70Y8g0L/QtdGA0LjQvtC00LAgItCz0L7QtCINCiAgICAgICAgICAgICAgICAvLyBjbG9zdXJlINC00LvRjyDRhNC+0YDQvNC40YDQvtCy0LDQvdC40Y8g0L/Qvi3RgdGC0LDRgNC40L3QutC1DQogICAgICAgICAgICAgICAgZGVmIGdlbmVyYXRlQXBwMiA9IHsgTWFya3VwQnVpbGRlciBpbm5lckJ1aWxkZXIsIGRlZiBkYXRhUm93cywgYm9vbGVhbiBpc0NGTywgSW50ZWdlciBpbmRleCwgZGVmIGRhdGFTcHJhdiwgZGVmIHR5cGUgLT4NCiAgICAgICAgICAgICAgICAgICAgZm9yIChkZWYgcm93IDogZGF0YVJvd3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0J3QvtC80LXRgNCh0L/RgNCw0LIgINCh0L/RgNCw0LLQutCwIOKElg0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIG5vbWVyU3ByYXYgPSBpc0NGTyA/IGluZGV4IDogcm93LnJlZk51bQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy/QmNCd0J3QpNCbICAgICAgINCY0J3QnQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIGlubkZMID0gcm93LmlublJGDQogICAgICAgICAgICAgICAgICAgICAgICAvL9CY0J3QndCY0L3QviAgICAgICDQmNCd0J0NCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBpbm5Jbm8gPSByb3cuaW5uDQogICAgICAgICAgICAgICAgICAgICAgICAvL9Ck0LDQvNC40LvQuNGPICAgICDQpNCw0LzQuNC70LjRjw0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIHN1cm5hbWUgPSByb3cuc3VybmFtZQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy/QmNC80Y8gICAgICAgICDQmNC80Y8NCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBnaXZlbk5hbWUgPSByb3cubmFtZQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy/QntGC0YfQtdGB0YLQstC+ICAgINCe0YLRh9C10YHRgtCy0L4NCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBwYXJlbnROYW1lID0gcm93LnBhdHJvbnltaWMNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0KHRgtCw0YLRg9GB0J3QnyAgICDQodGC0LDRgtGD0YEg0L3QsNC70L7Qs9C+0L/Qu9Cw0YLQtdC70YzRidC40LrQsA0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIHN0YXR1c05QID0gcm93LnN0YXR1cw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/QlNCw0YLQsNCg0L7QttC0ICAgINCU0LDRgtCwINGA0L7QttC00LXQvdC40Y8NCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBkYXRhUm96aGQgPSByb3cuYmlydGhkYXk/LmZvcm1hdCgnZGQuTU0ueXl5eScpDQogICAgICAgICAgICAgICAgICAgICAgICAvL9CT0YDQsNC20LQgICAgICAg0JPRgNCw0LbQtNCw0L3RgdGC0LLQviAo0LrQvtC0INGB0YLRgNCw0L3RiykNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBncmF6aGQgPSBnZXRSZWZCb29rVmFsdWUoMTAsIHJvdy5jaXRpemVuc2hpcCk/LkNPREU/LnZhbHVlDQogICAgICAgICAgICAgICAgICAgICAgICAvL9Ca0L7QtNCS0LjQtNCU0L7QuiAgINCa0L7QtCDQstC40LTQsCDQtNC+0LrRg9C80LXQvdGC0LAsINGD0LTQvtGB0YLQvtCy0LXRgNGP0Y7RidC10LPQviDQu9C40YfQvdC+0YHRgtGMDQogICAgICAgICAgICAgICAgICAgICAgICBkZWYga29kVmlkRG9rID0gZ2V0UmVmQm9va1ZhbHVlKDM2MCwgcm93LmNvZGUpPy5DT0RFPy52YWx1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy/QodC10YDQndC+0LzQlNC+0LogICDQodC10YDQuNGPINC4INC90L7QvNC10YAg0LTQvtC60YPQvNC10L3RgtCwDQogICAgICAgICAgICAgICAgICAgICAgICBkZWYgc2VyTm9tRG9rID0gcm93LnNlcmllcw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/QmNC90LTQtdC60YEgICAgICDQn9C+0YfRgtC+0LLRi9C5INC40L3QtNC10LrRgQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIHppcENvZGUgPSByb3cucG9zdGNvZGUNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0JrQvtC00KDQtdCz0LjQvtC9ICAg0KDQtdCz0LjQvtC9ICjQutC+0LQpDQogICAgICAgICAgICAgICAgICAgICAgICBkZWYgc3ViZGl2aXNpb25SRiA9IGdldFJlZkJvb2tWYWx1ZSg0LCByb3cucmVnaW9uKT8uQ09ERT8udmFsdWUNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0KDQsNC50L7QvSAgICAgICDQoNCw0LnQvtC9DQogICAgICAgICAgICAgICAgICAgICAgICBkZWYgYXJlYSA9IHJvdy5kaXN0cmljdA0KICAgICAgICAgICAgICAgICAgICAgICAgLy/Qk9C+0YDQvtC0ICAgICAgINCT0L7RgNC+0LQNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBjaXR5ID0gcm93LmNpdHkNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0J3QsNGB0LXQu9Cf0YPQvdC60YIgINCd0LDRgdC10LvQtdC90L3Ri9C5INC/0YPQvdC60YIgKNGB0LXQu9C+LCDQv9C+0YHQtdC70L7QuikNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiByZWdpb24gPSByb3cubG9jYWxpdHkNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0KPQu9C40YbQsCAgICAgICDQo9C70LjRhtCwICjQv9GA0L7RgdC/0LXQutGCLCDQv9C10YDQtdGD0LvQvtC6KQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIHN0cmVldCA9IHJvdy5zdHJlZXQNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0JTQvtC8ICAgICAgICAg0J3QvtC80LXRgCDQtNC+0LzQsCAo0LLQu9Cw0LTQtdC90LjRjykNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBob21lTnVtYmVyID0gcm93LmhvdXNlDQogICAgICAgICAgICAgICAgICAgICAgICAvL9Ca0L7RgNC/0YPRgSAgICAgINCd0L7QvNC10YAg0LrQvtGA0L/Rg9GB0LAgKNGB0YLRgNC+0LXQvdC40Y8pDQogICAgICAgICAgICAgICAgICAgICAgICBkZWYgY29ycE51bWJlciA9IHJvdy5ob3VzaW5nDQogICAgICAgICAgICAgICAgICAgICAgICAvL9Ca0LLQsNGA0YIgICAgICAg0J3QvtC80LXRgCDQutCy0LDRgNGC0LjRgNGLDQogICAgICAgICAgICAgICAgICAgICAgICBkZWYgYXBhcnRtZW50ID0gcm93LmFwYXJ0bWVudA0KICAgICAgICAgICAgICAgICAgICAgICAgLy/QntCa0KHQnCAgICAgICAg0JrQvtC0INGB0YLRgNCw0L3Riw0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIG9rc20gPSBnZXRSZWZCb29rVmFsdWUoMTAsIHJvdy5jb3VudHJ5KT8uQ09ERT8udmFsdWUNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0JDQtNGA0KLQtdC60YHRgiAgICDQkNC00YDQtdGBINC80LXRgdGC0LAg0LbQuNGC0LXQu9GM0YHRgtCy0LAg0LfQsCDQv9GA0LXQtNC10LvQsNC80Lgg0KDQvtGB0YHQuNC50YHQutC+0Lkg0KTQtdC00LXRgNCw0YbQuNC4DQogICAgICAgICAgICAgICAgICAgICAgICBkZWYgYWRyVGV4dCA9IHJvdy5hZGRyZXNzDQogICAgICAgICAgICAgICAgICAgICAgICAvL9Ch0YLQsNCy0LrQsCAgICAgINCd0LDQu9C+0LPQvtCy0LDRjyDRgdGC0LDQstC60LANCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBzdGF2a2EgPSByb3cudGF4UmF0ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy/QodGD0LzQlNC+0YXQntCx0YkgICDQntCx0YnQsNGPINGB0YPQvNC80LAg0LTQvtGF0L7QtNCwDQogICAgICAgICAgICAgICAgICAgICAgICBkZWYgc3VtRG9oT2JzaCA9IHJvdy5pbmNvbWUNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0KHRg9C80JLRi9GH0J7QsdGJICAg0J7QsdGJ0LDRjyDRgdGD0LzQvNCwINCy0YvRh9C10YLQvtCyDQogICAgICAgICAgICAgICAgICAgICAgICBkZWYgc3VtVmljaE9ic2ggPSByb3cuZGVkdWN0aW9uDQogICAgICAgICAgICAgICAgICAgICAgICAvL9Cd0LDQu9CR0LDQt9CwICAgICDQndCw0LvQvtCz0L7QstCw0Y8g0LHQsNC30LANCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBuYWxCYXphQXBwMiA9IHJvdy50YXhCYXNlDQogICAgICAgICAgICAgICAgICAgICAgICAvL9Cd0LDQu9CY0YHRh9C40YHQuyAgINCh0YPQvNC80LAg0L3QsNC70L7Qs9CwINC40YHRh9C40YHQu9C10L3QvdCw0Y8NCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBuYWxJc2NoaXNsQXBwMiA9IHJvdy5jYWxjdWxhdGVkDQogICAgICAgICAgICAgICAgICAgICAgICAvL9Cd0LDQu9Cj0LTQtdGA0LYgICAg0KHRg9C80LzQsCDQvdCw0LvQvtCz0LAg0YPQtNC10YDQttCw0L3QvdCw0Y8NCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBuYWxVZGVyemggPSByb3cud2l0aGhlbGQNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0J3QsNC70KPQv9C70LDRhyDQodGD0LzQvNCwINC90LDQu9C+0LPQsCDQv9C10YDQtdGH0LjRgdC70LXQvdC90LDRjw0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIG5hbFVwbGFjaCA9IHJvdy5saXN0ZWQNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v0J3QsNC70KPQtNC10YDQttCb0LjRiCDQodGD0LzQvNCwINC90LDQu9C+0LPQsCwg0LjQt9C70LjRiNC90LUg0YPQtNC10YDQttCw0L3QvdCw0Y8g0L3QsNC70L7Qs9C+0LLRi9C8INCw0LPQtdC90YLQvtC8DQogICAgICAgICAgICAgICAgICAgICAgICBkZWYgbmFsVWRlcnpoTGlzaCA9IHJvdy53aXRoaGVsZEFnZW50DQogICAgICAgICAgICAgICAgICAgICAgICAvL9Cd0LDQu9Cd0LXQo9C00LXRgNC2ICDQodGD0LzQvNCwINC90LDQu9C+0LPQsCwg0L3QtSDRg9C00LXRgNC20LDQvdC90LDRjyDQvdCw0LvQvtCz0L7QstGL0Lwg0LDQs9C10L3RgtC+0LwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBuYWxOZVVkZXJ6aCA9IHJvdy5ub25XaXRoaGVsZEFnZW50DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLm4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyQnVpbGRlci7QodCy0LXQtNCU0L7RhdCk0JsoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0L7QvNC10YDQodC/0YDQsNCyIDogbm9tZXJTcHJhdiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQsNGC0LDQodC/0YDQsNCyIDogZGF0YVNwcmF2LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQotC40L8gOiB0eXBlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8xLi4xDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0KTQm9Cf0L7Qu9GD0YfQlNC+0YUoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaW5uRkwgPyBb0JjQndCd0KTQmzogaW5uRkxdIDogWzpdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpbm5Jbm8gPyBb0JjQndCd0JjQvdC+OiBpbm5Jbm9dIDogWzpdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFvQodGC0LDRgtGD0YHQndCfIDogc3RhdHVzTlAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNCw0YLQsNCg0L7QttC0IDogZGF0YVJvemhkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JPRgNCw0LbQtCAgICA6IGdyYXpoZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCa0L7QtNCS0LjQtNCU0L7Qujoga29kVmlkRG9rLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHQtdGA0J3QvtC80JTQvtC6OiBzZXJOb21Eb2tdDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEuLjENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KTQmNCeKFvQpNCw0LzQuNC70LjRjyA6IHN1cm5hbWUsINCY0LzRjyA6IGdpdmVuTmFtZV0gKyAocGFyZW50TmFtZSAhPSBudWxsID8gW9Ce0YLRh9C10YHRgtCy0L4gOiBwYXJlbnROYW1lXSA6IFtdKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8wLi4xDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWJkaXZpc2lvblJGICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCQ0LTRgNCc0JbQoNCkKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoemlwQ29kZSA/IFvQmNC90LTQtdC60YEgOiB6aXBDb2RlXSA6IFs6XSkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFvQmtC+0LTQoNC10LPQuNC+0L0gOiBzdWJkaXZpc2lvblJGXSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFyZWE/IFvQoNCw0LnQvtC9IDogYXJlYV0gOiBbOl0pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2l0eSA/IFvQk9C+0YDQvtC0IDogY2l0eV0gOiBbOl0pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVnaW9uID8gW9Cd0LDRgdC10LvQn9GD0L3QutGCIDogcmVnaW9uXSA6IFs6XSkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdHJlZXQgPyBb0KPQu9C40YbQsCA6IHN0cmVldF0gOiBbOl0pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaG9tZU51bWJlciA/IFvQlNC+0LwgOiBob21lTnVtYmVyXSA6IFs6XSkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb3JwTnVtYmVyID8gW9Ca0L7RgNC/0YPRgSA6IGNvcnBOdW1iZXJdIDogWzpdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFwYXJ0bWVudCA/IFvQmtCy0LDRgNGCIDogYXBhcnRtZW50XSA6IFs6XSkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8wLi4xDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChva3NtICE9IG51bGwgfHwgYWRyVGV4dCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JDQtNGA0JzQltCY0L3QvijQntCa0KHQnCA6IG9rc20sINCQ0LTRgNCi0LXQutGB0YIgOiBhZHJUZXh0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vMS4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0L7RhdCd0LDQu9Cf0LXRgCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFvQodGC0LDQstC60LAgOiBzdGF2a2EsINCh0YPQvNCU0L7RhdCe0LHRiSA6IHN1bURvaE9ic2hdICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN1bVZpY2hPYnNoICE9IG51bGwgPyBb0KHRg9C80JLRi9GH0J7QsdGJIDogc3VtVmljaE9ic2hdIDogW10pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW9Cd0LDQu9CR0LDQt9CwIDogbmFsQmF6YUFwcDIsINCd0LDQu9CY0YHRh9C40YHQuyA6IG5hbElzY2hpc2xBcHAyXSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuYWxVZGVyemggIT0gbnVsbCA/IFvQndCw0LvQo9C00LXRgNC2IDogbmFsVWRlcnpoXSA6IFtdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuYWxVcGxhY2ggIT0gbnVsbCA/IFvQndCw0LvQo9C/0LvQsNGHIDogbmFsVXBsYWNoXSA6IFtdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuYWxVZGVyemhMaXNoICE9IG51bGwgPyBb0J3QsNC70KPQtNC10YDQttCb0LjRiCA6IG5hbFVkZXJ6aExpc2hdIDogW10pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5hbE5lVWRlcnpoICE9IG51bGwgPyBb0J3QsNC70J3QtdCj0LTQtdGA0LYgOiBuYWxOZVVkZXJ6aF0gOiBbXSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbGVhbiBpc1NwckRvaEZMID0gKDEuLjMpLmZpbmQgeyBpbmRleF8xIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0JrQvtC00JTQvtGF0L7QtCAgICAwNDAgKNCa0L7QtCDQtNC+0YXQvtC00LApINC40LvQuCDQodGD0LzQlNC+0YXQvtC0ICAgIDA0MSAo0KHRg9C80LzQsCDQtNC+0YXQvtC00LApINC30LDQv9C+0LvQvdC10L3Riw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dbImNvbF8wNDBfJHtpbmRleF8xfSJdICE9IG51bGwgfHwgcm93WyJjb2xfMDQxXyR7aW5kZXhfMX0iXSAhPSBudWxsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAhPSBudWxsDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTcHJEb2hGTCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQodC/0YDQlNC+0YXQpNCbKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMy50aW1lc3sgaW5kZXhfMSAtPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0JrQvtC00JTQvtGF0L7QtCAgICAwNDAgKNCa0L7QtCDQtNC+0YXQvtC00LApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmIGtvZERvaG9kMDQwID0gZ2V0UmVmQm9va1ZhbHVlKDM3MCwgcm93WyJjb2xfMDQwXyR7aW5kZXhfMSArIDF9Il0pPy5DT0RFPy52YWx1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0KHRg9C80JTQvtGF0L7QtCAgICAwNDEgKNCh0YPQvNC80LAg0LTQvtGF0L7QtNCwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBzdW1Eb2hvZDA0MSA9IHJvd1siY29sXzA0MV8ke2luZGV4XzEgKyAxfSJdDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi5uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtvZERvaG9kMDQwIHx8IHN1bURvaG9kMDQxICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHRg9C80JTQvtGFKNCa0L7QtNCU0L7RhdC+0LQgOiBrb2REb2hvZDA0MCwg0KHRg9C80JTQvtGF0L7QtCA6IHN1bURvaG9kMDQxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA1LnRpbWVzeyBpbmRleF8yIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/QmtC+0LTQktGL0YfQtdGCICAgIDA0MiAo0JrQvtC0INCy0YvRh9C10YLQsCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYga29kVmljaGV0MDQyID0gZ2V0UmVmQm9va1ZhbHVlKDM1MCwgcm93WyJjb2xfMDQyXyR7aW5kZXhfMSArIDF9XyR7aW5kZXhfMiArIDF9Il0pPy5DT0RFPy52YWx1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0KHRg9C80JLRi9GH0LXRgiAgICAwNDMgKNCh0YPQvNC80LAg0LLRi9GH0LXRgtCwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBzdW1WaWNoZXQwNDMgPSByb3dbImNvbF8wNDNfJHtpbmRleF8xICsgMX1fJHtpbmRleF8yICsgMX0iXQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8wLi5uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtvZFZpY2hldDA0MiB8fCBzdW1WaWNoZXQwNDMgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQodGD0LzQktGL0Yco0JrQvtC00JLRi9GH0LXRgiA6IGtvZFZpY2hldDA0Miwg0KHRg9C80JLRi9GH0LXRgiA6IHN1bVZpY2hldDA0MykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sZWFuIGlzTmFsVmljaFN0YW5kID0gKDEuLjIpLmZpbmQgeyBpbmRleF8xIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0JrQvtC00JLRi9GH0LXRgiAgICAwNTEgKNCa0L7QtCDQstGL0YfQtdGC0LApINC40LvQuCDQodGD0LzQktGL0YfQtdGCICAgIDA1MiAo0KHRg9C80LzQsCDQstGL0YfQtdGC0LApINC30LDQv9C+0LvQvdC10L3Riw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dbImNvbF8wNTFfM18ke2luZGV4XzF9Il0gIT0gbnVsbCB8fCByb3dbImNvbF8wNTJfM18ke2luZGV4XzF9Il0gIT0gbnVsbA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gIT0gbnVsbA0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8wLi4xDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFsVmljaFN0YW5kKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LDQu9CS0YvRh9Ch0YLQsNC90LQoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyLnRpbWVzeyBpbmRleF8xIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/QmtC+0LTQktGL0YfQtdGCICAgIDA1MSAo0JrQvtC0INCy0YvRh9C10YLQsCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYga29kVmljaGV0MDUxID0gZ2V0UmVmQm9va1ZhbHVlKDM1MCwgcm93WyJjb2xfMDUxXzNfJHtpbmRleF8xICsgMX0iXSk/LkNPREU/LnZhbHVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/QodGD0LzQktGL0YfQtdGCICAgIDA1MiAo0KHRg9C80LzQsCDQstGL0YfQtdGC0LApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmIHN1bVZpY2hldDA1MiA9IHJvd1siY29sXzA1Ml8zXyR7aW5kZXhfMSArIDF9Il0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzAuLm4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa29kVmljaGV0MDUxIHx8IHN1bVZpY2hldDA1MiAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0YPQvNCS0YvRhyjQmtC+0LTQktGL0YfQtdGCIDoga29kVmljaGV0MDUxLCDQodGD0LzQktGL0YfQtdGCIDogc3VtVmljaGV0MDUyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyBjbG9zdXJlINC00LvRjyDRhNC+0YDQvNC40YDQvtCy0LDQvdC40Y8g0L/Qvi3QvdC+0LLQvtC80YMNCiAgICAgICAgICAgICAgICBkZWYgZ2VuZXJhdGVBcHAyQ0ZPID0geyBNYXJrdXBCdWlsZGVyIGlubmVyQnVpbGRlciwgZGVmIGRhdGFSb3dzLCBJbnRlZ2VyIGluZGV4LCBkZWYgZGF0YVNwcmF2LCBkZWYgdHlwZSAtPg0KICAgICAgICAgICAgICAgICAgICBkZWYgZGF0YVJvdyA9IGRhdGFSb3dzWzBdDQogICAgICAgICAgICAgICAgICAgIC8v0J3QvtC80LXRgNCh0L/RgNCw0LIgINCh0L/RgNCw0LLQutCwIOKElg0KICAgICAgICAgICAgICAgICAgICBkZWYgbm9tZXJTcHJhdiA9IGluZGV4DQogICAgICAgICAgICAgICAgICAgIC8v0JjQndCd0KTQmyAgICAgICDQmNCd0J0NCiAgICAgICAgICAgICAgICAgICAgZGVmIGlubkZMID0gZGF0YVJvdy5pbm5SRg0KICAgICAgICAgICAgICAgICAgICAvL9CY0J3QndCY0L3QviAgICAgICDQmNCd0J0NCiAgICAgICAgICAgICAgICAgICAgZGVmIGlubklubyA9IGRhdGFSb3cuaW5uDQogICAgICAgICAgICAgICAgICAgIC8v0KTQsNC80LjQu9C40Y8gICAgINCk0LDQvNC40LvQuNGPDQogICAgICAgICAgICAgICAgICAgIGRlZiBzdXJuYW1lID0gZGF0YVJvdy5zdXJuYW1lDQogICAgICAgICAgICAgICAgICAgIC8v0JjQvNGPICAgICAgICAg0JjQvNGPDQogICAgICAgICAgICAgICAgICAgIGRlZiBnaXZlbk5hbWUgPSBkYXRhUm93Lm5hbWUNCiAgICAgICAgICAgICAgICAgICAgLy/QntGC0YfQtdGB0YLQstC+ICAgINCe0YLRh9C10YHRgtCy0L4NCiAgICAgICAgICAgICAgICAgICAgZGVmIHBhcmVudE5hbWUgPSBkYXRhUm93LnBhdHJvbnltaWMNCiAgICAgICAgICAgICAgICAgICAgLy/QodGC0LDRgtGD0YHQndCfICAgINCh0YLQsNGC0YPRgSDQvdCw0LvQvtCz0L7Qv9C70LDRgtC10LvRjNGJ0LjQutCwDQogICAgICAgICAgICAgICAgICAgIGRlZiBzdGF0dXNOUCA9IGRhdGFSb3cuc3RhdHVzDQogICAgICAgICAgICAgICAgICAgIC8v0JTQsNGC0LDQoNC+0LbQtCAgICDQlNCw0YLQsCDRgNC+0LbQtNC10L3QuNGPDQogICAgICAgICAg'
        longString += 'ICAgICAgICAgIGRlZiBkYXRhUm96aGQgPSBkYXRhUm93LmJpcnRoZGF5Py5mb3JtYXQoJ2RkLk1NLnl5eXknKQ0KICAgICAgICAgICAgICAgICAgICAvL9CT0YDQsNC20LQgICAgICAg0JPRgNCw0LbQtNCw0L3RgdGC0LLQviAo0LrQvtC0INGB0YLRgNCw0L3RiykNCiAgICAgICAgICAgICAgICAgICAgZGVmIGdyYXpoZCA9IGdldFJlZkJvb2tWYWx1ZSgxMCwgZGF0YVJvdy5jaXRpemVuc2hpcCk/LkNPREU/LnZhbHVlDQogICAgICAgICAgICAgICAgICAgIC8v0JrQvtC00JLQuNC00JTQvtC6ICAg0JrQvtC0INCy0LjQtNCwINC00L7QutGD0LzQtdC90YLQsCwg0YPQtNC+0YHRgtC+0LLQtdGA0Y/RjtGJ0LXQs9C+INC70LjRh9C90L7RgdGC0YwNCiAgICAgICAgICAgICAgICAgICAgZGVmIGtvZFZpZERvayA9IGdldFJlZkJvb2tWYWx1ZSgzNjAsIGRhdGFSb3cuY29kZSk/LkNPREU/LnZhbHVlDQogICAgICAgICAgICAgICAgICAgIC8v0KHQtdGA0J3QvtC80JTQvtC6ICAg0KHQtdGA0LjRjyDQuCDQvdC+0LzQtdGAINC00L7QutGD0LzQtdC90YLQsA0KICAgICAgICAgICAgICAgICAgICBkZWYgc2VyTm9tRG9rID0gZGF0YVJvdy5zZXJpZXMNCiAgICAgICAgICAgICAgICAgICAgLy/QmNC90LTQtdC60YEgICAgICDQn9C+0YfRgtC+0LLRi9C5INC40L3QtNC10LrRgQ0KICAgICAgICAgICAgICAgICAgICBkZWYgemlwQ29kZSA9IGRhdGFSb3cucG9zdGNvZGUNCiAgICAgICAgICAgICAgICAgICAgLy/QmtC+0LTQoNC10LPQuNC+0L0gICDQoNC10LPQuNC+0L0gKNC60L7QtCkNCiAgICAgICAgICAgICAgICAgICAgZGVmIHN1YmRpdmlzaW9uUkYgPSBnZXRSZWZCb29rVmFsdWUoNCwgZGF0YVJvdy5yZWdpb24pPy5DT0RFPy52YWx1ZQ0KICAgICAgICAgICAgICAgICAgICAvL9Cg0LDQudC+0L0gICAgICAg0KDQsNC50L7QvQ0KICAgICAgICAgICAgICAgICAgICBkZWYgYXJlYSA9IGRhdGFSb3cuZGlzdHJpY3QNCiAgICAgICAgICAgICAgICAgICAgLy/Qk9C+0YDQvtC0ICAgICAgINCT0L7RgNC+0LQNCiAgICAgICAgICAgICAgICAgICAgZGVmIGNpdHkgPSBkYXRhUm93LmNpdHkNCiAgICAgICAgICAgICAgICAgICAgLy/QndCw0YHQtdC70J/Rg9C90LrRgiAg0J3QsNGB0LXQu9C10L3QvdGL0Lkg0L/Rg9C90LrRgiAo0YHQtdC70L4sINC/0L7RgdC10LvQvtC6KQ0KICAgICAgICAgICAgICAgICAgICBkZWYgcmVnaW9uID0gZGF0YVJvdy5sb2NhbGl0eQ0KICAgICAgICAgICAgICAgICAgICAvL9Cj0LvQuNGG0LAgICAgICAg0KPQu9C40YbQsCAo0L/RgNC+0YHQv9C10LrRgiwg0L/QtdGA0LXRg9C70L7QuikNCiAgICAgICAgICAgICAgICAgICAgZGVmIHN0cmVldCA9IGRhdGFSb3cuc3RyZWV0DQogICAgICAgICAgICAgICAgICAgIC8v0JTQvtC8ICAgICAgICAg0J3QvtC80LXRgCDQtNC+0LzQsCAo0LLQu9Cw0LTQtdC90LjRjykNCiAgICAgICAgICAgICAgICAgICAgZGVmIGhvbWVOdW1iZXIgPSBkYXRhUm93LmhvdXNlDQogICAgICAgICAgICAgICAgICAgIC8v0JrQvtGA0L/Rg9GBICAgICAg0J3QvtC80LXRgCDQutC+0YDQv9GD0YHQsCAo0YHRgtGA0L7QtdC90LjRjykNCiAgICAgICAgICAgICAgICAgICAgZGVmIGNvcnBOdW1iZXIgPSBkYXRhUm93LmhvdXNpbmcNCiAgICAgICAgICAgICAgICAgICAgLy/QmtCy0LDRgNGCICAgICAgINCd0L7QvNC10YAg0LrQstCw0YDRgtC40YDRiw0KICAgICAgICAgICAgICAgICAgICBkZWYgYXBhcnRtZW50ID0gZGF0YVJvdy5hcGFydG1lbnQNCiAgICAgICAgICAgICAgICAgICAgLy/QntCa0KHQnCAgICAgICAg0JrQvtC0INGB0YLRgNCw0L3Riw0KICAgICAgICAgICAgICAgICAgICBkZWYgb2tzbSA9IGdldFJlZkJvb2tWYWx1ZSgxMCwgZGF0YVJvdy5jb3VudHJ5KT8uQ09ERT8udmFsdWUNCiAgICAgICAgICAgICAgICAgICAgLy/QkNC00YDQotC10LrRgdGCICAgINCQ0LTRgNC10YEg0LzQtdGB0YLQsCDQttC40YLQtdC70YzRgdGC0LLQsCDQt9CwINC/0YDQtdC00LXQu9Cw0LzQuCDQoNC+0YHRgdC40LnRgdC60L7QuSDQpNC10LTQtdGA0LDRhtC40LgNCiAgICAgICAgICAgICAgICAgICAgZGVmIGFkclRleHQgPSBkYXRhUm93LmFkZHJlc3MNCiAgICAgICAgICAgICAgICAgICAgLy/QodGC0LDQstC60LAgICAgICDQndCw0LvQvtCz0L7QstCw0Y8g0YHRgtCw0LLQutCwDQogICAgICAgICAgICAgICAgICAgIGRlZiBzdGF2a2EgPSBkYXRhUm93LnRheFJhdGUNCg0KICAgICAgICAgICAgICAgICAgICAvL9Ch0YPQvNCU0L7RhdCe0LHRiSAgINCe0LHRidCw0Y8g0YHRg9C80LzQsCDQtNC+0YXQvtC00LANCiAgICAgICAgICAgICAgICAgICAgZGVmIHN1bURvaE9ic2ggPSBCaWdEZWNpbWFsLlpFUk8NCiAgICAgICAgICAgICAgICAgICAgLy/QodGD0LzQktGL0YfQntCx0YkgICDQntCx0YnQsNGPINGB0YPQvNC80LAg0LLRi9GH0LXRgtC+0LINCiAgICAgICAgICAgICAgICAgICAgZGVmIHN1bVZpY2hPYnNoID0gQmlnRGVjaW1hbC5aRVJPDQogICAgICAgICAgICAgICAgICAgIC8v0J3QsNC70JHQsNC30LAgICAgINCd0LDQu9C+0LPQvtCy0LDRjyDQsdCw0LfQsA0KICAgICAgICAgICAgICAgICAgICBkZWYgbmFsQmF6YUFwcDIgPSBCaWdEZWNpbWFsLlpFUk8NCiAgICAgICAgICAgICAgICAgICAgLy/QndCw0LvQmNGB0YfQuNGB0LsgICDQodGD0LzQvNCwINC90LDQu9C+0LPQsCDQuNGB0YfQuNGB0LvQtdC90L3QsNGPDQogICAgICAgICAgICAgICAgICAgIGRlZiBuYWxJc2NoaXNsQXBwMiA9IEJpZ0RlY2ltYWwuWkVSTw0KICAgICAgICAgICAgICAgICAgICAvL9Cd0LDQu9Cj0LTQtdGA0LYgICAg0KHRg9C80LzQsCDQvdCw0LvQvtCz0LAg0YPQtNC10YDQttCw0L3QvdCw0Y8NCiAgICAgICAgICAgICAgICAgICAgZGVmIG5hbFVkZXJ6aCA9IEJpZ0RlY2ltYWwuWkVSTw0KICAgICAgICAgICAgICAgICAgICAvL9Cd0LDQu9Cj0L/Qu9Cw0Ycg0KHRg9C80LzQsCDQvdCw0LvQvtCz0LAg0L/QtdGA0LXRh9C40YHQu9C10L3QvdCw0Y8NCiAgICAgICAgICAgICAgICAgICAgZGVmIG5hbFVwbGFjaCA9IEJpZ0RlY2ltYWwuWkVSTw0KICAgICAgICAgICAgICAgICAgICAvL9Cd0LDQu9Cj0LTQtdGA0LbQm9C40Ygg0KHRg9C80LzQsCDQvdCw0LvQvtCz0LAsINC40LfQu9C40YjQvdC1INGD0LTQtdGA0LbQsNC90L3QsNGPINC90LDQu9C+0LPQvtCy0YvQvCDQsNCz0LXQvdGC0L7QvA0KICAgICAgICAgICAgICAgICAgICBkZWYgbmFsVWRlcnpoTGlzaCA9IEJpZ0RlY2ltYWwuWkVSTw0KICAgICAgICAgICAgICAgICAgICAvL9Cd0LDQu9Cd0LXQo9C00LXRgNC2ICDQodGD0LzQvNCwINC90LDQu9C+0LPQsCwg0L3QtSDRg9C00LXRgNC20LDQvdC90LDRjyDQvdCw0LvQvtCz0L7QstGL0Lwg0LDQs9C10L3RgtC+0LwNCiAgICAgICAgICAgICAgICAgICAgZGVmIG5hbE5lVWRlcnpoID0gQmlnRGVjaW1hbC5aRVJPDQoNCiAgICAgICAgICAgICAgICAgICAgZGF0YVJvd3MuZWFjaCB7IGRlZiByb3cgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgIHN1bURvaE9ic2ggPSBzdW1Eb2hPYnNoLmFkZChyb3cuaW5jb21lID86IEJpZ0RlY2ltYWwuWkVSTykNCiAgICAgICAgICAgICAgICAgICAgICAgIHN1bVZpY2hPYnNoID0gc3VtVmljaE9ic2guYWRkKHJvdy5kZWR1Y3Rpb24gPzogQmlnRGVjaW1hbC5aRVJPKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbmFsSXNjaGlzbEFwcDIgPSBuYWxJc2NoaXNsQXBwMi5hZGQocm93LmNhbGN1bGF0ZWQgPzogQmlnRGVjaW1hbC5aRVJPKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbmFsVWRlcnpoID0gbmFsVWRlcnpoLmFkZChyb3cud2l0aGhlbGQgPzogQmlnRGVjaW1hbC5aRVJPKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbmFsVXBsYWNoID0gbmFsVXBsYWNoLmFkZChyb3cubGlzdGVkID86IEJpZ0RlY2ltYWwuWkVSTykNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbFVkZXJ6aExpc2ggPSBuYWxVZGVyemhMaXNoLmFkZChyb3cud2l0aGhlbGRBZ2VudCA/OiBCaWdEZWNpbWFsLlpFUk8pDQogICAgICAgICAgICAgICAgICAgICAgICBuYWxOZVVkZXJ6aCA9IG5hbE5lVWRlcnpoLmFkZChyb3cubm9uV2l0aGhlbGRBZ2VudCA/OiBCaWdEZWNpbWFsLlpFUk8pDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgbmFsQmF6YUFwcDIgPSBzdW1Eb2hPYnNoIC0gc3VtVmljaE9ic2gNCg0KICAgICAgICAgICAgICAgICAgICAvLyAwLi5uDQogICAgICAgICAgICAgICAgICAgIGlubmVyQnVpbGRlci7QodCy0LXQtNCU0L7RhdCk0JsoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QvtC80LXRgNCh0L/RgNCw0LIgOiBub21lclNwcmF2LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0LDRgtCw0KHQv9GA0LDQsiA6IGRhdGFTcHJhdiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQotC40L8gOiB0eXBlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLzEuLjENCiAgICAgICAgICAgICAgICAgICAgICAgINCk0JvQn9C+0LvRg9GH0JTQvtGFKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaW5uRkwgPyBb0JjQndCd0KTQmzogaW5uRkxdIDogWzpdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGlubklubyA/IFvQmNCd0J3QmNC90L46IGlubklub10gOiBbOl0pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBb0KHRgtCw0YLRg9GB0J3QnyA6IHN0YXR1c05QLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQlNCw0YLQsNCg0L7QttC0IDogZGF0YVJvemhkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQk9GA0LDQttC0ICAgIDogZ3JhemhkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQmtC+0LTQktC40LTQlNC+0Lo6IGtvZFZpZERvaywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHQtdGA0J3QvtC80JTQvtC6OiBzZXJOb21Eb2tdDQogICAgICAgICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxLi4xDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0KTQmNCeKFvQpNCw0LzQuNC70LjRjyA6IHN1cm5hbWUsINCY0LzRjyA6IGdpdmVuTmFtZV0gKyAocGFyZW50TmFtZSAhPSBudWxsID8gW9Ce0YLRh9C10YHRgtCy0L4gOiBwYXJlbnROYW1lXSA6IFtdKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ViZGl2aXNpb25SRiAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCQ0LTRgNCc0JbQoNCkKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh6aXBDb2RlID8gW9CY0L3QtNC10LrRgSA6IHppcENvZGVdIDogWzpdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBb0JrQvtC00KDQtdCz0LjQvtC9IDogc3ViZGl2aXNpb25SRl0gKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFyZWE/IFvQoNCw0LnQvtC9IDogYXJlYV0gOiBbOl0pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaXR5ID8gW9CT0L7RgNC+0LQgOiBjaXR5XSA6IFs6XSkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlZ2lvbiA/IFvQndCw0YHQtdC70J/Rg9C90LrRgiA6IHJlZ2lvbl0gOiBbOl0pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdHJlZXQgPyBb0KPQu9C40YbQsCA6IHN0cmVldF0gOiBbOl0pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChob21lTnVtYmVyID8gW9CU0L7QvCA6IGhvbWVOdW1iZXJdIDogWzpdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY29ycE51bWJlciA/IFvQmtC+0YDQv9GD0YEgOiBjb3JwTnVtYmVyXSA6IFs6XSkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFwYXJ0bWVudCA/IFvQmtCy0LDRgNGCIDogYXBhcnRtZW50XSA6IFs6XSkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vMC4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChva3NtICE9IG51bGwgfHwgYWRyVGV4dCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQkNC00YDQnNCW0JjQvdC+KNCe0JrQodCcIDogb2tzbSwg0JDQtNGA0KLQtdC60YHRgiA6IGFkclRleHQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy8xLi4xDQogICAgICAgICAgICAgICAgICAgICAgICDQlNC+0YXQndCw0LvQn9C10YAoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFvQodGC0LDQstC60LAgOiBzdGF2a2EsINCh0YPQvNCU0L7RhdCe0LHRiSA6IHN1bURvaE9ic2hdICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3VtVmljaE9ic2ggIT0gbnVsbCA/IFvQodGD0LzQktGL0YfQntCx0YkgOiBzdW1WaWNoT2JzaF0gOiBbXSkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFvQndCw0LvQkdCw0LfQsCA6IG5hbEJhemFBcHAyLCDQndCw0LvQmNGB0YfQuNGB0LsgOiBuYWxJc2NoaXNsQXBwMl0gKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuYWxVZGVyemggIT0gbnVsbCA/IFvQndCw0LvQo9C00LXRgNC2IDogbmFsVWRlcnpoXSA6IFtdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5hbFVwbGFjaCAhPSBudWxsID8gW9Cd0LDQu9Cj0L/Qu9Cw0YcgOiBuYWxVcGxhY2hdIDogW10pICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobmFsVWRlcnpoTGlzaCAhPSBudWxsID8gW9Cd0LDQu9Cj0LTQtdGA0LbQm9C40YggOiBuYWxVZGVyemhMaXNoXSA6IFtdKSArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5hbE5lVWRlcnpoICE9IG51bGwgPyBb0J3QsNC70J3QtdCj0LTQtdGA0LYgOiBuYWxOZVVkZXJ6aF0gOiBbXSkNCiAgICAgICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBzdW1Eb2hvZDA0MU1hcCA9IFs6XQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIHN1bVZpY2hldDA0M01hcE1hcCA9IFs6XQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIG5hbFZpY2hTdGFuZE1hcCA9IFs6XQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChkZWYgcm93IDogZGF0YVJvd3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sZWFuIGlzU3ByRG9oRkwgPSAoMS4uMykuZmluZCB7IGluZGV4XzEgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/QmtC+0LTQlNC+0YXQvtC0ICAgIDA0MCAo0JrQvtC0INC00L7RhdC+0LTQsCkg0LjQu9C4INCh0YPQvNCU0L7RhdC+0LQgICAgMDQxICjQodGD0LzQvNCwINC00L7RhdC+0LTQsCkg0LfQsNC/0L7Qu9C90LXQvdGLDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1siY29sXzA0MF8ke2luZGV4XzF9Il0gIT0gbnVsbCB8fCByb3dbImNvbF8wNDFfJHtpbmRleF8xfSJdICE9IG51bGwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICE9IG51bGwNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1NwckRvaEZMKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMudGltZXN7IGluZGV4XzEgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0JrQvtC00JTQvtGF0L7QtCAgICAwNDAgKNCa0L7QtCDQtNC+0YXQvtC00LApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYga29kRG9ob2QwNDAgPSBnZXRSZWZCb29rVmFsdWUoMzcwLCByb3dbImNvbF8wNDBfJHtpbmRleF8xICsgMX0iXSk/LkNPREU/LnZhbHVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL9Ch0YPQvNCU0L7RhdC+0LQgICAgMDQxICjQodGD0LzQvNCwINC00L7RhdC+0LTQsCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBzdW1Eb2hvZDA0MSA9IHJvd1siY29sXzA0MV8ke2luZGV4XzEgKyAxfSJdDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAuLm4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrb2REb2hvZDA0MCB8fCBzdW1Eb2hvZDA0MSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtRG9ob2QwNDFNYXBba29kRG9ob2QwNDBdID0gc3VtRG9ob2QwNDENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VtVmljaGV0MDQzTWFwTWFwW2tvZERvaG9kMDQwXSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bVZpY2hldDA0M01hcE1hcFtrb2REb2hvZDA0MF0gPSBbOl0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNS50aW1lc3sgaW5kZXhfMiAtPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL9Ca0L7QtNCS0YvRh9C10YIgICAgMDQyICjQmtC+0LQg0LLRi9GH0LXRgtCwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYga29kVmljaGV0MDQyID0gZ2V0UmVmQm9va1ZhbHVlKDM1MCwgcm93WyJjb2xfMDQyXyR7aW5kZXhfMSArIDF9XyR7aW5kZXhfMiArIDF9Il0pPy5DT0RFPy52YWx1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL9Ch0YPQvNCS0YvRh9C10YIgICAgMDQzICjQodGD0LzQvNCwINCy0YvRh9C10YLQsCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmIHN1bVZpY2hldDA0MyA9IHJvd1siY29sXzA0M18ke2luZGV4XzEgKyAxfV8ke2luZGV4XzIgKyAxfSJdDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8wLi5uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrb2RWaWNoZXQwNDIgfHwgc3VtVmljaGV0MDQzICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdW1WaWNoZXQwNDNNYXBNYXBba29kRG9ob2QwNDBdW2tvZFZpY2hldDA0Ml0gPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bVZpY2hldDA0M01hcE1hcFtrb2REb2hvZDA0MF1ba29kVmljaGV0MDQyXSA9IFtdDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1WaWNoZXQwNDNNYXBNYXBba29kRG9ob2QwNDBdW2tvZFZpY2hldDA0Ml0uYWRkKHN1bVZpY2hldDA0MykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2xlYW4gaXNOYWxWaWNoU3RhbmQgPSAoMS4uMikuZmluZCB7IGluZGV4XzEgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/QmtC+0LTQktGL0YfQtdGCICAgIDA1MSAo0JrQvtC0INCy0YvRh9C10YLQsCkg0LjQu9C4INCh0YPQvNCS0YvRh9C10YIgICAgMDUyICjQodGD0LzQvNCwINCy0YvRh9C10YLQsCkg0LfQsNC/0L7Qu9C90LXQvdGLDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1siY29sXzA1MV8zXyR7aW5kZXhfMX0iXSAhPSBudWxsIHx8IHJvd1siY29sXzA1Ml8zXyR7aW5kZXhfMX0iXSAhPSBudWxsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAhPSBudWxsDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzAuLjENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYWxWaWNoU3RhbmQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMi50aW1lc3sgaW5kZXhfMSAtPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/QmtC+0LTQktGL0YfQtdGCICAgIDA1MSAo0JrQvtC0INCy0YvRh9C10YLQsCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZiBrb2RWaWNoZXQwNTEgPSBnZXRSZWZCb29rVmFsdWUoMzUwLCByb3dbImNvbF8wNTFfM18ke2luZGV4XzEgKyAxfSJdKT8uQ09ERT8udmFsdWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0KHRg9C80JLRi9GH0LXRgiAgICAwNTIgKNCh0YPQvNC80LAg0LLRi9GH0LXRgtCwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmIHN1bVZpY2hldDA1MiA9IHJvd1siY29sXzA1Ml8zXyR7aW5kZXhfMSArIDF9Il0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vMC4ubg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtvZFZpY2hldDA1MSB8fCBzdW1WaWNoZXQwNTIgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYWxWaWNoU3RhbmRNYXBba29kVmljaGV0MDUxXSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbFZpY2hTdGFuZE1hcFtrb2RWaWNoZXQwNTFdID0gW10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFsVmljaFN0YW5kTWFwW2tvZFZpY2hldDA1MV0uYWRkKHN1bVZpY2hldDA1MikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy8wLi4xDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1bURvaG9kMDQxTWFwLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0L/RgNCU0L7RhdCk0JsoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bURvaG9kMDQxTWFwLmVhY2ggeyBkZWYga29kRG9ob2QwNDAsIHN1bURvaG9kMDQxIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwLi5uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQodGD0LzQlNC+0YUo0JrQvtC00JTQvtGF0L7QtCA6IGtvZERvaG9kMDQwLCDQodGD0LzQlNC+0YXQvtC0IDogc3VtRG9ob2QwNDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1bVZpY2hldDA0M01hcE1hcFtrb2REb2hvZDA0MF0uaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bVZpY2hldDA0M01hcE1hcFtrb2REb2hvZDA0MF0uZWFjaCB7IGRlZiBrb2RWaWNoZXQwNDIsIHN1bVZpY2hldDA0M0xpc3QgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vMC4ubg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtVmljaGV0MDQzTGlzdC5lYWNoIHsgc3VtVmljaGV0MDQzIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHRg9C80JLRi9GHKNCa0L7QtNCS0YvRh9C10YIgOiBrb2RWaWNoZXQwNDIsINCh0YPQvNCS0YvRh9C10YIgOiBzdW1WaWNoZXQwNDMpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vMC4uMQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuYWxWaWNoU3RhbmRNYXAuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QsNC70JLRi9GH0KHRgtCw0L3QtCgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFsVmljaFN0YW5kTWFwLmVhY2ggeyBkZWYga29kVmljaGV0MDUxLCBzdW1WaWNoZXQwNTJMaXN0IC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzAuLm4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bVZpY2hldDA1Mkxpc3QuZWFjaCB7IHN1bVZpY2hldDA1MiAtPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCh0YPQvNCS0YvRhyjQmtC+0LTQktGL0YfQtdGCIDoga29kVmljaGV0MDUxLCDQodGD0LzQktGL0YfQtdGCIDogc3VtVmljaGV0MDUyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChpc1RheFBlcmlvZCkgew0KICAgICAgICAgICAgICAgICAgICAvLyDRgdC+0YDRgtC40YDRg9C10Lwg0L/QviDQpNCY0J4sINC/0L7RgtC+0Lwg0L/QviDQvtGB0YLQsNC70YzQvdGL0Lwg0L/QvtC70Y/QvA0KICAgICAgICAgICAgICAgICAgICBpZiAoaXNDRk9BcHAyICYmIGRhdGFSb3dzQXBwMiAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkZWYgc29ydENvbHVtbnMgPSBbJ3N1cm5hbWUnLCAnbmFtZScsICdwYXRyb255bWljJywgJ2lublJGJywgJ2lubicsICd0YXhSYXRlJ10NCiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRSb3dzKGRhdGFSb3dzQXBwMiwgc29ydENvbHVtbnMpDQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAvL9CU0LDRgtCw0KHQv9GA0LDQsiAgINCU0LDRgtCwINGB0L7RgdGC0LDQstC70LXQvdC40Y8NCiAgICAgICAgICAgICAgICAgICAgZGVmIGRhdGFTcHJhdiA9IChkb2NEYXRlICE9IG51bGwgPyBkb2NEYXRlIDogbmV3IERhdGUoKSkuZm9ybWF0KCJkZC5NTS55eXl5IikNCiAgICAgICAgICAgICAgICAgICAgLy/QotC40L8gICAgICAgICDQotC40L8NCiAgICAgICAgICAgICAgICAgICAgZGVmIHR5cGUgPSBTdHJpbmcuZm9ybWF0KCIlMDJkIiwgcmVwb3J0UGVyaW9kU2VydmljZS5nZXRDb3JyZWN0aW9uTnVtYmVyKGRlY2xhcmF0aW9uRGF0YS5kZXBhcnRtZW50UmVwb3J0UGVyaW9kSWQpKQ0KDQogICAgICAgICAgICAgICAgICAgIGRlZiBncm91cHNBcHAyID0gWzpdDQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhUm93c0FwcDIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxSZWNvcmRzTWFwKFs0TCwgMTBMLCAzNTBMLCAzNjBMLCAzNzBMXSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwc0FwcDIgPSBncm91cFJvd3MoZGF0YVJvd3NBcHAyKQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NGT0FwcDIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQXBwMihidWlsZGVyLCBkYXRhUm93c0FwcDIsIGlzQ0ZPQXBwMiwgbnVsbCwgZGF0YVNwcmF2LCB0eXBlKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmIGluZGV4ID0gMA0KICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzQXBwMi5lYWNoIHsga2V5LCByb3dzIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzLnNpemUoKSA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQXBwMihidWlsZGVyLCByb3dzLCBpc0NGT0FwcDIsIGluZGV4LCBkYXRhU3ByYXYsIHR5cGUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVBcHAyQ0ZPKGJ1aWxkZXIsIHJvd3MsIGluZGV4LCBkYXRhU3ByYXYsIHR5cGUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vINCf0YDQuNC70L7QttC10L3QuNC1IOKEljIg0Log0L3QsNC70L7Qs9C+0LLQvtC5INC00LXQutC70LDRgNCw0YbQuNC4IC0g0LrQvtC90LXRhg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpkZWYgZ3JvdXBSb3dzIChkZWYgZGF0YVJvd3MpIHsNCiAgICBkZWYgZ3JvdXBDb2x1bW5zID0gWydpbm5SRicsICdpbm4nLCAnc3VybmFtZScsICduYW1lJywgJ3BhdHJvbnltaWMnLCAnYmlydGhkYXknLCAnc2VyaWVzJywgJ3RheFJhdGUnXQ0KICAgIGRlZiByZXN1bHRNYXAgPSBbOl0NCiAgICBkYXRhUm93cy5lYWNoIHsgcm93IC0+DQogICAgICAgIGRlZiBrZXkgPSBncm91cENvbHVtbnMuc3VtIHsgYWxpYXMgLT4NCiAgICAgICAgICAgIFN0cmluZy52YWx1ZU9mKHJvd1thbGlhc10pDQogICAgICAgIH0/LnRvTG93ZXJDYXNlKCk/Lmhhc2hDb2RlKCk/LnRvU3RyaW5nKCkNCiAgICAgICAgaWYgKHJlc3VsdE1hcFtrZXldID09IG51bGwpIHsNCiAgICAgICAgICAgIHJlc3VsdE1hcFtrZXldID0gW10NCiAgICAgICAgfQ0KICAgICAgICByZXN1bHRNYXBba2V5XS5hZGQocm93KQ0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0TWFwDQp9DQoNCi8qKg0KICog0JjRidC10YIg0YLQvtGH0L3QvtC1INC70Lgg0YHQvtCy0L/QsNC00LXQvdC40LUg0YPQt9C70L7QsiDQtNC10YDQtdCy0LAgeG1sIGMg0YLQtdC60YPRidC40LzQuCDQvdC10LfQsNC60YDRi9GC0YvQvNC4INGN0LvQtdC80LXQvdGC0LDQvNC4DQogKiBAcGFyYW0gbm9kZU5hbWVzINC+0LbQuNC00LDQtdC80YvQtSDRjdC70LXQvNC10L3RgtGLIHhtbA0KICogQHBhcmFtIGVsZW1lbnRzINC90LXQt9Cw0LrRgNGL0YLRi9C1INGN0LvQtdC80LXQvdGC0YsNCiAqIEByZXR1cm4NCiAqLw0KYm9vbGVhbiBpc0N1cnJlbnROb2RlKExpc3Q8U3RyaW5nPiBub2RlTmFtZXMsIE1hcDxTdHJpbmcsIEJvb2xlYW4+IGVsZW1lbnRzKSB7DQogICAgbm9kZU5hbWVzLmFkZCgn0KTQsNC50LsnKQ0KICAgIGRlZiBlbnRlcmVkTm9kZXMgPSBlbGVtZW50cy5maW5kQWxsIHsgaXQudmFsdWUgfS5rZXlTZXQoKSAvLyDRg9C30LvRiyDQsiDQutC+0YLQvtGA0YvQtSDQstC+0YjQu9C4LCDQvdC+INC90LUg0LLRi9GI0LvQuCDQtdGJ0LUNCiAgICByZXR1cm4gZW50ZXJlZE5vZGVzLmNvbnRhaW5zQWxsKG5vZGVOYW1lcykgJiYgZW50ZXJlZE5vZGVzLnNpemUoKSA9PSBub2RlTmFtZXMuc2l6ZSgpDQp9DQoNCi8vINCf0L7Qu9GD0YfQuNGC0Ywg0L7QutGA0YPQs9C70LXQvdC90L7QtSwg0YbQtdC70L7Rh9C40YHQu9C10L3QvdC+0LUg0LfQvdCw0YfQtdC90LjQtS4NCmRlZiBnZXRMb25nKGRlZiB2YWx1ZSkgew0KICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7DQogICAgICAgIHJldHVybiAwDQogICAgfQ0KICAgIHJldHVybiByb3VuZFZhbHVlKHZhbHVlLCAwKQ0KfQ0KDQovKioNCiAqINCf0L7Qu9GD0YfQuNGC0Ywg0YHRg9C80LzRgyDQt9C90LDRh9C10L3QuNC4INGB0YLQvtC70LHRhtCwINC/0L4g0YPQutCw0LfQsNC90L3Ri9C8INGB0YLRgNC+0LrQsNC8Lg0KICoNCiAqIEBwYXJhbSBkYXRhUm93cyDRgdGC0YDQvtC60Lgg0L3RhA0KICogQHBhcmFtIGNvbHVtbkNvZGUg0L/RgdC10LLQtNC+0L3QuNC8INGB0YLQvtC70LHRhtCwINC/0L4g0LrQvtGC0L7RgNC+0LzRgyDQvtGC0LHQuNGA0LDRgtGMINC00LDQvdC90YvQtSDQtNC70Y8g0YHRg9C80LzQuNGA0L7QstCw0L3QuNGPDQogKiBAcGFyYW0gY29sdW1uU3VtINC/0YHQtdCy0LTQvtC90LjQvCDRgdGC0L7Qu9Cx0YbQsCDQt9C90LDRh9C10L3QuNGPINC60L7RgtC+0YDQvtCz0L4g0L3QsNC00L4g0YHRg9C80LzQuNGA0L7QstCw0YLRjA0KICogQHBhcmFtIGNvZGVzINGB0L/QuNGB0L7QuiDQt9C90LDRh9C10L3QuNC4LCDQutC+0YLQvtGA0YvQtSDQvdCw0LTQviDRg9GH0LjRgtGL0LLQsNGC0Ywg0L/RgNC4INGB0YPQvNC80LjRgNC+0LLQsNC90LjQuA0KICovDQpkZWYgZ2V0U3VtUm93c0J5Q29sKGRlZiBkYXRhUm93cywgZGVmIGNvbHVtbkNvZGUsIGRlZiBjb2x1bW5TdW0sIGRlZiBjb2Rlcykgew0KICAgIGRlZiByZXN1bHQgPSAwDQogICAgaWYgKCFkYXRhUm93cykgew0KICAgICAgICByZXR1cm4gcmVzdWx0DQogICAgfQ0KICAgIGRhdGFSb3dzLmVhY2ggeyByb3cgLT4NCiAgICAgICAgZGVmIGNlbGwgPSByb3cuZ2V0Q2VsbChjb2x1bW5TdW0pDQogICAgICAgIGlmIChyb3cuZ2V0Q2VsbChjb2x1bW5Db2RlKS52YWx1ZSBpbiAoU3RyaW5nIFtdKWNvZGVzICYmICFjZWxsLmhhc1ZhbHVlT3duZXIoKSkgew0KICAgICAgICAgICAgcmVzdWx0ICs9IChjZWxsLnZhbHVlID86IDApDQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIHJlc3VsdA0KfQ0KDQovKioNCiAqINCf0L7Qu9GD0YfQuNGC0Ywg0YHRg9C80LzRgyDQs9GA0LDRhNGLIDkg0YTQvtGA0LzRiyDQtNC+0YXQvtC00Ysg0YHQu9C+0LbQvdGL0LUuDQogKg0KICogQHBhcmFtIGRhdGFSb3dzINGB0YLRgNC+0LrQuCDQvdGEINC00L7RhdC+0LTRiyDRgdC70L7QttC90YvQtQ0KICogQHBhcmFtIGNvZGVzINC60L7QtNGLINC60L7RgtC+0YDRi9C1INC90LDQtNC+INGD0YfQuNGC0YvQstCw0YLRjCDQv9GA0Lgg0YHRg9C80LzQuNGA0L7QstCw0L3QuNC4DQogKi8NCmRlZiBnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGVmIGRhdGFSb3dzLCBkZWYgY29kZXMpIHsNCiAgICByZXR1cm4gZ2V0U3VtUm93c0J5Q29sKGRhdGFSb3dzLCAnaW5jb21lVHlwZUlkJywgJ2luY29tZVRheFN1bVMnLCBjb2RlcykNCn0NCg0KLyoqDQogKiDQn9C+0LvRg9GH0LjRgtGMINGB0YPQvNC80YMg0LPRgNCw0YTRiyA5INGE0L7RgNC80Ysg0YDQsNGB0YXQvtC00Ysg0YHQu9C+0LbQvdGL0LUuDQogKg0KICogQHBhcmFtIGRhdGFSb3dzINGB0YLRgNC+0LrQuCDQvdGEINGA0LDRgdGF0L7QtNGLINGB0LvQvtC20L3Ri9C1DQogKiBAcGFyYW0gY29kZXMg0LrQvtC00Ysg0LrQvtGC0L7RgNGL0LUg0L3QsNC00L4g0YPRh9C40YLRi9Cy0LDRgtGMINC/0YDQuCDRgdGD0LzQvNC40YDQvtCy0LDQvdC40LgNCiAqLw0KZGVmIGdldENvbXBsZXhDb25zdW1wdGlvblN1bVJvd3M5KGRlZiBkYXRhUm93cywgZGVmIGNvZGVzKSB7DQogICAgcmV0dXJuIGdldFN1bVJvd3NCeUNvbChkYXRhUm93cywgJ2NvbnN1bXB0aW9uVHlwZUlkJywgJ2NvbnN1bXB0aW9uVGF4U3VtUycsIGNvZGVzKQ0KfQ0KDQovKioNCiAqINCf0L7Qu9GD0YfQuNGC0Ywg0YHRg9C80LzRgyDQs9GA0LDRhNGLIDgg0YTQvtGA0LzRiyDQtNC+0YXQvtC00Ysg0L/RgNC+0YHRgtGL0LUuDQogKg0KICogQHBhcmFtIGRhdGFSb3dzINGB0YLRgNC+0LrQuCDQvdGEINC00L7RhdC+0LTRiyDQv9GA0L7RgdGC0YvQtQ0KICogQHBhcmFtIGNvZGVzINC60L7QtNGLINC60L7RgtC+0YDRi9C1INC90LDQtNC+INGD0YfQuNGC0YvQstCw0YLRjCDQv9GA0Lgg0YHRg9C80LzQuNGA0L7QstCw0L3QuNC4DQogKi8NCmRlZiBnZXRTaW1wbGVJbmNvbWVTdW1Sb3dzOChkZWYgZGF0YVJvd3MsIGRlZiBjb2Rlcykgew0KICAgIHJldHVybiBnZXRTdW1Sb3dzQnlDb2woZGF0YVJvd3MsICdpbmNvbWVUeXBlSWQnLCAncm51NEZpZWxkNUFjY2VwdGVkJywgY29kZXMpDQp9DQoNCi8qKg0KICog0J/QvtC70YPRh9C40YLRjCDRgdGD0LzQvNGDINCz0YDQsNGE0YsgOCDRhNC+0YDQvNGLINGA0LDRgdGF0L7QtNGLINC/0YDQvtGB0YLRi9C1Lg0KICoNCiAqIEBwYXJhbSBkYXRhUm93cyDRgdGC0YDQvtC60Lgg0L3RhCDRgNCw0YHRhdC+0LTRiyDQv9GA'
        longString += '0L7RgdGC0YvQtQ0KICogQHBhcmFtIGNvZGVzINC60L7QtNGLINC60L7RgtC+0YDRi9C1INC90LDQtNC+INGD0YfQuNGC0YvQstCw0YLRjCDQv9GA0Lgg0YHRg9C80LzQuNGA0L7QstCw0L3QuNC4DQogKi8NCmRlZiBnZXRTaW1wbGVDb25zdW1wdGlvblN1bVJvd3M4KGRlZiBkYXRhUm93cywgZGVmIGNvZGVzKSB7DQogICAgcmV0dXJuIGdldFN1bVJvd3NCeUNvbChkYXRhUm93cywgJ2NvbnN1bXB0aW9uVHlwZUlkJywgJ3JudTVGaWVsZDVBY2NlcHRlZCcsIGNvZGVzKQ0KfQ0KDQovKiog0J/QvtC00YHRh9C10YIg0L/RgNC+0YHRgtGL0YUg0YDQsNGB0YXQvtC00L7Qsjog0YHRg9C80LzQsCjQs9GA0LDRhNCwIDggKyDQs9GA0LDRhNCwIDUgLSDQs9GA0LDRhNCwIDYpLiAqLw0KZGVmIGdldENhbGN1bGF0ZWRTaW1wbGVDb25zdW1wdGlvbihkZWYgZGF0YVJvd3NTaW1wbGUsIGRlZiBjb2Rlcykgew0KICAgIGRlZiByZXN1bHQgPSAwDQogICAgaWYgKGRhdGFSb3dzU2ltcGxlID09IG51bGwpIHsNCiAgICAgICAgcmV0dXJuIHJlc3VsdA0KICAgIH0NCiAgICBkYXRhUm93c1NpbXBsZS5lYWNoIHsgcm93IC0+DQogICAgICAgIGlmIChyb3cuZ2V0Q2VsbCgnY29uc3VtcHRpb25UeXBlSWQnKS52YWx1ZSBpbiAoU3RyaW5nIFtdKWNvZGVzKSB7DQogICAgICAgICAgICByZXN1bHQgKz0NCiAgICAgICAgICAgICAgICAgICAgKHJvdy5ybnU1RmllbGQ1QWNjZXB0ZWQgPzogMCkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyb3cucm51N0ZpZWxkMTBTdW0gPzogMCkgLQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyb3cucm51N0ZpZWxkMTJBY2NlcHRlZCA/OiAwKQ0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiByZXN1bHQNCn0NCg0KLyoqDQogKiDQktGL0YDRg9GH0LrQsCDQvtGCINGA0LXQsNC70LjQt9Cw0YbQuNC4INGC0L7QstCw0YDQvtCyICjRgNCw0LHQvtGCLCDRg9GB0LvRg9CzKSDRgdC+0LHRgdGC0LLQtdC90L3QvtCz0L4g0L/RgNC+0LjQt9Cy0L7QtNGB0YLQstCwICjQktGL0YDQoNC10LDQu9Ci0L7QstCh0L7QsSkuDQogKg0KICogQHBhcmFtIGRhdGFSb3dzINGB0YLRgNC+0LrQuCDQvdGEINC00L7RhdC+0LTRiyDRgdC70L7QttC90YvQtQ0KICogQHBhcmFtIGRhdGFSb3dzU2ltcGxlINGB0YLRgNC+0LrQuCDQvdGEINC00L7RhdC+0LTRiyDQv9GA0L7RgdGC0YvQtQ0KICovDQpkZWYgZ2V0VmlyUmVhbFRvdlNvYihkZWYgZGF0YVJvd3MsIGRlZiBkYXRhUm93c1NpbXBsZSkgew0KICAgIGRlZiByZXN1bHQgPSAwLjANCg0KICAgIC8vINCa0L7QtCDQstC40LTQsCDQtNC+0YXQvtC00LAgPSAxMDgzMA0KICAgIHJlc3VsdCArPSBnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGF0YVJvd3MsIFsxMDgzMF0pDQoNCiAgICAvLyDQmtC+0LQg0LLQuNC00LAg0LTQvtGF0L7QtNCwID0gMTAwMDAsIDEwMDEwLCAxMDAyMCwgMTAwMzAsIDEwMDQwLCAxMDA1MCwgMTAwNjAsIDEwMDcwLCAxMDA4MCwNCiAgICAvLyAxMDA5MCwgMTAxMDAsIDEwMTEwLCAxMDEyMCwgMTAxMzAsIDEwMTQwLCAxMDE1MCwgMTAxNjAsIDEwMTcwLCAxMDE4MCwgMTAxOTAsIDEwMjAwLCAxMDIxMCwgMTAyMjAsIDEwMjMwLA0KICAgIC8vIDEwMjQwLCAxMDI1MCwgMTAyNjAsIDEwMjcwLCAxMDI4MCwgMTAyOTAsIDEwMzAwLCAxMDMxMCwgMTAzMjAsIDEwMzMwLCAxMDM0MCwgMTAzNTAsIDEwMzYwLCAxMDM3MCwgMTAzODAsDQogICAgLy8gMTAzOTAsIDEwNDAwLCAxMDQxMCwgMTA0MjAsIDEwNDMwLCAxMDQ0MCwgMTA0NTAsIDEwNDYwLCAxMDQ3MCwgMTA0ODAsIDEwNDkwLCAxMDUwMCwgMTA1MTAsIDEwNTIwLCAxMDUzMCwNCiAgICAvLyAxMDU0MCwgMTA1NTAsIDEwNTYwLCAxMDU3MCwgMTA1ODAsIDEwNTkwLCAxMDYwMCwgMTA2MTAsIDEwNjIwLCAxMDYzMCwgMTA2NDAsIDEwNjUwLCAxMDY2MCwgMTA2NzAsIDEwNjgwLA0KICAgIC8vIDEwNjkwLCAxMDcwMCwgMTA3MTAsIDEwNzIwLCAxMDczMCwgMTA3NDAsIDEwNzUwLCAxMDc4MCwgMTA3OTAsIDEwODAwLCAxMDgxMCwgMTA4MjAsIDEwODQwLCAxMDg1MCwgMTA4NjAsDQogICAgLy8gMTA4NzAsIDEwODkwLCAxMDkwMCwgMTA5OTAsIDExMDAwLCAxMTAxMCwgMTEwMjAsIDExMDMwLCAxMTE2MCwgMTExNzAsIDExMTgwLCAxMTE5MCwgMTEyMDAsIDExMjEwLCAxMTIyMCwNCiAgICAvLyAxMTIzMCwgMTEyNDAsIDExMjUwLCAxMTI2MCwgMTEyNzAsIDExMjgwLCAxMTI5MCwgMTEzMDAsIDExMzEwDQogICAgcmVzdWx0ICs9IGdldFNpbXBsZUluY29tZVN1bVJvd3M4KGRhdGFSb3dzU2ltcGxlLCBbMTAwMDAsIDEwMDEwLCAxMDAyMCwgMTAwMzAsIDEwMDQwLCAxMDA1MCwgMTAwNjAsIDEwMDcwLCAxMDA4MCwNCiAgICAgICAgICAgIDEwMDkwLCAxMDEwMCwgMTAxMTAsIDEwMTIwLCAxMDEzMCwgMTAxNDAsIDEwMTUwLCAxMDE2MCwgMTAxNzAsIDEwMTgwLCAxMDE5MCwgMTAyMDAsIDEwMjEwLCAxMDIyMCwgMTAyMzAsDQogICAgICAgICAgICAxMDI0MCwgMTAyNTAsIDEwMjYwLCAxMDI3MCwgMTAyODAsIDEwMjkwLCAxMDMwMCwgMTAzMTAsIDEwMzIwLCAxMDMzMCwgMTAzNDAsIDEwMzUwLCAxMDM2MCwgMTAzNzAsIDEwMzgwLA0KICAgICAgICAgICAgMTAzOTAsIDEwNDAwLCAxMDQxMCwgMTA0MjAsIDEwNDMwLCAxMDQ0MCwgMTA0NTAsIDEwNDYwLCAxMDQ3MCwgMTA0ODAsIDEwNDkwLCAxMDUwMCwgMTA1MTAsIDEwNTIwLCAxMDUzMCwNCiAgICAgICAgICAgIDEwNTQwLCAxMDU1MCwgMTA1NjAsIDEwNTcwLCAxMDU4MCwgMTA1OTAsIDEwNjAwLCAxMDYxMCwgMTA2MjAsIDEwNjMwLCAxMDY0MCwgMTA2NTAsIDEwNjYwLCAxMDY3MCwgMTA2ODAsDQogICAgICAgICAgICAxMDY5MCwgMTA3MDAsIDEwNzEwLCAxMDcyMCwgMTA3MzAsIDEwNzQwLCAxMDc1MCwgMTA3ODAsIDEwNzkwLCAxMDgwMCwgMTA4MTAsIDEwODIwLCAxMDg0MCwgMTA4NTAsIDEwODYwLA0KICAgICAgICAgICAgMTA4NzAsIDEwODkwLCAxMDkwMCwgMTA5OTAsIDExMDAwLCAxMTAxMCwgMTEwMjAsIDExMDMwLCAxMTE2MCwgMTExNzAsIDExMTgwLCAxMTE5MCwgMTEyMDAsIDExMjEwLCAxMTIyMCwNCiAgICAgICAgICAgIDExMjMwLCAxMTI0MCwgMTEyNTAsIDExMjYwLCAxMTI3MCwgMTEyODAsIDExMjkwLCAxMTMwMCwgMTEzMTBdKQ0KDQogICAgLy8g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQvtCyID0gMTAxNjAsIDEwMjMwLCAxMDI0MCwgMTAyNTAsIDEwMjYwLCAxMDI3MCwgMTAyODAsIDEwMzMwLCAxMDc2MCwgMTA3NzAsIDEwODgwLCAxMTE3MCwgMTEzMDAsIDExMzEwDQogICAgZGVmIGNvZGVzID0gWzEwMTYwLCAxMDIzMCwgMTAyNDAsIDEwMjUwLCAxMDI2MCwgMTAyNzAsIDEwMjgwLCAxMDMzMCwgMTA3NjAsIDEwNzcwLCAxMDg4MCwgMTExNzAsIDExMzAwLCAxMTMxMF0NCg0KICAgIC8vINCz0YDQsNGE0LAgNQ0KICAgIHJlc3VsdCArPSBnZXRTdW1Sb3dzQnlDb2woZGF0YVJvd3NTaW1wbGUsICdpbmNvbWVUeXBlSWQnLCAncm51NkZpZWxkMTBTdW0nLCBjb2RlcykNCiAgICAvLyDQs9GA0LDRhNCwIDYNCiAgICByZXN1bHQgLT0gZ2V0U3VtUm93c0J5Q29sKGRhdGFSb3dzU2ltcGxlLCAnaW5jb21lVHlwZUlkJywgJ3JudTZGaWVsZDEyQWNjZXB0ZWQnLCBjb2RlcykNCg0KICAgIHJldHVybiBnZXRMb25nKHJlc3VsdCkNCn0NCg0KLyoqDQogKiDQn9C+0LvRg9GH0LjRgtGMINCy0L3QtdGA0LXQsNC70LjQt9Cw0YbQuNC+0L3QvdGL0LUg0LTQvtGF0L7QtNGLICjQlNC+0YXQktC90LXRgNC10LDQuywg0JLQvdC10KDQtdCw0LvQlNC+0YXQktGBKS4NCiAqDQogKiBAcGFyYW0gZGF0YVJvd3Mg0YHRgtGA0L7QutC4INC90YQg0LTQvtGF0L7QtNGLINGB0LvQvtC20L3Ri9C1DQogKiBAcGFyYW0gZGF0YVJvd3NTaW1wbGUg0YHRgtGA0L7QutC4INC90YQg0LTQvtGF0L7QtNGLINC/0YDQvtGB0YLRi9C1DQogKi8NCmRlZiBnZXREb2hWbmVyZWFsKGRlZiBkYXRhUm93cywgZGVmIGRhdGFSb3dzU2ltcGxlKSB7DQogICAgZGVmIHJlc3VsdCA9IDAuMA0KDQogICAgLy8g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQsCA9IDE0MTIwLCAxNTE3MCwgMTUxODAsIDE1MTkwLCAxNTIwMCwgMTUyMTAsIDE1MjIwLCAxNTIzMCwNCiAgICAvLyAxNjExMCwgMTYxMjAsIDE2MTMwLCAxNjE0MCwgMTYyODAsIDE2MjkwLCAxNjMwMCwgMTYzMTAsIDE2NDIwLCAxNjQzMCwgMTY0NDAsIDE2NDUwLCAxNjQ2MCwgMTY0NzAsIDE2NDgwLA0KICAgIC8vIDE2NDkwLCAxNjUwMCwgMTY1MTAsIDE2NTIwLCAxNjUzMCwgMTY1NDAsIDE2NTUwLCAxNjU2MCwgMTY1NzAsIDE2NTgwLCAxNjU5MCwgMTY2MDAsIDE2NjYwLCAxNjY3MCwgMTY5NzAsDQogICAgLy8gMTY5ODAsIDE2OTkwLCAxNzAwMCwgMTcwMTAsIDE3MDIwLCAxNzAzMCwgMTcwNDAsIDE3MDUwLCAxNzA2MCwgMTcwNzAsIDE3MDgwLCAxNzA5MCwgMTcxMDAsIDE3MTEwLCAxNzEyMA0KICAgIHJlc3VsdCArPSBnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGF0YVJvd3MsIFsxNDEyMCwgMTUxNzAsIDE1MTgwLCAxNTE5MCwgMTUyMDAsIDE1MjEwLCAxNTIyMCwgMTUyMzAsDQogICAgICAgICAgICAxNjExMCwgMTYxMjAsIDE2MTMwLCAxNjE0MCwgMTYyODAsIDE2MjkwLCAxNjMwMCwgMTYzMTAsIDE2NDIwLCAxNjQzMCwgMTY0NDAsIDE2NDUwLCAxNjQ2MCwgMTY0NzAsIDE2NDgwLA0KICAgICAgICAgICAgMTY0OTAsIDE2NTAwLCAxNjUxMCwgMTY1MjAsIDE2NTMwLCAxNjU0MCwgMTY1NTAsIDE2NTYwLCAxNjU3MCwgMTY1ODAsIDE2NTkwLCAxNjYwMCwgMTY2NjAsIDE2NjcwLCAxNjk3MCwNCiAgICAgICAgICAgIDE2OTgwLCAxNjk5MCwgMTcwMDAsIDE3MDEwLCAxNzAyMCwgMTcwMzAsIDE3MDQwLCAxNzA1MCwgMTcwNjAsIDE3MDcwLCAxNzA4MCwgMTcwOTAsIDE3MTAwLCAxNzExMCwgMTcxMjBdKQ0KDQogICAgLy8g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQsCA9IDE0MDAwLCAxNDAxMCwgMTQwMjAsIDE0MDMwLCAxNDA0MCwgMTQwNTAsIDE0MDYwLCAxNDA3MCwgMTQwODAsDQogICAgLy8gMTQwOTAsIDE0MTAwLCAxNDExMCwgMTQxMzAsIDE0MTQwLCAxNDE1MCwgMTQxNjAsIDE0MTcwLCAxNDE4MCwgMTQxOTAsIDE0MjAwLCAxNDIxMCwgMTQyMjAsIDE0MjMwLCAxNDI0MCwNCiAgICAvLyAxNDI1MCwgMTQyNjAsIDE0MjcwLCAxNDI4MCwgMTQyOTAsIDE0MzAwLCAxNDMxMCwgMTQzMjAsIDE0MzMwLCAxNDM0MCwgMTQzNTAsIDE0MzYwLCAxNDM3MCwgMTQzODAsIDE0MzkwLA0KICAgIC8vIDE0NDAwLCAxNDQxMCwgMTQ0MjAsIDE0NDMwLCAxNDQ0MCwgMTQ0NTAsIDE0NDYwLCAxNDQ3MCwgMTQ0ODAsIDE0NDkwLCAxNDUwMCwgMTQ1MTAsIDE0NTIwLCAxNDUzMCwgMTQ1NDAsDQogICAgLy8gMTQ1NTAsIDE0NTYwLCAxNDU3MCwgMTQ1ODAsIDE0NTkwLCAxNDYwMCwgMTQ2MTAsIDE0NjIwLCAxNDYzMCwgMTQ2NDAsIDE0NjUwLCAxNDY2MCwgMTQ2NzAsIDE0NjgwLCAxNDY5MCwNCiAgICAvLyAxNDcwMCwgMTQ3MTAsIDE0NzIwLCAxNDczMCwgMTQ3NDAsIDE0NzUwLCAxNDc2MCwgMTQ3NzAsIDE0NzgwLCAxNDc5MCwgMTQ4MDAsIDE0ODEwLCAxNDgyMCwgMTQ4MzAsIDE0ODQwLA0KICAgIC8vIDE0ODUwLCAxNDg2MCwgMTQ4NzAsIDE0ODgwLCAxNDg5MCwgMTQ5MDAsIDE0OTEwLCAxNDkyMCwgMTQ5MzAsIDE0OTQwLCAxNDk1MCwgMTQ5NjAsIDE0OTcwLCAxNDk4MCwgMTQ5OTAsDQogICAgLy8gMTUwMDAsIDE1MDEwLCAxNTAyMCwgMTUwMzAsIDE1MDQwLCAxNTA1MCwgMTUwNjAsIDE1MDcwLCAxNTA4MCwgMTUwOTAsIDE1MTAwLCAxNTExMCwgMTUxMjAsIDE1MTMwLCAxNTE0MCwNCiAgICAvLyAxNTE1MCwgMTUxNjAsIDE1MjYwLCAxNTI3MCwgMTUyODAsIDE1MjkwLCAxNTMwMCwgMTUzMTAsIDE1MzIwLCAxNTMzMCwgMTUzNDAsIDE1MzUwLCAxNTM2MCwgMTUzNzAsIDE1MzgwLA0KICAgIC8vIDE1MzkwLCAxNTQwMCwgMTU0MTAsIDE1NDIwLCAxNTQzMCwgMTU0NDAsIDE1NDUwLCAxNTQ2MCwgMTU0NzAsIDE1NDgwLCAxNTQ5MCwgMTU1MDAsIDE1NTEwLCAxNTUyMCwgMTU1MzAsDQogICAgLy8gMTU1NDAsIDE1NTUwLCAxNTU2MCwgMTU1NzAsIDE1NTgwLCAxNTU5MCwgMTU2MDAsIDE1NjEwLCAxNTYyMCwgMTU2MzAsIDE1NjQwLCAxNTY1MCwgMTU2NjAsIDE1NjcwLCAxNTY4MCwNCiAgICAvLyAxNTY5MCwgMTU3MDAsIDE1NzEwLCAxNTcyMCwgMTU3MzAsIDE1NzQwLCAxNTc1MCwgMTU3NjAsIDE1NzcwLCAxNTc4MCwgMTU3OTAsIDE1ODAwLCAxNTgxMCwgMTU4MjAsIDE1ODMwLA0KICAgIC8vIDE1ODQwLCAxNTg1MCwgMTU4NjAsIDE1ODcwLCAxNTg4MCwgMTU4OTAsIDE1OTAwLCAxNTkxMCwgMTU5MjAsIDE1OTMwLCAxNTk0MCwgMTU5NTAsIDE1OTYwLCAxNTk3MCwgMTU5ODAsDQogICAgLy8gMTU5OTAsIDE2MDAwLCAxNjAxMCwgMTYwMjAsIDE2MDMwLCAxNjA0MCwgMTYwNTAsIDE2MDYwLCAxNjA3MCwgMTYwODAsIDE2MDkwLCAxNjEwMCwgMTYxNTAsIDE2MTYwLCAxNjE3MCwNCiAgICAvLyAxNjE4MCwgMTYxOTAsIDE2MjAwLCAxNjIxMCwgMTYyMjAsIDE2MjMwLCAxNjI0MCwgMTYyNTAsIDE2MjYwLCAxNjI3MCwgMTYzMjAsIDE2MzMwLCAxNjM0MCwgMTYzNTAsIDE2MzYwLA0KICAgIC8vIDE2MzcwLCAxNjM4MCwgMTYzOTAsIDE2NDAwLCAxNjQxMCwgMTY2MTAsIDE2NjIwLCAxNjYzMCwgMTY2NDAsIDE2NjUwLCAxNjY4MCwgMTY2OTAsIDE2NzAwLCAxNjcxMCwgMTY3MjAsDQogICAgLy8gMTY3MzAsIDE2NzQwLCAxNjc1MCwgMTY3NjAsIDE2NzcwLCAxNjc4MCwgMTY3OTAsIDE2ODAwLCAxNjgxMCwgMTY4MjAsIDE2ODMwLCAxNjg0MCwgMTY4NTAsIDE2ODYwLCAxNjg3MCwNCiAgICAvLyAxNjg4MCwgMTY4OTAsIDE2OTAwLCAxNjkxMCwgMTY5MjAsIDE2OTMwLCAxNjk0MCwgMTY5NTAsIDE2OTYwLCAxNzE2MCwgMTcxNzAsIDE3MTgwLCAxNzE5MCwgMTcyMDAsIDE3MjEwLA0KICAgIC8vIDE3MjIwLCAxNzIzMCwgMTcyNDAsIDE3MjUwLCAxNzI2MCwgMTcyNzAsIDE3MjgwLCAxNzI5MCwgMTczMDAsIDE3MzEwDQogICAgcmVzdWx0ICs9IGdldFNpbXBsZUluY29tZVN1bVJvd3M4KGRhdGFSb3dzU2ltcGxlLCBbMTQwMDAsIDE0MDEwLCAxNDAyMCwgMTQwMzAsIDE0MDQwLCAxNDA1MCwgMTQwNjAsIDE0MDcwLCAxNDA4MCwNCiAgICAgICAgICAgIDE0MDkwLCAxNDEwMCwgMTQxMTAsIDE0MTMwLCAxNDE0MCwgMTQxNTAsIDE0MTYwLCAxNDE3MCwgMTQxODAsIDE0MTkwLCAxNDIwMCwgMTQyMTAsIDE0MjIwLCAxNDIzMCwgMTQyNDAsDQogICAgICAgICAgICAxNDI1MCwgMTQyNjAsIDE0MjcwLCAxNDI4MCwgMTQyOTAsIDE0MzAwLCAxNDMxMCwgMTQzMjAsIDE0MzMwLCAxNDM0MCwgMTQzNTAsIDE0MzYwLCAxNDM3MCwgMTQzODAsIDE0MzkwLA0KICAgICAgICAgICAgMTQ0MDAsIDE0NDEwLCAxNDQyMCwgMTQ0MzAsIDE0NDQwLCAxNDQ1MCwgMTQ0NjAsIDE0NDcwLCAxNDQ4MCwgMTQ0OTAsIDE0NTAwLCAxNDUxMCwgMTQ1MjAsIDE0NTMwLCAxNDU0MCwNCiAgICAgICAgICAgIDE0NTUwLCAxNDU2MCwgMTQ1NzAsIDE0NTgwLCAxNDU5MCwgMTQ2MDAsIDE0NjEwLCAxNDYyMCwgMTQ2MzAsIDE0NjQwLCAxNDY1MCwgMTQ2NjAsIDE0NjcwLCAxNDY4MCwgMTQ2OTAsDQogICAgICAgICAgICAxNDcwMCwgMTQ3MTAsIDE0NzIwLCAxNDczMCwgMTQ3NDAsIDE0NzUwLCAxNDc2MCwgMTQ3NzAsIDE0NzgwLCAxNDc5MCwgMTQ4MDAsIDE0ODEwLCAxNDgyMCwgMTQ4MzAsIDE0ODQwLA0KICAgICAgICAgICAgMTQ4NTAsIDE0ODYwLCAxNDg3MCwgMTQ4ODAsIDE0ODkwLCAxNDkwMCwgMTQ5MTAsIDE0OTIwLCAxNDkzMCwgMTQ5NDAsIDE0OTUwLCAxNDk2MCwgMTQ5NzAsIDE0OTgwLCAxNDk5MCwNCiAgICAgICAgICAgIDE1MDAwLCAxNTAxMCwgMTUwMjAsIDE1MDMwLCAxNTA0MCwgMTUwNTAsIDE1MDYwLCAxNTA3MCwgMTUwODAsIDE1MDkwLCAxNTEwMCwgMTUxMTAsIDE1MTIwLCAxNTEzMCwgMTUxNDAsDQogICAgICAgICAgICAxNTE1MCwgMTUxNjAsIDE1MjYwLCAxNTI3MCwgMTUyODAsIDE1MjkwLCAxNTMwMCwgMTUzMTAsIDE1MzIwLCAxNTMzMCwgMTUzNDAsIDE1MzUwLCAxNTM2MCwgMTUzNzAsIDE1MzgwLA0KICAgICAgICAgICAgMTUzOTAsIDE1NDAwLCAxNTQxMCwgMTU0MjAsIDE1NDMwLCAxNTQ0MCwgMTU0NTAsIDE1NDYwLCAxNTQ3MCwgMTU0ODAsIDE1NDkwLCAxNTUwMCwgMTU1MTAsIDE1NTIwLCAxNTUzMCwNCiAgICAgICAgICAgIDE1NTQwLCAxNTU1MCwgMTU1NjAsIDE1NTcwLCAxNTU4MCwgMTU1OTAsIDE1NjAwLCAxNTYxMCwgMTU2MjAsIDE1NjMwLCAxNTY0MCwgMTU2NTAsIDE1NjYwLCAxNTY3MCwgMTU2ODAsDQogICAgICAgICAgICAxNTY5MCwgMTU3MDAsIDE1NzEwLCAxNTcyMCwgMTU3MzAsIDE1NzQwLCAxNTc1MCwgMTU3NjAsIDE1NzcwLCAxNTc4MCwgMTU3OTAsIDE1ODAwLCAxNTgxMCwgMTU4MjAsIDE1ODMwLA0KICAgICAgICAgICAgMTU4NDAsIDE1ODUwLCAxNTg2MCwgMTU4NzAsIDE1ODgwLCAxNTg5MCwgMTU5MDAsIDE1OTEwLCAxNTkyMCwgMTU5MzAsIDE1OTQwLCAxNTk1MCwgMTU5NjAsIDE1OTcwLCAxNTk4MCwNCiAgICAgICAgICAgIDE1OTkwLCAxNjAwMCwgMTYwMTAsIDE2MDIwLCAxNjAzMCwgMTYwNDAsIDE2MDUwLCAxNjA2MCwgMTYwNzAsIDE2MDgwLCAxNjA5MCwgMTYxMDAsIDE2MTUwLCAxNjE2MCwgMTYxNzAsDQogICAgICAgICAgICAxNjE4MCwgMTYxOTAsIDE2MjAwLCAxNjIxMCwgMTYyMjAsIDE2MjMwLCAxNjI0MCwgMTYyNTAsIDE2MjYwLCAxNjI3MCwgMTYzMjAsIDE2MzMwLCAxNjM0MCwgMTYzNTAsIDE2MzYwLA0KICAgICAgICAgICAgMTYzNzAsIDE2MzgwLCAxNjM5MCwgMTY0MDAsIDE2NDEwLCAxNjYxMCwgMTY2MjAsIDE2NjMwLCAxNjY0MCwgMTY2NTAsIDE2NjgwLCAxNjY5MCwgMTY3MDAsIDE2NzEwLCAxNjcyMCwNCiAgICAgICAgICAgIDE2NzMwLCAxNjc0MCwgMTY3NTAsIDE2NzYwLCAxNjc3MCwgMTY3ODAsIDE2NzkwLCAxNjgwMCwgMTY4MTAsIDE2ODIwLCAxNjgzMCwgMTY4NDAsIDE2ODUwLCAxNjg2MCwgMTY4NzAsDQogICAgICAgICAgICAxNjg4MCwgMTY4OTAsIDE2OTAwLCAxNjkxMCwgMTY5MjAsIDE2OTMwLCAxNjk0MCwgMTY5NTAsIDE2OTYwLCAxNzE2MCwgMTcxNzAsIDE3MTgwLCAxNzE5MCwgMTcyMDAsIDE3MjEwLA0KICAgICAgICAgICAgMTcyMjAsIDE3MjMwLCAxNzI0MCwgMTcyNTAsIDE3MjYwLCAxNzI3MCwgMTcyODAsIDE3MjkwLCAxNzMwMCwgMTczMTBdKQ0KDQogICAgLy8g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQsCA9IDE0MTkwLCAxNDIwMCwgMTQyMTAsIDE0MjIwLCAxNDI0MCwgMTQyNTAsIDE1MjQwLCAxNTI1MCwgMTcxMzAsIDE3MTQwLA0KICAgIC8vIDE3MTUwLCAxNzI1MCwgMTcyNjAsIDE3MjcwLCAxNzI4MCwgMTczMDAsIDE3MzEwLCAxNzMyMA0KICAgIC8vINCz0YDQsNGE0LAgNQ0KICAgIHJlc3VsdCArPSBnZXRTdW1Sb3dzQnlDb2woZGF0YVJvd3NTaW1wbGUsICdpbmNvbWVUeXBlSWQnLCAncm51NkZpZWxkMTBTdW0nLCBbMTQxOTAsIDE0MjAwLCAxNDIxMCwgMTQyMjAsIDE0MjQwLA0KICAgICAgICAgICAgMTQyNTAsIDE1MjQwLCAxNTI1MCwgMTcxMzAsIDE3MTQwLCAxNzE1MCwgMTcyNTAsIDE3MjYwLCAxNzI3MCwgMTcyODAsIDE3MzAwLCAxNzMxMCwgMTczMjBdKQ0KICAgIC8vINCz0YDQsNGE0LAgNg0KICAgIC8vINCa0L7QtCDQstC40LTQsCDQtNC+0YXQvtC00LAgPSAxNDE5MCwgMTQyMDAsIDE0MjEwLCAxNDIyMCwgMTQyNDAsIDE0MjUwLCAxNzEzMCwgMTcxNDAsIDE3MTUwLCAxNzI1MCwgMTcyNjAsIDE3MjcwLCAxNzI4MCwgMTczMDAsIDE3MzEwLCAxNzMyMA0KICAgIHJlc3VsdCAtPSBnZXRTdW1Sb3dzQnlDb2woZGF0YVJvd3NTaW1wbGUsICdpbmNvbWVUeXBlSWQnLCAncm51NkZpZWxkMTJBY2NlcHRlZCcsIFsxNDE5MCwgMTQyMDAsIDE0MjEwLCAxNDIyMCwgMTQyNDAsDQogICAgICAgICAgICAxNDI1MCwgMTcxMzAsIDE3MTQwLCAxNzE1MCwgMTcyNTAsIDE3MjYwLCAxNzI3MCwgMTcyODAsIDE3MzAwLCAxNzMxMCwgMTczMjBdKQ0KDQogICAgcmV0dXJuIGdldExvbmcocmVzdWx0KQ0KfQ0KDQovKioNCiAqINCf0L7Qu9GD0YfQuNGC0Ywg0LTQvtGF0L7QtNGLLCDQuNGB0LrQu9GO0YfQsNC10LzRi9C1INC40Lcg0L/RgNC40LHRi9C70LggKNCU0L7RhdCY0YHQutC70J/RgNC40LEpLg0KICoNCiAqIEBwYXJhbSBkYXRhUm93c0NvbXBsZXgg0YHRgtGA0L7QutC4INC90YQg0LTQvtGF0L7QtNGLINGB0LvQvtC20L3Ri9C1DQogKiBAcGFyYW0gZGF0YVJvd3NTaW1wbGUg0YHRgtGA0L7QutC4INC90YQg0LTQvtGF0L7QtNGLINC/0YDQvtGB0YLRi9C1DQogKi8NCmRlZiBnZXREb2hJc2tsUHJpYihkZWYgZGF0YVJvd3NDb21wbGV4LCBkZWYgZGF0YVJvd3NTaW1wbGUpIHsNCiAgICBkZWYgcmVzdWx0ID0gMC4wDQoNCiAgICBpZiAoZGF0YVJvd3NDb21wbGV4ICE9IG51bGwpIHsNCiAgICAgICAgLy8g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQvtCyID0gMTY0NDAsIDE2NDUwLCAxNjQ2MCwgMTY0ODAsIDE2NDkwLCAxNjUwMCwgMTY1MTAsIDE2NTIwLCAxNjU0MCwgMTY1NTAsIDE2NTcwLCAxNjU4MCwgMTY2NjAsIDE2NjcwDQogICAgICAgIHJlc3VsdCArPSBnZXRDb21wbGV4SW5jb21lU3VtUm93czkoZGF0YVJvd3NDb21wbGV4LA0KICAgICAgICAgICAgICAgIFsxNjQ0MCwgMTY0NTAsIDE2NDYwLCAxNjQ4MCwgMTY0OTAsIDE2NTAwLCAxNjUxMCwgMTY1MjAsIDE2NTQwLCAxNjU1MCwgMTY1NzAsIDE2NTgwLCAxNjY2MCwgMTY2NzBdKQ0KICAgIH0NCiAgICBpZiAoZGF0YVJvd3NTaW1wbGUgIT0gbnVsbCkgew0KICAgICAgICAvLyDQmtC+0LQg0LLQuNC00LAg0LTQvtGF0L7QtNCwID0gMTcxMzAsIDE3MTQwLCAxNzE1MA0KICAgICAgICByZXN1bHQgKz0gZ2V0U3VtUm93c0J5Q29sKGRhdGFSb3dzU2ltcGxlLCAnaW5jb21lVHlwZUlkJywgJ3JudTZGaWVsZDEwU3VtJywgWzE3MTMwLCAxNzE0MCwgMTcxNTBdKQ0KICAgIH0NCiAgICByZXR1cm4gZ2V0TG9uZyhyZXN1bHQpDQp9DQoNCi8qKg0KICog0J/QvtC70YPRh9C40YLRjCDQstC90LXRgNC10LDQu9C40LfQsNGG0LjQvtC90L3Ri9C1INGA0LDRgdGF0L7QtNGLICjQoNCw0YHRhdCS0L3QtdGA0LXQsNC70JLQoSkuDQogKg0KICogQHBhcmFtIGRhdGFSb3dzINGB0YLRgNC+0LrQuCDQvdGEINGA0LDRgdGF0L7QtNGLINGB0LvQvtC20L3Ri9C1DQogKiBAcGFyYW0gZGF0YVJvd3NTaW1wbGUg0YHRgtGA0L7QutC4INC90YQg0YDQsNGB0YXQvtC00Ysg0L/RgNC+0YHRgtGL0LUNCiAqLw0KZGVmIGdldFJhc2hWbmVyZWFsVnMoZGVmIGRhdGFSb3dzLCBkZWYgZGF0YVJvd3NTaW1wbGUpIHsNCiAgICBkZWYgcmVzdWx0ID0gMC4wDQoNCiAgICAvLyDQs9GA0LDRhNCwIDkNCiAgICAvLyDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyNDY2MCwgMjQ2NzAsIDI1NjgwLCAyNTY5MCwgMjU4MzAsIDI2MzEwLCAyNjMyMCwgMjYzMzAsIDI2MzQwLA0KICAgIC8vIDI2MzYwLCAyNjM3MCwgMjY4MjAsIDI2ODMwLCAyNjg0MCwgMjY4NTAsIDI2ODYwLCAyNjg3MCwgMjY4ODAsIDI2ODkwLCAyNjkwMCwgMjcwNjANCiAgICByZXN1bHQgKz0gZ2V0Q29tcGxleENvbnN1bXB0aW9uU3VtUm93czkoZGF0YVJvd3MsIFsyNDY2MCwgMjQ2NzAsIDI1NjgwLCAyNTY5MCwgMjU4MzAsIDI2MzEwLCAyNjMyMCwgMjYzMzAsIDI2MzQwLA0KICAgICAgICAgICAgMjYzNjAsIDI2MzcwLCAyNjgyMCwgMjY4MzAsIDI2ODQwLCAyNjg1MCwgMjY4NjAsIDI2ODcwLCAyNjg4MCwgMjY4OTAsIDI2OTAwLCAyNzA2MF0pDQoNCiAgICAvLyDQs9GA0LDRhNCwIDggKyA1IC0gNg0KICAgIC8vINCa0L7QtCDQstC40LTQsCDRgNCw0YHRhdC+0LTQsCA9IDI0MDAwLCAyNDAxMCwgMjQwMjAsIDI0MDMwLCAyNDA0MCwgMjQwNTAsIDI0MDYwLCAyNDA3MCwgMjQwODAsIDI0MDkwLCAyNDEwMCwgMjQxMTAsIDI0MTIwLCAyNDEzMCwgMjQxNDAsDQogICAgLy8gMjQxNTAsIDI0MTYwLCAyNDE3MCwgMjQxODAsIDI0MTkwLCAyNDIwMCwgMjQyMTAsIDI0MjIwLCAyNDIzMCwgMjQyNDAsIDI0MjUwLCAyNDI2MCwgMjQyNzAsIDI0MjgwLCAyNDI5MCwNCiAgICAvLyAyNDMwMCwgMjQzMTAsIDI0MzIwLCAyNDMzMCwgMjQzNDAsIDI0MzUwLCAyNDM2MCwgMjQzNzAsIDI0MzgwLCAyNDM5MCwgMjQ0MDAsIDI0NDEwLCAyNDQyMCwgMjQ0MzAsIDI0NDQwLA0KICAgIC8vIDI0NDUwLCAyNDQ2MCwgMjQ0NzAsIDI0NDgwLCAyNDQ5MCwgMjQ1MDAsIDI0NTEwLCAyNDUyMCwgMjQ1MzAsIDI0NTQwLCAyNDU1MCwgMjQ1NjAsIDI0NTcwLCAyNDU4MCwgMjQ1OTAsDQogICAgLy8gMjQ2MDAsIDI0NjEwLCAyNDYyMCwgMjQ2MzAsIDI0NjQwLCAyNDY4MCwgMjQ2OTAsIDI0NzAwLCAyNDcxMCwgMjQ3MjAsIDI0NzMwLCAyNDc0MCwgMjQ3NTAsIDI0NzYwLCAyNDc3MCwNCiAgICAvLyAyNDc4MCwgMjQ3OTAsIDI0ODAwLCAyNDgxMCwgMjQ4MjAsIDI0ODMwLCAyNDg0MCwgMjQ4NTAsIDI0ODYwLCAyNDg3MCwgMjQ4ODAsIDI0ODkwLCAyNDkwMCwgMjQ5MTAsIDI0OTIwLA0KICAgIC8vIDI0OTMwLCAyNDk0MCwgMjQ5NTAsIDI0OTYwLCAyNDk3MCwgMjQ5ODAsIDI0OTkwLCAyNTAwMCwgMjUwMTAsIDI1MDIwLCAyNTAzMCwgMjUwNDAsIDI1MDUwLCAyNTA2MCwgMjUwNzAsDQogICAgLy8gMjUwODAsIDI1MDkwLCAyNTEwMCwgMjUxMTAsIDI1MTIwLCAyNTEzMCwgMjUxNDAsIDI1MTUwLCAyNTE2MCwgMjUxNzAsIDI1MTgwLCAyNTE5MCwgMjUyMDAsIDI1MjEwLCAyNTIyMCwNCiAgICAvLyAyNTIzMCwgMjUyNDAsIDI1MjUwLCAyNTI2MCwgMjUyNzAsIDI1MjgwLCAyNTI5MCwgMjUzMDAsIDI1MzEwLCAyNTMyMCwgMjUzMzAsIDI1MzQwLCAyNTM1MCwgMjUzNjAsIDI1MzcwLA0KICAgIC8vIDI1MzgwLCAyNTM5MCwgMjU0MDAsIDI1NDEwLCAyNTQyMCwgMjU0MzAsIDI1NDQwLCAyNTQ1MCwgMjU0NjAsIDI1NDcwLCAyNTQ4MCwgMjU0OTAsIDI1NTAwLCAyNTUxMCwgMjU1MjAsDQogICAgLy8gMjU1MzAsIDI1NTQwLCAyNTU1MCwgMjU1NjAsIDI1NTcwLCAyNTU4MCwgMjU1OTAsIDI1NjAwLCAyNTYxMCwgMjU2MjAsIDI1NjMwLCAyNTY0MCwgMjU2NTAsIDI1NjYwLCAyNTY3MCwNCiAgICAvLyAyNTcwMCwgMjU3MTAsIDI1NzIwLCAyNTczMCwgMjU3NDAsIDI1NzUwLCAyNTc2MCwgMjU3NzAsIDI1NzgwLCAyNTc5MCwgMjU4MDAsIDI1ODEwLCAyNTgyMCwgMjU4NDAsIDI1ODUwLA0KICAgIC8vIDI1ODYwLCAyNTg3MCwgMjU4ODAsIDI1ODkwLCAyNTkwMCwgMjU5MTAsIDI1OTIwLCAyNTkzMCwgMjU5NDAsIDI1OTUwLCAyNTk2MCwgMjU5NzAsIDI1OTgwLCAyNTk5MCwgMjYwMDAsDQogICAgLy8gMjYwMTAsIDI2MDIwLCAyNjAzMCwgMjYwNDAsIDI2MDUwLCAyNjA2MCwgMjYwNzAsIDI2MDgwLCAyNjA5MCwgMjYxMDAsIDI2MTEwLCAyNjEyMCwgMjYxMzAsIDI2MTQwLCAyNjE1MCwNCiAgICAvLyAyNjE2MCwgMjYxNzAsIDI2MTgwLCAyNjE5MCwgMjYyMDAsIDI2MjEwLCAyNjIyMCwgMjYyMzAsIDI2MjQwLCAyNjI1MCwgMjYyNjAsIDI2MjcwLCAyNjI4MCwgMjYyOTAsIDI2MzAwLA0KICAgIC8vIDI2MzUwLCAyNjM4MCwgMjYzOTAsIDI2NDAwLCAyNjQxMCwgMjY0MjAsIDI2NDMwLCAyNjQ0MCwgMjY0NTAsIDI2NDYwLCAyNjQ3MCwgMjY0ODAsIDI2NDkwLCAyNjUwMCwgMjY1MTAsDQogICAgLy8gMjY1MjAsIDI2NTMwLCAyNjU0MCwgMjY1NTAsIDI2NTYwLCAyNjU3MCwgMjY1ODAsIDI2NTkwLCAyNjYwMCwgMjY2MTAsIDI2NjIwLCAyNjYzMCwgMjY2NDAsIDI2NjUwLCAyNjY2MCwNCiAgICAvLyAyNjY3MCwgMjY2ODAsIDI2NjkwLCAyNjcwMCwgMjY3MTAsIDI2NzIwLCAyNjczMCwgMjY3NDAsIDI2NzUwLCAyNjc2MCwgMjY3NzAsIDI2NzgwLCAyNjc5MCwgMjY4MDAsIDI2ODEwLA0KICAgIC8vIDI3MDEwLCAyNzAyMCwgMjcwMzAsIDI3MDQwLCAyNzA1MCwgMjcwNzAsIDI3MDgwDQogICAgZGVmIGtudSA9IFsyNDAwMCwgMjQwMTAsIDI0MDIwLCAyNDAzMCwgMjQwNDAsIDI0MDUwLCAyNDA2MCwgMjQwNzAsIDI0MDgwLCAyNDA5MCwgMjQxMDAsIDI0MTEwLCAyNDEyMCwgMjQxMzAsIDI0MTQwLA0KICAgICAgICAgICAgMjQxNTAsIDI0MTYwLCAyNDE3MCwgMjQxODAsIDI0MTkwLCAyNDIwMCwgMjQyMTAsIDI0MjIwLCAyNDIzMCwgMjQyNDAsIDI0MjUwLCAyNDI2MCwgMjQyNzAsIDI0MjgwLCAyNDI5MCwNCiAgICAgICAgICAgIDI0MzAwLCAyNDMxMCwgMjQzMjAsIDI0MzMwLCAyNDM0MCwgMjQzNTAsIDI0MzYwLCAyNDM3MCwgMjQzODAsIDI0MzkwLCAyNDQwMCwgMjQ0MTAsIDI0NDIwLCAyNDQzMCwgMjQ0NDAsDQogICAgICAgICAgICAyNDQ1MCwgMjQ0NjAsIDI0NDcwLCAyNDQ4MCwgMjQ0OTAsIDI0NTAwLCAyNDUxMCwgMjQ1MjAsIDI0NTMwLCAyNDU0MCwgMjQ1NTAsIDI0NTYwLCAyNDU3MCwgMjQ1ODAsIDI0NTkwLA0KICAgICAgICAgICAgMjQ2MDAsIDI0NjEwLCAyNDYyMCwgMjQ2MzAsIDI0NjQwLCAyNDY4MCwgMjQ2OTAsIDI0NzAwLCAyNDcxMCwgMjQ3MjAsIDI0NzMwLCAyNDc0MCwgMjQ3NTAsIDI0NzYwLCAyNDc3MCwNCiAgICAgICAgICAgIDI0NzgwLCAyNDc5MCwgMjQ4MDAsIDI0ODEwLCAyNDgyMCwgMjQ4MzAsIDI0ODQwLCAyNDg1MCwgMjQ4NjAsIDI0ODcwLCAyNDg4MCwgMjQ4OTAsIDI0OTAwLCAyNDkxMCwgMjQ5MjAsDQogICAgICAgICAgICAyNDkzMCwgMjQ5NDAsIDI0OTUwLCAyNDk2MCwgMjQ5NzAsIDI0OTgwLCAyNDk5MCwgMjUwMDAsIDI1MDEwLCAyNTAyMCwgMjUwMzAsIDI1MDQwLCAyNTA1MCwgMjUwNjAsIDI1MDcwLA0KICAgICAgICAgICAgMjUwODAsIDI1MDkwLCAyNTEwMCwgMjUxMTAsIDI1MTIwLCAyNTEzMCwgMjUxNDAsIDI1MTUwLCAyNTE2MCwgMjUxNzAsIDI1MTgwLCAyNTE5MCwgMjUyMDAsIDI1MjEwLCAyNTIyMCwNCiAgICAgICAgICAgIDI1MjMwLCAyNTI0MCwgMjUyNTAsIDI1MjYwLCAyNTI3MCwgMjUyODAsIDI1MjkwLCAyNTMwMCwgMjUzMTAsIDI1MzIwLCAyNTMzMCwgMjUzNDAsIDI1MzUwLCAyNTM2MCwgMjUzNzAsDQogICAgICAgICAgICAyNTM4MCwgMjUzOTAsIDI1NDAwLCAyNTQxMCwgMjU0MjAsIDI1NDMwLCAyNTQ0MCwgMjU0NTAsIDI1NDYwLCAyNTQ3MCwgMjU0ODAsIDI1NDkwLCAyNTUwMCwgMjU1MTAsIDI1NTIwLA0KICAgICAgICAgICAgMjU1MzAsIDI1NTQwLCAyNTU1MCwgMjU1NjAsIDI1NTcwLCAyNTU4MCwgMjU1OTAsIDI1NjAwLCAyNTYxMCwgMjU2MjAsIDI1NjMwLCAyNTY0MCwgMjU2NTAsIDI1NjYwLCAyNTY3MCwNCiAgICAgICAgICAgIDI1NzAwLCAyNTcxMCwgMjU3MjAsIDI1NzMwLCAyNTc0MCwgMjU3NTAsIDI1NzYwLCAyNTc3MCwgMjU3ODAsIDI1NzkwLCAyNTgwMCwgMjU4MTAsIDI1ODIwLCAyNTg0MCwgMjU4NTAsDQogICAgICAgICAgICAyNTg2MCwgMjU4NzAsIDI1ODgwLCAyNTg5MCwgMjU5MDAsIDI1OTEwLCAyNTkyMCwgMjU5MzAsIDI1OTQwLCAyNTk1MCwgMjU5NjAsIDI1OTcwLCAyNTk4MCwgMjU5OTAsIDI2MDAwLA0KICAgICAgICAgICAgMjYwMTAsIDI2MDIwLCAyNjAzMCwgMjYwNDAsIDI2MDUwLCAyNjA2MCwgMjYwNzAsIDI2MDgwLCAyNjA5MCwgMjYxMDAsIDI2MTEwLCAyNjEyMCwgMjYxMzAsIDI2MTQwLCAyNjE1MCwNCiAgICAgICAgICAgIDI2MTYwLCAyNjE3MCwgMjYxODAsIDI2MTkwLCAyNjIwMCwgMjYyMTAsIDI2MjIwLCAyNjIzMCwgMjYyNDAsIDI2MjUwLCAyNjI2MCwgMjYyNzAsIDI2MjgwLCAyNjI5MCwgMjYzMDAsDQogICAgICAgICAgICAyNjM1MCwgMjYzODAsIDI2MzkwLCAyNjQwMCwgMjY0MTAsIDI2NDIwLCAyNjQzMCwgMjY0NDAsIDI2NDUwLCAyNjQ2MCwgMjY0NzAsIDI2NDgwLCAyNjQ5MCwgMjY1MDAsIDI2NTEwLA0KICAgICAgICAgICAgMjY1MjAsIDI2NTMwLCAyNjU0MCwgMjY1NTAsIDI2NTYwLCAyNjU3MCwgMjY1ODAsIDI2NTkwLCAyNjYwMCwgMjY2MTAsIDI2NjIwLCAyNjYzMCwgMjY2NDAsIDI2NjUwLCAyNjY2MCwNCiAgICAgICAgICAgIDI2NjcwLCAyNjY4MCwgMjY2OTAsIDI2NzAwLCAyNjcxMCwgMjY3MjAsIDI2NzMwLCAyNjc0MCwgMjY3NTAsIDI2NzYwLCAyNjc3MCwgMjY3ODAsIDI2NzkwLCAyNjgwMCwgMjY4MTAsDQogICAgICAgICAgICAyNzAxMCwgMjcwMjAsIDI3MDMwLCAyNzA0MCwgMjcwNTAsIDI3MDcwLCAyNzA4MF0NCiAgICByZXN1bHQgKz0gZ2V0Q2FsY3VsYXRlZFNpbXBsZUNvbnN1bXB0aW9uKGRhdGFSb3dzU2ltcGxlLCBrbnUpDQoNCiAgICAvLyDQs9GA0LDRhNCwIDkNCiAgICAvLyDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyNDY1MCwgMjY5MTAsIDI2OTIwLCAyNjkzMCwgMjY5NDAsIDI2OTUwLCAyNjk2MCwgMjY5NzAsIDI2OTgwLCAyNjk5MCwgMjcwMDANCiAgICByZXN1bHQgLT0gZ2V0Q29tcGxleENvbnN1bXB0aW9uU3VtUm93czkoZGF0YVJvd3MsIFsyNDY1MCwgMjY5MTAsIDI2OTIwLCAyNjkzMCwgMjY5NDAsIDI2OTUwLCAyNjk2MCwgMjY5NzAsIDI2OTgwLCAyNjk5MCwgMjcwMDBdKQ0KDQogICAgcmV0dXJuIGdldExvbmcocmVzdWx0KQ0KfQ0KDQovKioNCiAqINCf0L7Qu9GD0YfQuNGC0Ywg0L3QsNC70L7Qs9C+0LLRg9GOINCx0LDQt9GDINC00LvRjyDQuNGB0YfQuNGB0LvQtdC90LjRjyDQvdCw0LvQvtCz0LAgKNCd0LDQu9CR0LDQt9Cw0JjRgdGHLCDQndCw0LvQkdCw0LfQsNCe0YDQsykuDQogKg0KICogQHBhcmFtIHJvdzEwMCDQvdCw0LvQvtCz0L7QstCw0Y8g0LHQsNC30LANCiAqIEBwYXJhbSByb3cxMTAg0YHRg9C80LzQsCDRg9Cx0YvRgtC60LAg0LjQu9C4INGH0LDRgdGC0Lgg0YPQsdGL0YLQutCwLCDRg9C80LXQvdGM0YjQsNGO0YnQtdCz0L4g0L3QsNC70L7Qs9C+0LLRg9GOINCx0LDQt9GDINC30LAg0L7RgtGH0LXRgtC90YvQuSAo0L3QsNC70L7Qs9C+0LLRi9C5KSDQv9C10YDQuNC+0LQNCiAqLw0KZGVmIGdldE5hbEJhemFJc2NoKGRlZiByb3cxMDAsIGRlZiByb3cxMTApIHsNCiAgICBkZWYgcmVzdWx0DQogICAgaWYgKHJvdzEwMCAhPSBudWxsICYmIHJvdzExMCAhPSBudWxsICYmIChyb3cxMDAgPCAwIHx8IHJvdzEwMCA9PSByb3cxMTApKSB7DQogICAgICAgIHJlc3VsdCA9IDAuMA0KICAgIH0gZWxzZSB7DQogICAgICAgIHJlc3VsdCA9IHJvdzEwMCAtIHJvdzExMA0KICAgIH0NCiAgICByZXR1cm4gZ2V0TG9uZyhyZXN1bHQpDQp9DQoNCi8qKg0KICog0J/QvtC70YPRh9C40YLRjCDRgdGD0LzQvNGDINC90LDQu9C+0LPQsCDQvdCwINC/0YDQuNCx0YvQu9GMINC6INC00L7Qv9C70LDRgtC1INCyINGE0LXQtNC10YDQsNC70YzQvdGL0Lkg0LHRjtC00LbQtdGCICjQuNC70Lgg0LIg0LHRjtC00LbQtdGCINGB0YPQsdGK0LXQutGC0LAg0KDQvtGB0YHQuNC50YHQutC+0Lkg0YTQtdC00LXRgNCw0YbQuNC4KS4NCiAqDQogKiBAcGFyYW0gdmFsdWUxINGB0YPQvNC80LAg0LjRgdGH0LjRgdC70LXQvdC90L7Qs9C+INC90LDQu9C+0LPQsCDQvdCwINC/0YDQuNCx0YvQu9GMDQogKiBAcGFyYW0gdmFsdWUyINGB0YPQvNC80LAg0L3QsNGH0LjRgdC70LXQvdC90YvRhSDQsNCy0LDQvdGB0L7QstGL0YUg0L/Qu9Cw0YLQtdC20LXQuSDQt9CwINC+0YLRh9C10YLQvdGL0LkgKNC90LDQu9C+0LPQvtCy0YvQuSkg0L/QtdGA0LjQvtC0DQogKiBAcGFyYW0gdmFsdWUzINGB0YPQvNC80LAg0L3QsNC70L7Qs9CwLCDQstGL0L/Qu9Cw0YfQtdC90L3QsNGPINC30LAg0L/RgNC10LTQtdC70LDQvNC4INCg0L7RgdGB0LjQudGB0LrQvtC5INCk0LXQtNC10YDQsNGG0LjQuCDQuCDQt9Cw0YHRh9C40YLRi9Cy0LDQtdC80LDRjyDQsiDRg9C/0LvQsNGC0YMg0L3QsNC70L7Qs9CwDQogKi8NCmRlZiBnZXROYWxEb3BsKGRlZiB2YWx1ZTEsIGRlZiB2YWx1ZTIsIHZhbHVlMykgew0KICAgIGRlZiByZXN1bHQgPSAwDQogICAgaWYgKCh2YWx1ZTEgLSB2YWx1ZTIgLSB2YWx1ZTMpID4gMCkgew0KICAgICAgICByZXN1bHQgPSB2YWx1ZTEgLSB2YWx1ZTIgLSB2YWx1ZTMNCiAgICB9DQogICAgcmV0dXJuIGdldExvbmcocmVzdWx0KQ0KfQ0KDQovKiog0J/QvtC70YPRh9C40YLRjCDRgdGD0LzQvNGDINC40YHRh9C40YHQu9C10L3QvdC+0LPQviDQvdCw0LvQvtCz0LAg0L3QsCDQv9GA0LjQsdGL0LvRjCwg0LIg0YTQtdC00LXRgNCw0LvRjNC90YvQuSDQsdGO0LTQttC10YIgKNCd0LDQu9CY0YHRh9C40YHQu9Ck0JEpLiAqLw0KZGVmIGdldE5hbElzY2hpc2xGQihkZWYgcm93MTIwLCByb3cxNTApIHsNCiAgICByZXR1cm4gZ2V0TG9uZyhyb3cxMjAgKiByb3cxNTAgLyAxMDApDQp9DQoNCi8qKg0KICog0J/QvtC70YPRh9C40YLRjCDRgdGD0LzQvNGDINC90LDQu9C+0LPQsCDQvdCwINC/0YDQuNCx0YvQu9GMINC6INGD0LzQtdC90YzRiNC10L3QuNGOINCyINGE0LXQtNC10YDQsNC70YzQvdGL0Lkg0LHRjtC00LbQtdGCICjQuNC70Lgg0LIg0LHRjtC00LbQtdGCINGB0YPQsdGK0LXQutGC0LAg0KDQvtGB0YHQuNC50YHQutC+0Lkg0YTQtdC00LXRgNCw0YbQuNC4KS4NCiAqDQogKiBAcGFyYW0gdmFsdWUxINGB0YPQvNC80LAg0L3QsNGH0LjRgdC70LXQvdC90YvRhSDQsNCy0LDQvdGB0L7QstGL0YUg0L/Qu9Cw0YLQtdC20LXQuSDQt9CwINC+0YLRh9C10YLQvdGL0LkgKNC90LDQu9C+0LPQvtCy0YvQuSkg0L/QtdGA0LjQvtC0DQogKiBAcGFyYW0gdmFsdWUyINGB0YPQvNC80LAg0L3QsNC70L7Qs9CwLCDQstGL0L/Qu9Cw0YfQtdC90L3QsNGPINC30LAg0L/RgNC10LTQtdC70LDQvNC4INCg0L7RgdGB0LjQudGB0LrQvtC5INCk0LXQtNC10YDQsNGG0LjQuCDQuCDQt9Cw0YHRh9C40YLRi9Cy0LDQtdC80LDRjyDQsiDRg9C/0LvQ'
        longString += 'sNGC0YMg0L3QsNC70L7Qs9CwDQogKiBAcGFyYW0gdmFsdWUzINGB0YPQvNC80LAg0LjRgdGH0LjRgdC70LXQvdC90L7Qs9C+INC90LDQu9C+0LPQsCDQvdCwINC/0YDQuNCx0YvQu9GMDQogKi8NCmRlZiBnZXROYWxVbWVuKGRlZiB2YWx1ZTEsIGRlZiB2YWx1ZTIsIHZhbHVlMykgew0KICAgIGRlZiByZXN1bHQgPSAwDQogICAgaWYgKCh2YWx1ZTEgKyB2YWx1ZTIgLSB2YWx1ZTMpID4gMCkgew0KICAgICAgICByZXN1bHQgPSB2YWx1ZTEgKyB2YWx1ZTIgLSB2YWx1ZTMNCiAgICB9DQogICAgcmV0dXJuIGdldExvbmcocmVzdWx0KQ0KfQ0KDQovKioNCiAqINCa0L7RgdCy0LXQvdC90YvQtSDRgNCw0YHRhdC+0LTRiywg0LLRgdC10LPQviAo0JrQvtGB0LLQoNCw0YHRhdCS0YEpLg0KICoNCiAqIEBwYXJhbSBkYXRhUm93cyDRgdGC0YDQvtC60Lgg0L3RhCDRgNCw0YHRhdC+0LTRiyDRgdC70L7QttC90YvQtQ0KICogQHBhcmFtIGRhdGFSb3dzU2ltcGxlINGB0YLRgNC+0LrQuCDQvdGEINGA0LDRgdGF0L7QtNGLINC/0YDQvtGB0YLRi9C1DQogKi8NCmRlZiBnZXRDb3N2UmFzaFZzKGRlZiBkYXRhUm93cywgZGVmIGRhdGFSb3dzU2ltcGxlKSB7DQogICAgZGVmIHJlc3VsdCA9IDANCg0KICAgIC8vINCa0L7QtCDQstC40LTQsCDRgNCw0YHRhdC+0LTQsCA9IDIwMDIwLCAyMDAzMCwgMjAwNTAsIDIwMTMwLCAyMDIwMCwgMjAyMTAsIDIwMjgwLCAyMDQ3MCwgMjA0OTAsDQogICAgLy8gMjA1MDAsIDIwNTEwLCAyMDYzMCwgMjA4MjAsIDIwODUwLCAyMDkzMCwgMjA5NDAsIDIwOTUwLCAyMDk2MCwgMjA5NzAsIDIwOTgwLCAyMTE3MA0KICAgIHJlc3VsdCArPSBnZXRDb21wbGV4Q29uc3VtcHRpb25TdW1Sb3dzOShkYXRhUm93cywgWzIwMDIwLCAyMDAzMCwgMjAwNTAsIDIwMTMwLCAyMDIwMCwgMjAyMTAsIDIwMjgwLCAyMDQ3MCwgMjA0OTAsDQogICAgICAgICAgICAyMDUwMCwgMjA1MTAsIDIwNjMwLCAyMDgyMCwgMjA4NTAsIDIwOTMwLCAyMDk0MCwgMjA5NTAsIDIwOTYwLCAyMDk3MCwgMjA5ODAsIDIxMTcwXSkNCg0KICAgIC8vINCa0L7QtCDQstC40LTQsCDRgNCw0YHRhdC+0LTQsCA9IDIwMDAwLCAyMDAxMCwgMjAwNDAsIDIwMDYwLCAyMDA3MCwgMjAwODAsIDIwMDkwLCAyMDEwMCwgMjAxMTAsDQogICAgLy8gMjAxMjAsIDIwMTQwLCAyMDE1MCwgMjAxNjAsIDIwMTcwLCAyMDE4MCwgMjAxOTAsIDIwMjIwLCAyMDIzMCwgMjAyNDAsIDIwMjUwLCAyMDI2MCwgMjAyNzAsIDIwMjkwLCAyMDMwMCwNCiAgICAvLyAyMDMxMCwgMjAzMjAsIDIwMzMwLCAyMDM0MCwgMjAzNTAsIDIwMzYwLCAyMDM3MCwgMjAzODAsIDIwNDAwLCAyMDQxMCwgMjA0MzAsIDIwNDUwLCAyMDUzMCwgMjA1NDAsIDIwNTUwLA0KICAgIC8vIDIwNTYwLCAyMDU3MCwgMjA1ODAsIDIwNTkwLCAyMDYwMCwgMjA2MTAsIDIwNjIwLCAyMDY0MCwgMjA2NTAsIDIwNjYwLCAyMDY3MCwgMjA2ODAsIDIwNjkwLCAyMDcwMCwgMjA3MTAsDQogICAgLy8gMjA3MjAsIDIwNzMwLCAyMDc0MCwgMjA3NTAsIDIwNzYwLCAyMDc3MCwgMjA3ODAsIDIwNzkwLCAyMDgwMCwgMjA4MTAsIDIwODMwLCAyMDg2MCwgMjA4NzAsIDIwODgwLCAyMDg5MCwNCiAgICAvLyAyMDkwMCwgMjA5MTAsIDIwOTIwLCAyMDk5MCwgMjEwMDAsIDIxMDEwLCAyMTAyMCwgMjEwNDAsIDIxMTIwLCAyMTEzMCwgMjExNDAsIDIxMTUwLCAyMTE2MCwgMjExODAsIDIxMTkwLA0KICAgIC8vIDIxMjAwLCAyMTIxMCwgMjEyMjAsIDIxMzQwLCAyMTM1MCwgMjEzNjAsIDIxMzcwLCAyMTM4MCwgMjE0MzAsIDIxNDQwLCAyMTQ1MCwgMjE0NjAsIDIxNDcwLCAyMTQ4MCwgMjE0OTANCiAgICByZXN1bHQgKz0gZ2V0U2ltcGxlQ29uc3VtcHRpb25TdW1Sb3dzOChkYXRhUm93c1NpbXBsZSwgWzIwMDAwLCAyMDAxMCwgMjAwNDAsIDIwMDYwLCAyMDA3MCwgMjAwODAsIDIwMDkwLCAyMDEwMCwgMjAxMTAsDQogICAgICAgICAgICAyMDEyMCwgMjAxNDAsIDIwMTUwLCAyMDE2MCwgMjAxNzAsIDIwMTgwLCAyMDE5MCwgMjAyMjAsIDIwMjMwLCAyMDI0MCwgMjAyNTAsIDIwMjYwLCAyMDI3MCwgMjAyOTAsIDIwMzAwLA0KICAgICAgICAgICAgMjAzMTAsIDIwMzIwLCAyMDMzMCwgMjAzNDAsIDIwMzUwLCAyMDM2MCwgMjAzNzAsIDIwMzgwLCAyMDQwMCwgMjA0MTAsIDIwNDMwLCAyMDQ1MCwgMjA1MzAsIDIwNTQwLCAyMDU1MCwNCiAgICAgICAgICAgIDIwNTYwLCAyMDU3MCwgMjA1ODAsIDIwNTkwLCAyMDYwMCwgMjA2MTAsIDIwNjIwLCAyMDY0MCwgMjA2NTAsIDIwNjYwLCAyMDY3MCwgMjA2ODAsIDIwNjkwLCAyMDcwMCwgMjA3MTAsDQogICAgICAgICAgICAyMDcyMCwgMjA3MzAsIDIwNzQwLCAyMDc1MCwgMjA3NjAsIDIwNzcwLCAyMDc4MCwgMjA3OTAsIDIwODAwLCAyMDgxMCwgMjA4MzAsIDIwODYwLCAyMDg3MCwgMjA4ODAsIDIwODkwLA0KICAgICAgICAgICAgMjA5MDAsIDIwOTEwLCAyMDkyMCwgMjA5OTAsIDIxMDAwLCAyMTAxMCwgMjEwMjAsIDIxMDQwLCAyMTEyMCwgMjExMzAsIDIxMTQwLCAyMTE1MCwgMjExNjAsIDIxMTgwLCAyMTE5MCwNCiAgICAgICAgICAgIDIxMjAwLCAyMTIxMCwgMjEyMjAsIDIxMzQwLCAyMTM1MCwgMjEzNjAsIDIxMzcwLCAyMTM4MCwgMjE0MzAsIDIxNDQwLCAyMTQ1MCwgMjE0NjAsIDIxNDcwLCAyMTQ4MCwgMjE0OTBdKQ0KDQogICAgLy8g0LPRgNCw0YTQsCA1DQogICAgLy8g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQsCA9IDIwMDEwLCAyMDExMCwgMjAxMjAsIDIwMTYwLA0KICAgIC8vIDIwMTcwLCAyMDE4MCwgMjAxOTAsIDIwMjIwLCAyMDIzMCwgMjAyNDAsIDIwMjUwLCAyMDI2MCwgMjAyNzAsIDIwMjkwLCAyMDMwMCwgMjAzMTAsIDIwMzIwLCAyMDMzMCwgMjAzNDAsDQogICAgLy8gMjAzNTAsIDIwMzYwLCAyMDM3MCwgMjAzODAsIDIwNDAwLCAyMDQxMCwgMjA0NTAsIDIwNTgwLCAyMDU5MCwgMjA2MDAsIDIwNjEwLCAyMDYyMCwgMjA2NDAsIDIwNjUwLCAyMDY2MCwNCiAgICAvLyAyMDY3MCwgMjA2ODAsIDIwNjkwLCAyMDcwMCwgMjA3MzAsIDIwNzQwLCAyMDc1MCwgMjA3NjAsIDIwNzgwLCAyMDgwMCwgMjA4MTAsIDIwODMwLCAyMTA0MCwgMjEzODAsIDIxNDQwLA0KICAgIC8vIDIxNDUwLCAyMTQ2MCwgMjE0NzANCiAgICByZXN1bHQgKz0gZ2V0U3VtUm93c0J5Q29sKGRhdGFSb3dzU2ltcGxlLCAnY29uc3VtcHRpb25UeXBlSWQnLCAncm51N0ZpZWxkMTBTdW0nLCBbMjAwMTAsIDIwMTEwLCAyMDEyMCwgMjAxNjAsDQogICAgICAgICAgICAyMDE3MCwgMjAxODAsIDIwMTkwLCAyMDIyMCwgMjAyMzAsIDIwMjQwLCAyMDI1MCwgMjAyNjAsIDIwMjcwLCAyMDI5MCwgMjAzMDAsIDIwMzEwLCAyMDMyMCwgMjAzMzAsIDIwMzQwLA0KICAgICAgICAgICAgMjAzNTAsIDIwMzYwLCAyMDM3MCwgMjAzODAsIDIwNDAwLCAyMDQxMCwgMjA0NTAsIDIwNTgwLCAyMDU5MCwgMjA2MDAsIDIwNjEwLCAyMDYyMCwgMjA2NDAsIDIwNjUwLCAyMDY2MCwNCiAgICAgICAgICAgIDIwNjcwLCAyMDY4MCwgMjA2OTAsIDIwNzAwLCAyMDczMCwgMjA3NDAsIDIwNzUwLCAyMDc2MCwgMjA3ODAsIDIwODAwLCAyMDgxMCwgMjA4MzAsIDIxMDQwLCAyMTM4MCwgMjE0NDAsDQogICAgICAgICAgICAyMTQ1MCwgMjE0NjAsIDIxNDcwXSkNCg0KICAgIC8vINCz0YDQsNGE0LAgNg0KICAgIC8vINCa0L7QtCDQstC40LTQsCDQtNC+0YXQvtC00LAgPSAyMDAxMCwgMjAxMTAsIDIwMTIwLCAyMDE2MCwNCiAgICAvLyAyMDE3MCwgMjAxODAsIDIwMTkwLCAyMDIyMCwgMjAyMzAsIDIwMjQwLCAyMDI1MCwgMjAyNjAsIDIwMjcwLCAyMDI5MCwgMjAzMDAsIDIwMzEwLCAyMDMyMCwgMjAzMzAsIDIwMzQwLA0KICAgIC8vIDIwMzUwLCAyMDM2MCwgMjAzNzAsIDIwMzgwLCAyMDQwMCwgMjA0MTAsIDIwNDUwLCAyMDU4MCwgMjA1OTAsIDIwNjAwLCAyMDYxMCwgMjA2MjAsIDIwNjQwLCAyMDY1MCwgMjA2NjAsDQogICAgLy8gMjA2NzAsIDIwNjgwLCAyMDY5MCwgMjA3MDAsIDIwNzMwLCAyMDc0MCwgMjA3NTAsIDIwNzYwLCAyMDc4MCwgMjA4MDAsIDIwODEwLCAyMDgzMCwgMjEwNDAsIDIxMzgwLCAyMTQ0MCwNCiAgICAvLyAyMTQ1MCwgMjE0NjAsIDIxNDcwDQogICAgcmVzdWx0IC09IGdldFN1bVJvd3NCeUNvbChkYXRhUm93c1NpbXBsZSwgJ2NvbnN1bXB0aW9uVHlwZUlkJywgJ3JudTdGaWVsZDEyQWNjZXB0ZWQnLCBbMjAwMTAsIDIwMTEwLCAyMDEyMCwgMjAxNjAsDQogICAgICAgICAgICAyMDE3MCwgMjAxODAsIDIwMTkwLCAyMDIyMCwgMjAyMzAsIDIwMjQwLCAyMDI1MCwgMjAyNjAsIDIwMjcwLCAyMDI5MCwgMjAzMDAsIDIwMzEwLCAyMDMyMCwgMjAzMzAsIDIwMzQwLA0KICAgICAgICAgICAgMjAzNTAsIDIwMzYwLCAyMDM3MCwgMjAzODAsIDIwNDAwLCAyMDQxMCwgMjA0NTAsIDIwNTgwLCAyMDU5MCwgMjA2MDAsIDIwNjEwLCAyMDYyMCwgMjA2NDAsIDIwNjUwLCAyMDY2MCwNCiAgICAgICAgICAgIDIwNjcwLCAyMDY4MCwgMjA2OTAsIDIwNzAwLCAyMDczMCwgMjA3NDAsIDIwNzUwLCAyMDc2MCwgMjA3ODAsIDIwODAwLCAyMDgxMCwgMjA4MzAsIDIxMDQwLCAyMTM4MCwgMjE0NDAsDQogICAgICAgICAgICAyMTQ1MCwgMjE0NjAsIDIxNDcwXSkNCg0KICAgIHJldHVybiBnZXRMb25nKHJlc3VsdCkNCn0NCg0KLyoqDQogKiDQoNCw0YHRhdC+0LTRiyDQsiDQstC40LTQtSDQv9GA0L7RhtC10L3RgtC+0LIg0L/QviDQtNC+0LvQs9C+0LLRi9C8INC+0LHRj9C30LDRgtC10LvRjNGB0YLQstCw0Lwg0LvRjtCx0L7Qs9C+INCy0LjQtNCwLCDQsiDRgtC+0Lwg0YfQuNGB0LvQtSDQv9GA0L7RhtC10L3RgtC+0LIsINC90LDRh9C40YHQu9C10L3QvdGL0YUg0L/QviDRhtC10L3QvdGL0Lwg0LHRg9C80LDQs9Cw0Lwg0Lgg0LjQvdGL0Lwg0L7QsdGP0LfQsNGC0LXQu9GM0YHRgtCy0LDQvCwg0LLRi9C/0YPRidC10L3QvdGL0LwgKNGN0LzQuNGC0LjRgNC+0LLQsNC90L3Ri9C8KSDQvdCw0LvQvtCz0L7Qv9C70LDRgtC10LvRjNGJ0LjQutC+0LwgKNCg0LDRgdGF0JLQvdC10YDQtdCw0LvQn9GALdCU0J4gPSAg0KDQsNGB0YXQktC90LXRgNC10LDQu9Cf0YDQlNCeKS4NCiAqDQogKiBAcGFyYW0gZGF0YVJvd3Mg0YHRgtGA0L7QutC4INC90YQg0YDQsNGB0YXQvtC00Ysg0YHQu9C+0LbQvdGL0LUNCiAqIEBwYXJhbSBkYXRhUm93c1NpbXBsZSDRgdGC0YDQvtC60Lgg0L3RhCDRgNCw0YHRhdC+0LTRiyDQv9GA0L7RgdGC0YvQtQ0KICovDQpkZWYgZ2V0UmFzaFZuZXJlYWxQckRPKGRlZiBkYXRhUm93cywgZGVmIGRhdGFSb3dzU2ltcGxlKSB7DQogICAgZGVmIHJlc3VsdCA9IDANCiAgICAvLyDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyNDY2MCwgMjQ2NzANCiAgICByZXN1bHQgKz0gZ2V0Q29tcGxleENvbnN1bXB0aW9uU3VtUm93czkoZGF0YVJvd3MsIFsyNDY2MCwgMjQ2NzBdKQ0KDQogICAgLy8g0JrQvtC0INCy0LjQtNCwINGA0LDRgdGF0L7QtNCwID0gMjQwMDAsIDI0MDEwLCAyNDAyMCwgMjQwMzAsIDI0MDQwLCAyNDA1MCwgMjQwNjAsIDI0MDcwLA0KICAgIC8vIDI0MDgwLCAyNDA5MCwgMjQxMDAsIDI0MTEwLCAyNDEyMCwgMjQxMzAsIDI0MTQwLCAyNDE1MCwgMjQxNjAsIDI0MTcwLCAyNDE4MCwgMjQxOTAsIDI0MjAwLCAyNDIxMCwgMjQyMjAsDQogICAgLy8gMjQyMzAsIDI0MjQwLCAyNDI1MCwgMjQyNjAsIDI0MjcwLCAyNDI4MCwgMjQyOTAsIDI0MzAwLCAyNDMxMCwgMjQzMjAsIDI0MzMwLCAyNDM0MCwgMjQzNTAsIDI0MzYwLCAyNDM3MCwNCiAgICAvLyAyNDM4MCwgMjQzOTAsIDI0NDAwLCAyNDQxMCwgMjQ0MjAsIDI0NDMwLCAyNDQ0MCwgMjQ0NTAsIDI0NDYwLCAyNDQ3MCwgMjQ0ODAsIDI0NDkwLCAyNDUwMCwgMjQ1MTAsIDI0NTIwLA0KICAgIC8vIDI0NTMwLCAyNDU0MCwgMjQ1NTAsIDI0NTYwLCAyNDU3MCwgMjQ1ODAsIDI0NTkwLCAyNDYwMCwgMjQ2MTAsIDI0NjIwLCAyNDYzMCwgMjQ2NDAsIDI0NjgwLCAyNDY5MCwgMjQ3MDAsDQogICAgLy8gMjQ3MTAsIDI0NzIwLCAyNDczMCwgMjQ3NDAsIDI0NzUwLCAyNDc2MCwgMjQ3NzAsIDI0NzgwLCAyNDc5MCwgMjQ4MDAsIDI0ODEwLCAyNDgyMCwgMjQ4MzAsIDI0ODQwLCAyNDg1MCwNCiAgICAvLyAyNDg2MCwgMjQ4NzAsIDI0ODgwLCAyNDg5MCwgMjQ5MDAsIDI0OTEwLCAyNDkyMCwgMjQ5MzAsIDI0OTQwLCAyNDk1MCwgMjQ5NjAsIDI0OTcwLCAyNDk4MCwgMjQ5OTAsIDI1MDAwLA0KICAgIC8vIDI1MDEwLCAyNTAyMCwgMjUwMzAsIDI1MDQwLCAyNTA1MCwgMjUwNjAsIDI1MDcwLCAyNTA4MCwgMjUwOTAsIDI1MTAwLCAyNTExMCwgMjUxMjAsIDI1MTMwLCAyNTE0MCwgMjUxNTAsDQogICAgLy8gMjUxNjAsIDI1MTcwLCAyNTE4MCwgMjUxOTAsIDI1MjAwLCAyNTIxMCwgMjUyMjAsIDI1MjMwLCAyNTI0MCwgMjUyNTAsIDI1MjYwLCAyNTI3MCwgMjUyODAsIDI1MjkwLCAyNTMwMCwNCiAgICAvLyAyNTMxMCwgMjUzMjAsIDI1MzMwLCAyNTM0MCwgMjUzNTAsIDI1MzYwLCAyNTM3MCwgMjUzODAsIDI1MzkwLCAyNTQwMCwgMjU0MTAsIDI1NDIwLCAyNTQzMCwgMjU0NDAsIDI1NDUwLA0KICAgIC8vIDI1NDYwLCAyNTQ3MCwgMjU0ODAsIDI1NDkwLCAyNTUwMCwgMjU1MTAsIDI1NTIwLCAyNTUzMCwgMjU1NDAsIDI1NTUwDQogICAgcmVzdWx0ICs9IGdldFNpbXBsZUNvbnN1bXB0aW9uU3VtUm93czgoZGF0YVJvd3NTaW1wbGUsIFsyNDAwMCwgMjQwMTAsIDI0MDIwLCAyNDAzMCwgMjQwNDAsIDI0MDUwLCAyNDA2MCwgMjQwNzAsDQogICAgICAgICAgICAyNDA4MCwgMjQwOTAsIDI0MTAwLCAyNDExMCwgMjQxMjAsIDI0MTMwLCAyNDE0MCwgMjQxNTAsIDI0MTYwLCAyNDE3MCwgMjQxODAsIDI0MTkwLCAyNDIwMCwgMjQyMTAsIDI0MjIwLA0KICAgICAgICAgICAgMjQyMzAsIDI0MjQwLCAyNDI1MCwgMjQyNjAsIDI0MjcwLCAyNDI4MCwgMjQyOTAsIDI0MzAwLCAyNDMxMCwgMjQzMjAsIDI0MzMwLCAyNDM0MCwgMjQzNTAsIDI0MzYwLCAyNDM3MCwNCiAgICAgICAgICAgIDI0MzgwLCAyNDM5MCwgMjQ0MDAsIDI0NDEwLCAyNDQyMCwgMjQ0MzAsIDI0NDQwLCAyNDQ1MCwgMjQ0NjAsIDI0NDcwLCAyNDQ4MCwgMjQ0OTAsIDI0NTAwLCAyNDUxMCwgMjQ1MjAsDQogICAgICAgICAgICAyNDUzMCwgMjQ1NDAsIDI0NTUwLCAyNDU2MCwgMjQ1NzAsIDI0NTgwLCAyNDU5MCwgMjQ2MDAsIDI0NjEwLCAyNDYyMCwgMjQ2MzAsIDI0NjQwLCAyNDY4MCwgMjQ2OTAsIDI0NzAwLA0KICAgICAgICAgICAgMjQ3MTAsIDI0NzIwLCAyNDczMCwgMjQ3NDAsIDI0NzUwLCAyNDc2MCwgMjQ3NzAsIDI0NzgwLCAyNDc5MCwgMjQ4MDAsIDI0ODEwLCAyNDgyMCwgMjQ4MzAsIDI0ODQwLCAyNDg1MCwNCiAgICAgICAgICAgIDI0ODYwLCAyNDg3MCwgMjQ4ODAsIDI0ODkwLCAyNDkwMCwgMjQ5MTAsIDI0OTIwLCAyNDkzMCwgMjQ5NDAsIDI0OTUwLCAyNDk2MCwgMjQ5NzAsIDI0OTgwLCAyNDk5MCwgMjUwMDAsDQogICAgICAgICAgICAyNTAxMCwgMjUwMjAsIDI1MDMwLCAyNTA0MCwgMjUwNTAsIDI1MDYwLCAyNTA3MCwgMjUwODAsIDI1MDkwLCAyNTEwMCwgMjUxMTAsIDI1MTIwLCAyNTEzMCwgMjUxNDAsIDI1MTUwLA0KICAgICAgICAgICAgMjUxNjAsIDI1MTcwLCAyNTE4MCwgMjUxOTAsIDI1MjAwLCAyNTIxMCwgMjUyMjAsIDI1MjMwLCAyNTI0MCwgMjUyNTAsIDI1MjYwLCAyNTI3MCwgMjUyODAsIDI1MjkwLCAyNTMwMCwNCiAgICAgICAgICAgIDI1MzEwLCAyNTMyMCwgMjUzMzAsIDI1MzQwLCAyNTM1MCwgMjUzNjAsIDI1MzcwLCAyNTM4MCwgMjUzOTAsIDI1NDAwLCAyNTQxMCwgMjU0MjAsIDI1NDMwLCAyNTQ0MCwgMjU0NTAsDQogICAgICAgICAgICAyNTQ2MCwgMjU0NzAsIDI1NDgwLCAyNTQ5MCwgMjU1MDAsIDI1NTEwLCAyNTUyMCwgMjU1MzAsIDI1NTQwLCAyNTU1MF0pDQogICAgcmV0dXJuIGdldExvbmcocmVzdWx0KQ0KfQ0KDQovKioNCiAqINCo0YLRgNCw0YTRiywg0L/QtdC90Lgg0Lgg0LjQvdGL0LUg0YHQsNC90LrRhtC40Lgg0LfQsCDQvdCw0YDRg9GI0LXQvdC40LUg0LTQvtCz0L7QstC+0YDQvdGL0YUg0LjQu9C4INC00L7Qu9Cz0L7QstGL0YUg0L7QsdGP0LfQsNGC0LXQu9GM0YHRgtCyLA0KICog0LLQvtC30LzQtdGJ0LXQvdC40LUg0L/RgNC40YfQuNC90LXQvdC90L7Qs9C+INGD0YnQtdGA0LHQsCAo0KDQsNGB0YXQqNGC0YDQsNGEKS4NCiAqDQogKiBAcGFyYW0gZGF0YVJvd3Mg0YHRgtGA0L7QutC4INC90YQg0YDQsNGB0YXQvtC00Ysg0L/RgNC+0YHRgtGL0LUNCiAqLw0KZGVmIGdldFJhc2hTaHRyYWYoZGVmIGRhdGFSb3dzKSB7DQogICAgZGVmIHJlc3VsdCA9IDANCg0KICAgIC8vINCz0YDQsNGE0LAgOCArIDUgLSA2DQogICAgLy8g0JrQvtC0INCy0LjQtNCwINC00L7RhdC+0LTQvtCyID0gMjY0MTAsIDI2NDIwLCAyNjQzMCwgMjY0NDANCiAgICByZXN1bHQgKz0gZ2V0Q2FsY3VsYXRlZFNpbXBsZUNvbnN1bXB0aW9uKGRhdGFSb3dzLCBbMjY0MTAsIDI2NDIwLCAyNjQzMCwgMjY0NDBdKQ0KDQogICAgcmV0dXJuIGdldExvbmcocmVzdWx0KQ0KfQ0KDQovKioNCiAqINCh0YPQvNC80Ysg0L3QsNC70L7Qs9C+0LIg0Lgg0YHQsdC+0YDQvtCyLCDQvdCw0YfQuNGB0LvQtdC90L3Ri9C1INCyINC/0L7RgNGP0LTQutC1LCDRg9GB0YLQsNC90L7QstC70LXQvdC90L7QvCDQt9Cw0LrQvtC90L7QtNCw0YLQtdC70YzRgdGC0LLQvtC8INCg0L7RgdGB0LjQudGB0LrQvtC5INCk0LXQtNC10YDQsNGG0LjQuA0KICog0L4g0L3QsNC70L7Qs9Cw0YUg0Lgg0YHQsdC+0YDQsNGFLCDQt9CwINC40YHQutC70Y7Rh9C10L3QuNC10Lwg0L3QsNC70L7Qs9C+0LIsINC/0LXRgNC10YfQuNGB0LvQtdC90L3Ri9GFINCyINGB0YIuIDI3MCDQndCaLg0KICoNCiAqIEBwYXJhbSBkYXRhUm93cyDRgdGC0YDQvtC60Lgg0YDQsNGB0YXQvtC00Ysg0L/RgNC+0YHRgtGL0LUNCiAqIEBwYXJhbSBkYXRhUm93c1NpbXBsZSDRgdGC0YDQvtC60Lgg0L3RhCDRgNCw0YHRhdC+0LTRiyDQv9GA0L7RgdGC0YvQtQ0KICovDQpkZWYgZ2V0TmFsb2dpKGRlZiBkYXRhUm93cywgZGVmIGRhdGFSb3dzU2ltcGxlKSB7DQogICAgZGVmIHJlc3VsdCA9IDANCg0KICAgIC8vINCa0L7QtCDQstC40LTQsCDRgNCw0YHRhdC+0LTQsCA9IDIwNjMwDQogICAgcmVzdWx0ICs9IGdldENvbXBsZXhDb25zdW1wdGlvblN1bVJvd3M5KGRhdGFSb3dzLCBbMjA2MzBdKQ0KDQogICAgLy8g0LPRgNCw0YTQsCA4ICsgNSAtIDYNCiAgICAvLyDQmtC+0LQg0LLQuNC00LAg0YDQsNGB0YXQvtC00LAgPSAyMDU4MCwgMjA1OTAsIDIwNjAwLCAyMDYxMCwgMjA2MjAsIDIwNjQwLCAyMDY1MCwgMjA2NjANCiAgICByZXN1bHQgKz0gZ2V0Q2FsY3VsYXRlZFNpbXBsZUNvbnN1bXB0aW9uKGRhdGFSb3dzU2ltcGxlLCBbMjA1ODAsIDIwNTkwLCAyMDYwMCwgMjA2MTAsIDIwNjIwLCAyMDY0MCwgMjA2NTAsIDIwNjYwXSkNCg0KICAgIHJldHVybiBnZXRMb25nKHJlc3VsdCkNCn0NCg0KLy8g0J/QvtC70YPRh9C40YLRjCDQt9C90LDRh9C10L3QuNGPINC00LvRjyDQkNCy0J/Qu9Cw0YIxICgyMjApLCDQkNCy0J/Qu9Cw0YIyICgyMzApLCDQkNCy0J/Qu9Cw0YIzICgyNDApDQpkZWYgZ2V0QXZQbGF0cyhkZWYgcm93LCBkZWYgcmVwb3J0UGVyaW9kKSB7DQogICAgZGVmIGFwcGw1TGlzdDAyUm93MTIwID0gKHJvdyAhPSBudWxsICYmIHJvdy5ldmVyeU1vbnRoZXJQYXltZW50QWZ0ZXJQZXJpb2QgIT0gbnVsbCA/IHJvdy5ldmVyeU1vbnRoZXJQYXltZW50QWZ0ZXJQZXJpb2QgOiAwKQ0KICAgIGRlZiBhdlBsYXQxDQogICAgZGVmIGF2UGxhdDINCiAgICBkZWYgYXZQbGF0Mw0KICAgIGlmIChyZXBvcnRQZXJpb2QudGF4UGVyaW9kLnllYXIgPj0gMjAxNSB8fCByZXBvcnRQZXJpb2QudGF4UGVyaW9kLnllYXIgPT0gMjAxNSAmJiByZXBvcnRQZXJpb2Qub3JkZXIgPiAyKSB7DQogICAgICAgIC8vINGBIDkg0LzQtdGB0Y/RhtC10LIgMjAxNQ0KICAgICAgICBkZWYgYSA9IHJvdW5kVmFsdWUoYXBwbDVMaXN0MDJSb3cxMjAgLyAzLCAwKQ0KICAgICAgICBhdlBsYXQxID0gYQ0KICAgICAgICBhdlBsYXQyID0gYQ0KICAgICAgICBhdlBsYXQzID0gYQ0KICAgICAgICBkZWYgYiA9IGEgKiAzDQogICAgICAgIGRlZiBjID0gYXBwbDVMaXN0MDJSb3cxMjAgLSBiDQogICAgICAgIGlmIChjID09IC0xKSB7DQogICAgICAgICAgICBhdlBsYXQxLS0NCiAgICAgICAgfSBlbHNlIGlmIChjID09IDEpIHsNCiAgICAgICAgICAgIGF2UGxhdDMrKw0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgLy8g0LTQviA5INC80LXRgdGP0YbQtdCyIDIwMTUNCiAgICAgICAgYXZQbGF0MSA9IChsb25nKSBhcHBsNUxpc3QwMlJvdzEyMCAvIDMNCiAgICAgICAgYXZQbGF0MiA9IGF2UGxhdDENCiAgICAgICAgYXZQbGF0MyA9IGdldExvbmcoYXBwbDVMaXN0MDJSb3cxMjAgLSBhdlBsYXQxIC0gYXZQbGF0MikNCiAgICB9DQogICAgcmV0dXJuIFthdlBsYXQxLCBhdlBsYXQyLCBhdlBsYXQzXQ0KfQ0KDQovKioNCiAqINCf0L7Qu9GD0YfQuNGC0Ywg0LfQvdCw0YfQtdC90LjQtSDRgdGC0L7Qu9Cx0YbQsCDQuNGC0L7Qs9C+0LLQvtC5INGB0YLRgNC+0LrQuCDQuNC3INC90LDQu9C+0LPQvtCy0L7QuSDRhNC+0YDQvNGLLg0KICoNCiAqIEBwYXJhbSBkYXRhUm93cyDRgdGC0YDQvtC60Lgg0L3RhA0KICogQHBhcmFtIGNvbHVtbk5hbWUg0L3QsNC30LLQsNC90LjQtSDRgdGC0L7Qu9Cx0YbQsA0KICogQHJldHVybiDQt9C90LDRh9C10L3QuNC1INGB0YLQvtC70LHRhtCwDQogKi8NCmRlZiBnZXRUb3RhbEZyb21Gb3JtKGRlZiBkYXRhUm93cywgZGVmIGNvbHVtbk5hbWUpIHsNCiAgICBpZiAoZGF0YVJvd3MgIT0gbnVsbCAmJiAhZGF0YVJvd3MuaXNFbXB0eSgpKSB7DQogICAgICAgIGRlZiB0b3RhbFJvdyA9IGdldERhdGFSb3coZGF0YVJvd3MsICd0b3RhbCcpDQogICAgICAgIHJldHVybiBnZXRMb25nKHRvdGFsUm93LmdldENlbGwoY29sdW1uTmFtZSkudmFsdWUpDQogICAgfQ0KICAgIHJldHVybiAwDQp9DQoNCi8qKg0KICog0J/QvtC70YPRh9C40YLRjCB4bWwg0LTQtdC60LvQsNGA0LDRhtC40LguDQogKg0KICogQHBhcmFtIHJlcG9ydFBlcmlvZElkDQogKiBAcGFyYW0gZGVwYXJ0bWVudElkDQogKi8NCmRlZiBnZXRYbWxTdHJlYW1SZWFkZXIoZGVmIHJlcG9ydFBlcmlvZElkLCBkZWYgZGVwYXJ0bWVudElkLCBkZWYgYWNjZXB0ZWRPbmx5LCBkZWYgYW55UHJldkRlY2xhcmF0aW9uKSB7DQogICAgaWYgKHJlcG9ydFBlcmlvZElkICE9IG51bGwpIHsNCiAgICAgICAgLy8g0LLQuNC0INC00LXQutC70LDRgNCw0YbQuNC4IDExIC0g0LTQtdC60LvQsNGA0LDRhtC40Y8g0LHQsNC90LrQsA0KICAgICAgICBkZWYgZGVjbGFyYXRpb25UeXBlSWQgPSAxMQ0KICAgICAgICBkZWYgeG1sID0gZ2V0U3RyZWFtUmVhZGVyKGRlY2xhcmF0aW9uVHlwZUlkLCBkZXBhcnRtZW50SWQsIHJlcG9ydFBlcmlvZElkLCBhY2NlcHRlZE9ubHkpDQogICAgICAgIGlmICh4bWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgcmV0dXJuIHhtbA0KICAgICAgICB9IGVsc2UgaWYgKGFueVByZXZEZWNsYXJhdGlvbikgeyAvLyDQtNC70Y8g0L3QvtCy0L7QuSDQtNC10LrQu9Cw0YDQsNGG0LjQuCDQvNC+0LbQvdC+INC/0L7QuNGB0LrQsNGC0Ywg0LIg0L/RgNC+0YjQu9C+0Lwg0L/QtdGA0LjQvtC00LUg0LTRgNGD0LPRg9GOINC00LXQutC70LDRgNCw0YbQuNGOICjQvtCx0YvRh9C90YPRjiDQkdCw0L3QutCwKQ0KICAgICAgICAgICAgZGVjbGFyYXRpb25UeXBlSWQgPSA5DQogICAgICAgICAgICByZXR1cm4gZ2V0U3RyZWFtUmVhZGVyKGRlY2xhcmF0aW9uVHlwZUlkLCBkZXBhcnRtZW50SWQsIHJlcG9ydFBlcmlvZElkLCBhY2NlcHRlZE9ubHkpDQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIG51bGwNCn0NCg0KZGVmIGdldFN0cmVhbVJlYWRlcihkZWYgZGVjbGFyYXRpb25UeXBlSWQsIGRlZiBkZXBhcnRtZW50SWQsIGRlZiByZXBvcnRQZXJpb2RJZCwgZGVmIGFjY2VwdGVkT25seSkgew0KICAgIGRlZiBkZWNsYXJhdGlvbkRhdGEgPSBkZWNsYXJhdGlvblNlcnZpY2UuZ2V0TGFzdChkZWNsYXJhdGlvblR5cGVJZCwgZGVwYXJ0bWVudElkLCByZXBvcnRQZXJpb2RJZCkNCiAgICBpZiAoZGVjbGFyYXRpb25EYXRhICE9IG51bGwgJiYgZGVjbGFyYXRpb25EYXRhLmlkICE9IG51bGwgJiYgKCFhY2NlcHRlZE9ubHkgfHwgZGVjbGFyYXRpb25EYXRhLmFjY2VwdGVkKSkgew0KICAgICAgICByZXR1cm4gZGVjbGFyYXRpb25TZXJ2aWNlLmdldFhtbFN0cmVhbVJlYWRlcihkZWNsYXJhdGlvbkRhdGEuaWQpDQogICAgfQ0KICAgIHJldHVybiBudWxsDQp9DQoNCi8qKg0KICog0J7QutGA0YPQs9C70Y/QtdGCINGH0LjRgdC70L4g0LTQviDRgtGA0LXQsdGD0LXQvNC+0Lkg0YLQvtGH0L3QvtGB0YLQuC4NCiAqDQogKiBAcGFyYW0gdmFsdWUg0L7QutGA0YPQs9C70Y/QtdC80L7QtSDRh9C40YHQu9C+DQogKiBAcGFyYW0gcHJlY2lzaW9uINGC0L7Rh9C90L7RgdGC0Ywg0L7QutGA0YPQs9C70LXQvdC40Y8sINC30L3QsNC60Lgg0L/QvtGB0LvQtSDQt9Cw0L/Rj9GC0L7QuQ0KICogQHJldHVybiDQvtC60YDRg9Cz0LvQtdC90L3QvtC1INGH0LjRgdC70L4NCiAqLw0KZGVmIHJvdW5kVmFsdWUoZGVmIHZhbHVlLCBkZWYgcHJlY2lzaW9uKSB7DQogICAgKChCaWdEZWNpbWFsKSB2YWx1ZSkuc2V0U2NhbGUocHJlY2lzaW9uLCBCaWdEZWNpbWFsLlJPVU5EX0hBTEZfVVApDQp9DQoNCkxpc3Q8U3RyaW5nPiBnZXRFcnJvclRhYmxlKHJlY29yZCkgew0KICAgIExpc3Q8U3RyaW5nPiBlcnJvckxpc3QgPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKQ0KICAgIGlmIChyZWNvcmQuTkFNRT8udmFsdWUgPT0gbnVsbCB8fCByZWNvcmQuTkFNRS52YWx1ZS5pc0VtcHR5KCkpIHsNCiAgICAgICAgZXJyb3JMaXN0LmFkZCgiwqvQndCw0LjQvNC10L3QvtCy0LDQvdC40LUg0LTQu9GPINGC0LjRgtGD0LvRjNC90L7Qs9C+INC70LjRgdGC0LDCuyIpDQogICAgfQ0KICAgIGlmIChyZWNvcmQuT0tUTU8gPT0gbnVsbCB8fCByZWNvcmQuT0tUTU8udmFsdWUgPT0gbnVsbCkgew0KICAgICAgICBlcnJvckxpc3QuYWRkKCLCq9Ce0JrQotCc0J7CuyIpDQogICAgfQ0KICAgIGlmIChyZWNvcmQuVEFYX09SR0FOX0NPREU/LnZhbHVlID09IG51bGwgfHwgcmVjb3JkLlRBWF9PUkdBTl9DT0RFLnZhbHVlLmlzRW1wdHkoKSkgew0KICAgICAgICBlcnJvckxpc3QuYWRkKCLCq9Ca0L7QtCDQvdCw0LvQvtCz0L7QstC+0LPQviDQvtGA0LPQsNC90LAgKNC60L7QvS4pwrsiKQ0KICAgIH0NCiAgICBpZiAodXNlVGF4T3JnYW5Db2RlUHJvbSgpICYmIChyZWNvcmQuVEFYX09SR0FOX0NPREVfUFJPTT8udmFsdWUgPT0gbnVsbCB8fCByZWNvcmQuVEFYX09SR0FOX0NPREVfUFJPTS52YWx1ZS5pc0VtcHR5KCkpKSB7DQogICAgICAgIGVycm9yTGlzdC5hZGQoIsKr0JrQvtC0INC90LDQu9C+0LPQvtCy0L7Qs9C+INC+0YDQs9Cw0L3QsCAo0L/RgNC+0LwuKcK7IikNCiAgICB9DQogICAgaWYgKHJlY29yZC5PS1ZFRF9DT0RFPy52YWx1ZSA9PSBudWxsKSB7DQogICAgICAgIGVycm9yTGlzdC5hZGQoIsKr0JrQvtC0INCy0LjQtNCwINGN0LrQvtC90L7QvNC40YfQtdGB0LrQvtC5INC00LXRj9GC0LXQu9GM0L3QvtGB0YLQuCDQuCDQv9C+INC60LvQsNGB0YHQuNGE0LjQutCw0YLQvtGA0YMg0J7QmtCS0K3QlMK7IikNCiAgICB9DQogICAgZGVmIHJlb3JnRm9ybUNvZGUgPSBnZXRSZWZCb29rVmFsdWUoNSwgcmVjb3JkPy5SRU9SR19GT1JNX0NPREU/LnZhbHVlKT8uQ09ERT8udmFsdWUNCiAgICBpZiAocmVvcmdGb3JtQ29kZSAhPSBudWxsICYmIHJlb3JnRm9ybUNvZGUgIT0gJzAnKSB7DQogICAgICAgIGlmIChyZWNvcmQuUkVPUkdfSU5OPy52YWx1ZSA9PSBudWxsIHx8IHJlY29yZC5SRU9SR19JTk4udmFsdWUuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBlcnJvckxpc3QuYWRkKCLCq9CY0J3QnSDRgNC10L7RgNCz0LDQvdC40LfQvtCy0LDQvdC90L7Qs9C+INC+0LHQvtGB0L7QsdC70LXQvdC90L7Qs9C+INC/0L7QtNGA0LDQt9C00LXQu9C10L3QuNGPwrsiKQ0KICAgICAgICB9DQogICAgICAgIGlmIChyZWNvcmQuUkVPUkdfS1BQPy52YWx1ZSA9PSBudWxsIHx8IHJlY29yZC5SRU9SR19LUFAudmFsdWUuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICBlcnJvckxpc3QuYWRkKCLCq9Ca0J/QnyDRgNC10L7RgNCz0LDQvdC40LfQvtCy0LDQvdC90L7Qs9C+INC+0LHQvtGB0L7QsdC70LXQvdC90L7Qs9C+INC/0L7QtNGA0LDQt9C00LXQu9C10L3QuNGPwrsiKQ0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChyZWNvcmQuU0lHTkFUT1JZX0lEPy52YWx1ZSA9PSBudWxsKSB7DQogICAgICAgIGVycm9yTGlzdC5hZGQoIsKr0J/RgNC40LfQvdCw0Log0LvQuNGG0LAg0L/QvtC00L/QuNGB0LDQstGI0LXQs9C+INC00L7QutGD0LzQtdC90YLCuyIpDQogICAgfQ0KICAgIGlmIChyZWNvcmQuU0lHTkFUT1JZX1NVUk5BTUU/LnZhbHVlID09IG51bGwgfHwgcmVjb3JkLlNJR05BVE9SWV9TVVJOQU1FLnZhbHVlLmlzRW1wdHkoKSkgew0KICAgICAgICBlcnJvckxpc3QuYWRkKCLCq9Ck0LDQvNC40LvQuNGPINC/0L7QtNC/0LjRgdCw0L3RgtCwwrsiKQ0KICAgIH0NCiAgICBpZiAocmVjb3JkLlNJR05BVE9SWV9GSVJTVE5BTUU/LnZhbHVlID09IG51bGwgfHwgcmVjb3JkLlNJR05BVE9SWV9GSVJTVE5BTUUudmFsdWUuaXNFbXB0eSgpKSB7DQogICAgICAgIGVycm9yTGlzdC5hZGQoIsKr0JjQvNGPINC/0L7QtNC/0LjRgdCw0L3RgtCwwrsiKQ0KICAgIH0NCiAgICBkZWYgc2lnbmF0b3J5SWQgPSBnZXRSZWZCb29rVmFsdWUoMzUsIHJlY29yZD8uU0lHTkFUT1JZX0lEPy52YWx1ZSk/LkNPREU/LnZhbHVlDQogICAgaWYgKChzaWduYXRvcnlJZCAhPSBudWxsICYmIHNpZ25hdG9yeUlkID09IDIpICYmIChyZWNvcmQuQVBQUk9WRV9ET0NfTkFNRT8udmFsdWUgPT0gbnVsbCB8fCByZWNvcmQuQVBQUk9WRV9ET0NfTkFNRS52YWx1ZS5pc0VtcHR5KCkpKSB7DQogICAgICAgIGVycm9yTGlzdC5hZGQoIsKr0J3QsNC40LzQtdC90L7QstCw0L3QuNC1INC00L7QutGD0LzQtdC90YLQsCwg0L/QvtC00YLQstC10YDQttC00LDRjtGJ0LXQs9C+INC/0L7Qu9C90L7QvNC+0YfQuNGPINC/0YDQtdC00YHRgtCw0LLQuNGC0LXQu9GPwrsgKNCf0YDQuNC30L3QsNC6INC70LjRhtCwLCDQv9C+0LTQv9C40YHQsNCy0YjQtdCz0L4g0LTQvtC60YPQvNC10L3RgiA9IDIpIikNCiAgICB9DQogICAgaWYgKHJlY29yZC5UQVhfUExBQ0VfVFlQRV9DT0RFPy52YWx1ZSA9PSBudWxsKSB7DQogICAgICAgIGVycm9yTGlzdC5hZGQoIsKr0JrQvtC0INC80LXRgdGC0LAsINC/0L4g0LrQvtGC0L7RgNC+0LzRgyDQv9GA0LXQtNGB0YLQsNCy0LvRj9C10YLRgdGPINC00L7QutGD0LzQtdC90YLCuyIpDQogICAgfQ0KICAgIGVycm9yTGlzdA0KfQ0KDQpARmllbGQNCmRlZiBkZWNsYXJhdGlvblJlcG9ydFBlcmlvZA0KDQpib29sZWFuIHVzZVRheE9yZ2FuQ29kZVByb20oKSB7DQogICAgaWYgKGRlY2xhcmF0aW9uUmVwb3J0UGVyaW9kID09IG51bGwpIHsNCiAgICAgICAgZGVjbGFyYXRpb25SZXBvcnRQZXJpb2QgPSByZXBvcnRQZXJpb2RTZXJ2aWNlLmdldChkZWNsYXJhdGlvbkRhdGEucmVwb3J0UGVyaW9kSWQpDQogICAgfQ0KICAgIHJldHVybiAoZGVjbGFyYXRpb25SZXBvcnRQZXJpb2Q/LnRheFBlcmlvZD8ueWVhciA+IDIwMTUgfHwgZGVjbGFyYXRpb25SZXBvcnRQZXJpb2Q/Lm9yZGVyID4gMikNCn0NCg0KTGlzdDxTdHJpbmc+IGdldEVycm9yRGVwYXJ0bWVudChyZWNvcmQpIHsNCiAgICBMaXN0PFN0cmluZz4gZXJyb3JMaXN0ID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCkNCg0KICAgIGlmIChyZWNvcmQuSU5OPy5zdHJpbmdWYWx1ZSA9PSBudWxsIHx8IHJlY29yZC5JTk4uc3RyaW5nVmFsdWUuaXNFbXB0eSgpKSB7DQogICAgICAgIGVycm9yTGlzdC5hZGQoIsKr0JjQndCdwrsiKQ0KICAgIH0NCiAgICAvLyDQlNC10LrQu9Cw0YDQsNGG0LjRjyDQkdCw0L3QutCwINCyINGB0YLQsNGC0YPRgdC1INC+0YLQu9C40YfQvdC+0Lwg0L7RgiDCq9Cf0YDQuNC90Y/RgtCwwrsuDQogICAgaWYgKCFkZWNsYXJhdGlvbkRhdGEuYWNjZXB0ZWQgJiYgcmVjb3JkLlRBWF9SQVRFPy52YWx1ZSA9PSBudWxsKSB7DQogICAgICAgIGVycm9yTGlzdC5hZGQoIsKr0KHRgtCw0LLQutCwINC90LDQu9C+0LPQsMK7ISDQn9GA0Lgg0YDQsNGB0YfRkdGC0LUg0Y3QutC30LXQvNC/0LvRj9GA0LAg0LTQtdC60LvQsNGA0LDRhtC40Lgg0LDRgtGA0LjQsdGD0YIgwqvQodGC0LDQstC60LAg0L3QsNC70L7Qs9CwINC90LAg0L/RgNC40LHRi9C70YwsINCyINGE0LXQtNC10YDQsNC70YzQvdGL0Lkg0LHRjtC00LbQtdGCwrsg0LHRg9C00LXRgiDQt9Cw0L/QvtC70L3QtdC9INC30L3QsNGH0LXQvdC40LXQvCDCqzDCuyIpDQogICAgfQ0KICAgIGVycm9yTGlzdA0KfQ0KDQpMaXN0PFN0cmluZz4gZ2V0RXJyb3JWZXJzaW9uKHJlY29yZCkgew0KICAgIExpc3Q8U3RyaW5nPiBlcnJvckxpc3QgPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKQ0KICAgIGlmIChyZWNvcmQuRk9STUFUX1ZFUlNJT04gPT0gbnVsbCB8fCByZWNvcmQuRk9STUFUX1ZFUlNJT04udmFsdWUgPT0gbnVsbCB8fCAhcmVjb3JkLkZPUk1BVF9WRVJTSU9OLnZhbHVlLmVxdWFscyh2ZXJzaW9uKSkgew0KICAgICAgICBlcnJvckxpc3QuYWRkKCLCq9CS0LXRgNGB0LjRjyDRhNC+0YDQvNCw0YLQsMK7ICgke3JlY29yZC5GT1JNQVRfVkVSU0lPTi52YWx1ZT86J9C/0YPRgdGC0L7QtSDQt9C90LDRh9C10L3QuNC1J30pISDQntC20LjQtNCw0LXQvNC+0LUg0LfQvdCw0YfQtdC90LjQtSDCqyR2ZXJzaW9uwrsuIikNCiAgICB9DQogICAgZXJyb3JMaXN0DQp9DQoNCi8qKiDQn9C+0LvRg9GH0LXQvdC40LUg0L/RgNC+0LLQsNC50LTQtdGA0LAg0YEg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40LXQvCDQutC10YjQuNGA0L7QstCw0L3QuNGPLiAqLw0KZGVmIGdldFByb3ZpZGVyKGRlZiBsb25nIHByb3ZpZGVySWQpIHsNCiAgICByZXR1cm4gZm9ybURhdGFTZXJ2aWNlLmdldFJlZkJvb2tQcm92aWRlcihyZWZCb29rRmFjdG9yeSwgcHJvdmlkZXJJZCwgcHJvdmlkZXJDYWNoZSkNCn0NCg0KQmlnRGVjaW1hbCBnZXRYbWxEZWNpbWFsKGRlZiByZWFkZXIsIFN0cmluZyBhdHRyTmFtZSkgew0KICAgIGRlZiB2YWx1ZSA9IGdldFhtbFZhbHVlKHJlYWRlciwgYXR0ck5hbWUpDQogICAgaWYgKCF2YWx1ZSkgew0KICAgICAgICByZXR1cm4gbnVsbA0KICAgIH0NCiAgICByZXR1cm4gbmV3IEJpZ0RlY2ltYWwodmFsdWUpDQp9DQoNClN0cmluZyBnZXRYbWxWYWx1ZShYTUxTdHJlYW1SZWFkZXIgcmVhZGVyLCBTdHJpbmcgYXR0ck5hbWUpIHsNCiAgICByZXR1cm4gcmVhZGVyPy5nZXRBdHRyaWJ1dGVWYWx1ZShudWxsLCBhdHRyTmFtZSkNCn0NCg0KLyoqINCf0L7Qu9GD0YfQuNGC0Ywg0YHRgtGA0L7QutC4INGE0L7RgNC80YsuICovDQpkZWYgZ2V0RGF0YVJvd3MoZGVmIGZvcm1EYXRhQ29sbGVjdGlvbiwgZGVmIGZvcm1UeXBlSWQpIHsNCiAgICBMaXN0PEZvcm1EYXRhPiBmb3JtTGlzdCA9IGZvcm1EYXRhQ29sbGVjdGlvbi5yZWNvcmRzLmZpbmRBbGwgeyBpdC5nZXRGb3JtVHlwZSgpLmdldElkKCkgPT0gZm9ybVR5cGVJZCB9DQogICAgZGVmIGRhdGFSb3dzID0gW10NCiAgICBmb3IgKGRlZiBmb3JtIDogZm9ybUxpc3QpIHsNCiAgICAgICAgZGF0YVJvd3MgKz0gKGZvcm1EYXRhU2VydmljZS5nZXREYXRhUm93SGVscGVyKGZvcm0pPy5nZXRBbGwoKT86W10pDQogICAgfQ0KICAgIHJldHVybiBkYXRhUm93cy5pc0VtcHR5KCkgPyBudWxsIDogZGF0YVJvd3MNCn0NCg0KLyoqINCe0YLQvNC10L3QuNGC0Ywg0L/RgNC40L3Rj9GC0LjQtS4g0J/RgNC+0LLQtdGA0LjRgtGMINC90LDQu9C40YfQuNC1INC00LXQutC70LDRgNCw0YbQuNC4INCe0J8uICovDQp2b2lkINGBYW5jZWxBY2NlcHRlZCgpIHsNCiAgICAvLyDQstC40LQg0LTQtdC60LvQsNGA0LDRhtC40LggMTkgLSDQtNC10LrQu9Cw0YDQsNGG0LjRjyDQntCfDQogICAgZGVmIGRlY2xhcmF0aW9uVHlwZUlkID0gMTkNCg0KICAgIGlmIChkZWNsYXJhdGlvblNlcnZpY2UuY2hlY2tFeGlzdERlY2xhcmF0aW9uc0luUGVyaW9kKGRlY2xhcmF0aW9uVHlwZUlkLCBkZWNsYXJhdGlvbkRhdGEucmVwb3J0UGVyaW9kSWQpKSB7DQogICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ9Ce0YLQvNC10L3QuNGC0Ywg0L/RgNC40L3Rj9GC0LjQtSDQtNCw0L3QvdC+0Lkg0LTQtdC60LvQsNGA0LDRhtC40Lgg0JHQsNC90LrQsCDQvdC10LLQvtC30LzQvtC20L3Qvi4g0KLQsNC6INC60LDQuiDQsiDRgtC10LrRg9GJ0LXQvCDQv9C10YDQuNC+0LTQtSDRgdC+0LfQtNCw0L3QsCDQtNC10LrQu9Cw0YDQsNGG0LjRjyDQntCfINC/0L4g0L/RgNC40LHRi9C70LghJykNCiAgICB9DQp9DQoNCmRlZiBnZXRSZXBvcnRQZXJpb2Q5bW9udGgoZGVmIHJlcG9ydFBlcmlvZCkgew0KICAgIGlmIChyZXBvcnRQZXJpb2QgPT0gbnVsbCkgew0KICAgICAgICByZXR1cm4gbnVsbA0KICAgIH0NCiAgICBkZWYgY29kZSA9IGdldFJlZkJvb2tWYWx1ZSg4LCByZXBvcnRQZXJpb2QuZGljdFRheFBlcmlvZElkKT8uQ09ERT8udmFsdWUNCiAgICBpZiAoY29kZSA9PSAnMzQnKSB7IC8vINC/0LXRgNC40L7QtCAi0LPQvtC0Ig0KICAgICAgICByZXR1cm4gZ2V0UmVwb3J0UGVyaW9kOW1vbnRoKHJlcG9ydFBlcmlvZFNlcnZpY2UuZ2V0UHJldlJlcG9ydFBlcmlvZChyZXBvcnRQZXJpb2QuaWQpKQ0KICAgIH0gZWxzZSBpZiAoY29kZSA9PSAnMzMnKSB7IC8vINC/0LXRgNC4'
        longString += '0L7QtCAiOSDQvNC10YHRj9GG0LXQsiINCiAgICAgICAgcmV0dXJuIHJlcG9ydFBlcmlvZA0KICAgIH0NCiAgICByZXR1cm4gbnVsbA0KfQ0KDQovKioNCiAqINCf0L7Qu9GD0YfQuNGC0Ywg0LfQvdCw0YfQtdC90LjQtSDRj9GH0LXQudC60Lgg0YTQuNC60YHQuNGA0L7QstCw0L3QvdC+0Lkg0YHRgtGA0L7QutC4INC40Lcg0L3QsNC70L7Qs9C+0LLQvtC5INGE0L7RgNC80YsuDQogKg0KICogQHBhcmFtIGRhdGFSb3dzINGB0YLRgNC+0LrQuCDQvdGEDQogKiBAcGFyYW0gY29sdW1uTmFtZSDQvdCw0LfQstCw0L3QuNC1INGB0YLQvtC70LHRhtCwDQogKiBAcGFyYW0gYWxpYXMg0LDQu9C40LDRgSDRgdGC0YDQvtC60LgNCiAqIEByZXR1cm4g0LfQvdCw0YfQtdC90LjQtSDRgdGC0L7Qu9Cx0YbQsA0KICoNCiAqLw0KZGVmIGdldEFsaWFzRnJvbUZvcm0oZGVmIGRhdGFSb3dzLCBkZWYgY29sdW1uTmFtZSwgZGVmIGFsaWFzKSB7DQogICAgaWYgKGRhdGFSb3dzICE9IG51bGwgJiYgIWRhdGFSb3dzLmlzRW1wdHkoKSkgew0KICAgICAgICBkZWYgYWxpYXNSb3cgPSBnZXREYXRhUm93KGRhdGFSb3dzLCBhbGlhcykNCiAgICAgICAgcmV0dXJuIGdldExvbmcoYWxpYXNSb3cuZ2V0Q2VsbChjb2x1bW5OYW1lKS52YWx1ZSkNCiAgICB9DQogICAgcmV0dXJuIDANCn0NCg0KLy8g0J/QvtC70YPRh9C40YLRjCDQv9Cw0YDQsNC80LXRgtGA0Ysg0L/QvtC00YDQsNC30LTQtdC70LXQvdC40Y8gKNC40Lcg0YHQv9GA0LDQstC+0YfQvdC40LrQsCAzMykNCmRlZiBnZXREZXBhcnRtZW50UGFyYW0oKSB7DQogICAgaWYgKGRlcGFydG1lbnRQYXJhbSA9PSBudWxsKSB7DQogICAgICAgIGRlZiBkZXBhcnRtZW50SWQgPSBkZWNsYXJhdGlvbkRhdGEuZGVwYXJ0bWVudElkDQogICAgICAgIGRlZiBkZXBhcnRtZW50UGFyYW1MaXN0ID0gZ2V0UHJvdmlkZXIoMzMpLmdldFJlY29yZHMoZ2V0RW5kRGF0ZSgpIC0gMSwgbnVsbCwgIkRFUEFSVE1FTlRfSUQgPSAkZGVwYXJ0bWVudElkIiwgbnVsbCkNCiAgICAgICAgaWYgKGRlcGFydG1lbnRQYXJhbUxpc3QgPT0gbnVsbCB8fCBkZXBhcnRtZW50UGFyYW1MaXN0LnNpemUoKSA9PSAwIHx8IGRlcGFydG1lbnRQYXJhbUxpc3QuZ2V0KDApID09IG51bGwpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oItCe0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4INC90LDRgdGC0YDQvtC10Log0L7QsdC+0YHQvtCx0LvQtdC90L3QvtCz0L4g0L/QvtC00YDQsNC30LTQtdC70LXQvdC40Y8uINCd0LDRgdGC0YDQvtC50LrQuCDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRjyDQt9Cw0L/QvtC70L3QtdC90Ysg0L3QtSDQv9C+0LvQvdC+0YHRgtGM0Y4iKQ0KICAgICAgICB9DQogICAgICAgIGRlcGFydG1lbnRQYXJhbSA9IGRlcGFydG1lbnRQYXJhbUxpc3Q/LmdldCgwKQ0KICAgIH0NCiAgICByZXR1cm4gZGVwYXJ0bWVudFBhcmFtDQp9DQoNCi8vINCf0L7Qu9GD0YfQuNGC0Ywg0L/QsNGA0LDQvNC10YLRgNGLINC/0L7QtNGA0LDQt9C00LXQu9C10L3QuNGPICjQuNC3INGB0L/RgNCw0LLQvtGH0L3QuNC60LAgMzMwKQ0KZGVmIGdldERlcGFydG1lbnRQYXJhbVRhYmxlKGRlZiBkZXBhcnRtZW50UGFyYW1JZCkgew0KICAgIGlmIChkZXBhcnRtZW50UGFyYW1UYWJsZSA9PSBudWxsKSB7DQogICAgICAgIGRlZiBmaWx0ZXIgPSAiTElOSyA9ICRkZXBhcnRtZW50UGFyYW1JZCBhbmQgS1BQID0nJHtkZWNsYXJhdGlvbkRhdGEua3BwfSciDQogICAgICAgIGRlZiBkZXBhcnRtZW50UGFyYW1UYWJsZUxpc3QgPSBnZXRQcm92aWRlcigzMzApLmdldFJlY29yZHMoZ2V0RW5kRGF0ZSgpIC0gMSwgbnVsbCwgZmlsdGVyLCBudWxsKQ0KICAgICAgICBpZiAoZGVwYXJ0bWVudFBhcmFtVGFibGVMaXN0ID09IG51bGwgfHwgZGVwYXJ0bWVudFBhcmFtVGFibGVMaXN0LnNpemUoKSA9PSAwIHx8IGRlcGFydG1lbnRQYXJhbVRhYmxlTGlzdC5nZXQoMCkgPT0gbnVsbCkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbigi0J7RiNC40LHQutCwINC/0YDQuCDQv9C+0LvRg9GH0LXQvdC40Lgg0L3QsNGB0YLRgNC+0LXQuiDQvtCx0L7RgdC+0LHQu9C10L3QvdC+0LPQviDQv9C+0LTRgNCw0LfQtNC10LvQtdC90LjRjy4g0J3QsNGB0YLRgNC+0LnQutC4INC/0L7QtNGA0LDQt9C00LXQu9C10L3QuNGPINC30LDQv9C+0LvQvdC10L3RiyDQvdC1INC/0L7Qu9C90L7RgdGC0YzRjiIpDQogICAgICAgIH0NCiAgICAgICAgZGVwYXJ0bWVudFBhcmFtVGFibGUgPSBkZXBhcnRtZW50UGFyYW1UYWJsZUxpc3QuZ2V0KDApDQogICAgfQ0KICAgIHJldHVybiBkZXBhcnRtZW50UGFyYW1UYWJsZQ0KfQ0KDQovLyDQl9Cw0LPRgNGD0LfQutCwINCy0YHQtdGFINC30LDQv9C40YHQtdC5INGB0L/RgNCw0LLQvtGH0L3QuNC60L7QsiDQsiDQutC10YguDQpkZWYgZmlsbFJlY29yZHNNYXAoZGVmIHJlZkJvb2tJZHMpIHsNCiAgICByZWZCb29rSWRzLmVhY2ggeyByZWZCb29rSWQgLT4NCiAgICAgICAgZGVmIHByb3ZpZGVyID0gcmVmQm9va0ZhY3RvcnkuZ2V0RGF0YVByb3ZpZGVyKHJlZkJvb2tJZCkNCiAgICAgICAgZGVmIHJlY29yZHMgPSBwcm92aWRlci5nZXRSZWNvcmRzKGdldEVuZERhdGUoKSwgbnVsbCwgbnVsbCwgbnVsbCkNCiAgICAgICAgaWYgKHJlY29yZHMpIHsNCiAgICAgICAgICAgIHJlY29yZHMuZWFjaCB7IHJlY29yZCAtPg0KICAgICAgICAgICAgICAgIGRlZiByZWNvcmRJZCA9IHJlY29yZC5nZXQoUmVmQm9vay5SRUNPUkRfSURfQUxJQVMpLm51bWJlclZhbHVlDQogICAgICAgICAgICAgICAgZGVmIGtleSA9IGdldFJlZkJvb2tDYWNoZUtleShyZWZCb29rSWQsIHJlY29yZElkKQ0KICAgICAgICAgICAgICAgIGlmICghcmVmQm9va0NhY2hlLmNvbnRhaW5zS2V5KGtleSkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVmQm9va0NhY2hlLnB1dChrZXksIHJlZkJvb2tTZXJ2aWNlLmdldFJlY29yZERhdGEocmVmQm9va0lkLCByZWNvcmRJZCkpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpkZWYgZ2VuZXJhdGVYbWxGaWxlSWQoU3RyaW5nIHRheE9yZ2FuQ29kZVByb20sIFN0cmluZyB0YXhPcmdhbkNvZGUpIHsNCiAgICBkZWYgZGVwYXJ0bWVudFBhcmFtID0gZ2V0RGVwYXJ0bWVudFBhcmFtKCkNCiAgICBpZiAoZGVwYXJ0bWVudFBhcmFtKSB7DQogICAgICAgIGRlZiBkYXRlID0gQ2FsZW5kYXIuZ2V0SW5zdGFuY2UoKS5nZXRUaW1lKCk/LmZvcm1hdCgieXl5eU1NZGQiKQ0KICAgICAgICBkZWYgZmlsZUlkID0gVGF4VHlwZS5JTkNPTUUuZGVjbGFyYXRpb25QcmVmaXggKyAnXycgKw0KICAgICAgICAgICAgICAgIHRheE9yZ2FuQ29kZVByb20gKyAnXycgKw0KICAgICAgICAgICAgICAgIHRheE9yZ2FuQ29kZSArICdfJyArDQogICAgICAgICAgICAgICAgZGVwYXJ0bWVudFBhcmFtLklOTj8udmFsdWUgKw0KICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uRGF0YS5rcHAgKyAiXyIgKw0KICAgICAgICAgICAgICAgIGRhdGUgKyAiXyIgKw0KICAgICAgICAgICAgICAgIFVVSUQucmFuZG9tVVVJRCgpLnRvU3RyaW5nKCkudG9VcHBlckNhc2UoKQ0KICAgICAgICByZXR1cm4gZmlsZUlkDQogICAgfQ0KICAgIHJldHVybiBudWxsDQp9'

        addLongText(template_id, longString, 'CREATE_SCRIPT')
        logger.info("К версии макета добавлен скрипт")
    }

} catch (Exception ex) {
    logger.error("Error: ${ex.getLocalizedMessage()}. Все изменения откатаны")
}

def void addTypeTemplate(DeclarationType type, DeclarationTemplate template, boolean createType, boolean createTemplate) {
    def type_id = type.id ?: ""
    def type_name = type.name ?: ""
    def type_tax_type = type.taxType.code ?: ""
    def type_is_ifrs = type.isIfrs ? 1 : 0
    def type_ifrs_name = type.ifrsName ?: ""

    def template_id = template.id ?: ""
    def template_name = template.name ?: ""
    def template_version = template.version.format("dd.MM.yy")

    String declarationTypeSql = "INSERT INTO DECLARATION_TYPE (ID, NAME, TAX_TYPE, STATUS, IS_IFRS, IFRS_NAME) VALUES " +
            "('$type_id', '$type_name', '$type_tax_type', '0', '$type_is_ifrs', '$type_ifrs_name')"
    if (createType) {
        namedParameterJdbcTemplate.update(declarationTypeSql, [:])
        logger.info("Создан тип декларации с id = $type_id без версии макета")
    }

    String templateSql = "INSERT INTO DECLARATION_TEMPLATE (ID, DECLARATION_TYPE_ID, NAME, VERSION, STATUS) VALUES " +
            "($template_id, '$type_id', '$template_name', TO_DATE('$template_version', 'DD.MM.RR'), '1')"
    if (createTemplate) {
        namedParameterJdbcTemplate.update(templateSql, [:])
        logger.info("Создан макет декларации с id = $template_id для типа декларации с id = $type_id, но без xsd, jrxml и скрипта")
    }
}

def void addLongText(def template_id, String longString, String alias) {
    final int MAX_LENGTH = 2000
    namedParameterJdbcTemplate.update("UPDATE DECLARATION_TEMPLATE SET $alias = null where id = $template_id", [:])
    int start = 0
    longString = new String(longString.decodeBase64(), "UTF-8")
    while (start < longString.length()) {
        int end = (start + MAX_LENGTH) < longString.length() ? (start + MAX_LENGTH) : longString.length()
        String text = longString.substring(start, end)
        namedParameterJdbcTemplate.update('UPDATE DECLARATION_TEMPLATE SET ' + alias + ' = ' + alias + ' || :text where id = ' +template_id, ['text' : text])
        start += MAX_LENGTH
    }
}