/**
 Поправляет порядок графов в рну-101 и в рну-102.
 
 # Инструкция:
 Вставить текст данного скрипта на странице, соответствующей ссылке с окончанием:
 .../gwtapp/#!scriptExecution
 Нажать "Выполнить".
 */

try {
	def sql
	String longString

	// рну-101
	sql = "UPDATE form_column SET ORD = 1 WHERE alias = 'rowNumber' AND form_template_id = 818"
	namedParameterJdbcTemplate.update(sql, [:])

	sql = "UPDATE form_column SET ORD = 2 WHERE alias = 'fix' AND form_template_id = 818"
	namedParameterJdbcTemplate.update(sql, [:])
	
	sql = "UPDATE form_column SET name = 'Сумма доначисления дохода до рыночного уровня (руб.)' WHERE alias = 'sum3' AND form_template_id = 818"
	namedParameterJdbcTemplate.update(sql, [:])
	logger.info("Порядок столбцов рну-101 обновлен")
	
	// обновление шапки
	longString = 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxyb3dzPg0KICAgIDxyb3cgYWxpYXM9IiI+DQogICAgICAgIDxjZWxsIGFsaWFzPSJyb3dOdW1iZXIiIGNvbFNwYW49IjIiIHJvd1NwYW49IjIiIHZhbHVlPSLihJYg0L/QvyIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iZml4IiBjb2xTcGFuPSIxIiByb3dTcGFuPSIyIiB2YWx1ZT0iIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJuYW1lIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIyIiB2YWx1ZT0i0J3QsNC40LzQtdC90L7QstCw0L3QuNC1INCS0LfQsNC40LzQvtC30LDQstC40YHQuNC80L7Qs9C+INC70LjRhtCwICjRgNC10LfQuNC00LXQvdGC0LAg0L7RhNGE0YjQvtGA0L3QvtC5INC30L7QvdGLKSIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iaWtzciIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMiIgdmFsdWU9ItCY0LTQtdC90YLQuNGE0LjQutCw0YbQuNC+0L3QvdGL0Lkg0L3QvtC80LXRgCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iY291bnRyeU5hbWUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjIiIHZhbHVlPSLQodGC0YDQsNC90LAg0YDQtdCz0LjRgdGC0YDQsNGG0LjQuCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0idHJhbnNEb25lRGF0ZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMiIgdmFsdWU9ItCU0LDRgtCwINGB0L7QstC10YDRiNC10L3QuNGPINC+0L/QtdGA0LDRhtC40LgiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9ImNvdXJzZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMiIgdmFsdWU9ItCa0YPRgNGBINCy0LDQu9GO0YLRiyDQkdCw0L3QutCwINCg0L7RgdGB0LjQuCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iaW5jb21lQ29kZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMiIgdmFsdWU9ItCa0L7QtCDQutC70LDRgdGB0LjRhNC40LrQsNGG0LjQuCDQtNC+0YXQvtC00LAiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InJlYXNvbk51bWJlciIgY29sU3Bhbj0iMiIgcm93U3Bhbj0iMSIgdmFsdWU9ItCe0YHQvdC+0LLQsNC90LjQtSDQtNC70Y8g0YHQvtCy0LXRgNGI0LXQvdC40Y8g0L7Qv9C10YDQsNGG0LjQuCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0icmVhc29uRGF0ZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCe0YHQvdC+0LLQsNC90LjQtSDQtNC70Y8g0YHQvtCy0LXRgNGI0LXQvdC40Y8g0L7Qv9C10YDQsNGG0LjQuCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iY291bnQiIGNvbFNwYW49IjEiIHJvd1NwYW49IjIiIHZhbHVlPSLQmtC+0LvQuNGH0LXRgdGC0LLQviDRg9GB0LvRg9CzL9GA0LDQsdC+0YIgKNC10LQuL9GI0YIuKSIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iZGVhbFByaWNlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIyIiB2YWx1ZT0i0KbQtdC90LAg0LfQsCDQvtC60LDQt9Cw0L3QvdGL0LUg0YPRgdC70YPQs9C4INGB0L7Qs9C70LDRgdC90L4g0YPRgdC70L7QstC40Y/QvCDQtNC+0LPQvtCy0L7RgNCwIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJ0YXhQcmljZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMiIgdmFsdWU9ItCm0LXQvdCwLCDQv9GA0LjQt9C90LDQstCw0LXQvNCw0Y8g0YDRi9C90L7Rh9C90L7QuSDQtNC70Y8g0YbQtdC70LXQuSDQvdCw0LvQvtCz0L7QvtCx0LvQvtC20LXQvdC40Y8iLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InN1bTEiIGNvbFNwYW49IjEiIHJvd1NwYW49IjIiIHZhbHVlPSLQodGD0LzQvNCwINGE0LDQutGC0LjRh9C10YHQutC4INC90LDRh9C40YHQu9C10L3QvdC+0LPQviDQtNC+0YXQvtC00LAgKNGA0YPQsS4pIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJpbmNvbWVSYXRlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIyIiB2YWx1ZT0i0JrQvtGN0YTRhNC40YbQuNC10L3RgiDQutC+0YDRgNC10LrRgtC40YDQvtCy0LrQuCDQtNC+0YXQvtC00L7QsiIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0ic3VtMiIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMiIgdmFsdWU9ItCh0YPQvNC80LAg0LTQvtGF0L7QtNCwLCDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidCw0Y8g0YDRi9C90L7Rh9C90L7QvNGDINGD0YDQvtCy0L3RjiAo0YDRg9CxLikiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InN1bTMiIGNvbFNwYW49IjEiIHJvd1NwYW49IjIiIHZhbHVlPSLQodGD0LzQvNCwINC00L7QvdCw0YfQuNGB0LvQtdC90LjRjyDQtNC+0YXQvtC00LAg0LTQviDRgNGL0L3QvtGH0L3QvtCz0L4g0YPRgNC+0LLQvdGPICjRgNGD0LEuKSIvPg0KICAgIDwvcm93Pg0KICAgIDxyb3cgYWxpYXM9IiI+DQogICAgICAgIDxjZWxsIGFsaWFzPSJyb3dOdW1iZXIiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSLihJYg0L/QvyIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iZml4IiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i4oSWINC/0L8iLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9Im5hbWUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSLQndCw0LjQvNC10L3QvtCy0LDQvdC40LUg0JLQt9Cw0LjQvNC+0LfQsNCy0LjRgdC40LzQvtCz0L4g0LvQuNGG0LAgKNGA0LXQt9C40LTQtdC90YLQsCDQvtGE0YTRiNC+0YDQvdC+0Lkg0LfQvtC90YspIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJpa3NyIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0JjQtNC10L3RgtC40YTQuNC60LDRhtC40L7QvdC90YvQuSDQvdC+0LzQtdGAIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJjb3VudHJ5TmFtZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCh0YLRgNCw0L3QsCDRgNC10LPQuNGB0YLRgNCw0YbQuNC4Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJ0cmFuc0RvbmVEYXRlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0JTQsNGC0LAg0YHQvtCy0LXRgNGI0LXQvdC40Y8g0L7Qv9C10YDQsNGG0LjQuCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iY291cnNlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0JrRg9GA0YEg0LLQsNC70Y7RgtGLINCR0LDQvdC60LAg0KDQvtGB0YHQuNC4Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJpbmNvbWVDb2RlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0JrQvtC0INC60LvQsNGB0YHQuNGE0LjQutCw0YbQuNC4INC00L7RhdC+0LTQsCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0icmVhc29uTnVtYmVyIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0J3QvtC80LXRgCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0icmVhc29uRGF0ZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCU0LDRgtCwIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJjb3VudCIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCa0L7Qu9C40YfQtdGB0YLQstC+INGD0YHQu9GD0LMv0YDQsNCx0L7RgiAo0LXQtC4v0YjRgi4pIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJkZWFsUHJpY2UiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSLQptC10L3QsCDQt9CwINC+0LrQsNC30LDQvdC90YvQtSDRg9GB0LvRg9Cz0Lgg0YHQvtCz0LvQsNGB0L3QviDRg9GB0LvQvtCy0LjRj9C8INC00L7Qs9C+0LLQvtGA0LAiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InRheFByaWNlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0KbQtdC90LAsINC/0YDQuNC30L3QsNCy0LDQtdC80LDRjyDRgNGL0L3QvtGH0L3QvtC5INC00LvRjyDRhtC10LvQtdC5INC90LDQu9C+0LPQvtC+0LHQu9C+0LbQtdC90LjRjyIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0ic3VtMSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCh0YPQvNC80LAg0YTQsNC60YLQuNGH0LXRgdC60Lgg0L3QsNGH0LjRgdC70LXQvdC90L7Qs9C+INC00L7RhdC+0LTQsCAo0YDRg9CxLikiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9ImluY29tZVJhdGUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSLQmtC+0Y3RhNGE0LjRhtC40LXQvdGCINC60L7RgNGA0LXQutGC0LjRgNC+0LLQutC4INC00L7RhdC+0LTQvtCyIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJzdW0yIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0KHRg9C80LzQsCDQtNC+0YXQvtC00LAsINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LDRjyDRgNGL0L3QvtGH0L3QvtC80YMg0YPRgNC+0LLQvdGOICjRgNGD0LEuKSIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0ic3VtMyIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCh0YPQvNC80LAg0LTQvtC90LDRh9C40YHQu9C10L3QuNGPINC00L7RhdC+0LTQsCDQtNC+INGA0YvQvdC+0YfQvdC+0LPQviDRg9GA0L7QstC90Y8gKNGA0YPQsS4pIi8+DQogICAgPC9yb3c+DQogICAgPHJvdyBhbGlhcz0iIj4NCiAgICAgICAgPGNlbGwgYWxpYXM9InJvd051bWJlciIgY29sU3Bhbj0iMiIgcm93U3Bhbj0iMSIgdmFsdWU9IjEiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9ImZpeCIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IiIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0ibmFtZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjIiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9Imlrc3IiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSIzIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJjb3VudHJ5TmFtZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjQiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InRyYW5zRG9uZURhdGUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSI1Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJjb3Vyc2UiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSI2Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJpbmNvbWVDb2RlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0iNyIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0icmVhc29uTnVtYmVyIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0iOCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0icmVhc29uRGF0ZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjkiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9ImNvdW50IiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0iMTAiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9ImRlYWxQcmljZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjExIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJ0YXhQcmljZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjEyIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJzdW0xIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0iMTMiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9ImluY29tZVJhdGUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSIxNCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0ic3VtMiIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjE1Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJzdW0zIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0iMTYiLz4NCiAgICA8L3Jvdz4NCjwvcm93cz4='
	addLongText(818, longString, 'DATA_HEADERS')
	logger.info("Заголовок рну-101 обновлен")

	// рну-102
	sql = "UPDATE form_column SET ORD = 1 WHERE alias = 'rowNumber' AND form_template_id = 820"
	namedParameterJdbcTemplate.update(sql, [:])
	
	sql = "UPDATE form_column SET ORD = 2 WHERE alias = 'fix' AND form_template_id = 820"
	namedParameterJdbcTemplate.update(sql, [:])
	logger.info("Порядок столбцов рну-102 обновлен")
	
	// обновление шапки
	longString = 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxyb3dzPg0KICAgIDxyb3cgYWxpYXM9IiI+DQogICAgICAgIDxjZWxsIGFsaWFzPSJyb3dOdW1iZXIiIGNvbFNwYW49IjIiIHJvd1NwYW49IjIiIHZhbHVlPSLihJYg0L/QvyIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iZml4IiBjb2xTcGFuPSIxIiByb3dTcGFuPSIyIiB2YWx1ZT0iIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJuYW1lIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIyIiB2YWx1ZT0i0J3QsNC40LzQtdC90L7QstCw0L3QuNC1INCS0LfQsNC40LzQvtC30LDQstC40YHQuNC80L7Qs9C+INC70LjRhtCwICjRgNC10LfQuNC00LXQvdGC0LAg0L7RhNGE0YjQvtGA0L3QvtC5INC30L7QvdGLKSIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iaWtzciIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMiIgdmFsdWU9ItCY0LTQtdC90YLQuNGE0LjQutCw0YbQuNC+0L3QvdGL0Lkg0L3QvtC80LXRgCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iY291bnRyeU5hbWUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjIiIHZhbHVlPSLQodGC0YDQsNC90LAg0YDQtdCz0LjRgdGC0YDQsNGG0LjQuCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0idHJhbnNEb25lRGF0ZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMiIgdmFsdWU9ItCU0LDRgtCwINGB0L7QstC10YDRiNC10L3QuNGPINC+0L/QtdGA0LDRhtC40LgiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9ImNvdXJzZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMiIgdmFsdWU9ItCa0YPRgNGBINCy0LDQu9GO0YLRiyDQkdCw0L3QutCwINCg0L7RgdGB0LjQuCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0ib3V0Y29tZUNvZGUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjIiIHZhbHVlPSLQmtC+0LQg0LrQu9Cw0YHRgdC40YTQuNC60LDRhtC40Lgg0YDQsNGB0YXQvtC00LAiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InJlYXNvbk51bWJlciIgY29sU3Bhbj0iMiIgcm93U3Bhbj0iMSIgdmFsdWU9ItCe0YHQvdC+0LLQsNC90LjQtSDQtNC70Y8g0YHQvtCy0LXRgNGI0LXQvdC40Y8g0L7Qv9C10YDQsNGG0LjQuCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0icmVhc29uRGF0ZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCe0YHQvdC+0LLQsNC90LjQtSDQtNC70Y8g0YHQvtCy0LXRgNGI0LXQvdC40Y8g0L7Qv9C10YDQsNGG0LjQuCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iY291bnQiIGNvbFNwYW49IjEiIHJvd1NwYW49IjIiIHZhbHVlPSLQmtC+0LvQuNGH0LXRgdGC0LLQviDRg9GB0LvRg9CzL9GA0LDQsdC+0YIgKNC10LQuL9GI0YIuKSIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iZGVhbFByaWNlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIyIiB2YWx1ZT0i0KbQtdC90LAg0LfQsCDQvtC60LDQt9Cw0L3QvdGL0LUg0YPRgdC70YPQs9C4INGB0L7Qs9C70LDRgdC90L4g0YPRgdC70L7QstC40Y/QvCDQtNC+0LPQvtCy0L7RgNCwIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJ0YXhQcmljZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMiIgdmFsdWU9ItCm0LXQvdCwLCDQv9GA0LjQt9C90LDQstCw0LXQvNCw0Y8g0YDRi9C90L7Rh9C90L7QuSDQtNC70Y8g0YbQtdC70LXQuSDQvdCw0LvQvtCz0L7QvtCx0LvQvtC20LXQvdC40Y8iLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InN1bTEiIGNvbFNwYW49IjEiIHJvd1NwYW49IjIiIHZhbHVlPSLQodGD0LzQvNCwINGE0LDQutGC0LjRh9C10YHQutC4INC90LDRh9C40YHQu9C10L3QvdC+0LPQviDRgNCw0YHRhdC+0LTQsCAo0YDRg9CxLikiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9Im91dGNvbWVSYXRlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIyIiB2YWx1ZT0i0JrQvtGN0YTRhNC40YbQuNC10L3RgiDQutC+0YDRgNC10LrRgtC40YDQvtCy0LrQuCDRgNCw0YHRhdC+0LTQvtCyIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJzdW0yIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIyIiB2YWx1ZT0i0KHRg9C80LzQsCDRgNCw0YHRhdC+0LTQsCwg0YHQvtC+0YLQstC10YLRgdGC0LLRg9GO0YnQsNGPINGA0YvQvdC+0YfQvdC+0LzRgyDRg9GA0L7QstC90Y4gKNGA0YPQsS4pIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJzdW0zIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIyIiB2YWx1ZT0i0KHRg9C80LzQsCDQtNC+0L3QsNGH0LjRgdC70LXQvdC40Y8g0YDQsNGB0YXQvtC00LAg0LTQviDRgNGL0L3QvtGH0L3QvtCz0L4g0YPRgNC+0LLQvdGPICjRgNGD0LEuKSIvPg0KICAgIDwvcm93Pg0KICAgIDxyb3cgYWxpYXM9IiI+DQogICAgICAgIDxjZWxsIGFsaWFzPSJyb3dOdW1iZXIiIGNvbFNwYW49IjIiIHJvd1NwYW49IjEiIHZhbHVlPSLihJYg0L/QvyIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iZml4IiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i4oSWINC/0L8iLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9Im5hbWUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSLQndCw0LjQvNC10L3QvtCy0LDQvdC40LUg0JLQt9Cw0LjQvNC+0LfQsNCy0LjRgdC40LzQvtCz0L4g0LvQuNGG0LAgKNGA0LXQt9C40LTQtdC90YLQsCDQvtGE0YTRiNC+0YDQvdC+0Lkg0LfQvtC90YspIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJpa3NyIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0JjQtNC10L3RgtC40YTQuNC60LDRhtC40L7QvdC90YvQuSDQvdC+0LzQtdGAIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJjb3VudHJ5TmFtZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCh0YLRgNCw0L3QsCDRgNC10LPQuNGB0YLRgNCw0YbQuNC4Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJ0cmFuc0RvbmVEYXRlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0JTQsNGC0LAg0YHQvtCy0LXRgNGI0LXQvdC40Y8g0L7Qv9C10YDQsNGG0LjQuCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0iY291cnNlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0JrRg9GA0YEg0LLQsNC70Y7RgtGLINCR0LDQvdC60LAg0KDQvtGB0YHQuNC4Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJvdXRjb21lQ29kZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCa0L7QtCDQutC70LDRgdGB0LjRhNC40LrQsNGG0LjQuCDRgNCw0YHRhdC+0LTQsCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0icmVhc29uTnVtYmVyIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0J3QvtC80LXRgCIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0icmVhc29uRGF0ZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCU0LDRgtCwIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJjb3VudCIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCa0L7Qu9C40YfQtdGB0YLQstC+INGD0YHQu9GD0LMv0YDQsNCx0L7RgiAo0LXQtC4v0YjRgi4pIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJkZWFsUHJpY2UiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSLQptC10L3QsCDQt9CwINC+0LrQsNC30LDQvdC90YvQtSDRg9GB0LvRg9Cz0Lgg0YHQvtCz0LvQsNGB0L3QviDRg9GB0LvQvtCy0LjRj9C8INC00L7Qs9C+0LLQvtGA0LAiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InRheFByaWNlIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0i0KbQtdC90LAsINC/0YDQuNC30L3QsNCy0LDQtdC80LDRjyDRgNGL0L3QvtGH0L3QvtC5INC00LvRjyDRhtC10LvQtdC5INC90LDQu9C+0LPQvtC+0LHQu9C+0LbQtdC90LjRjyIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0ic3VtMSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9ItCh0YPQvNC80LAg0YTQsNC60YLQuNGH0LXRgdC60Lgg0L3QsNGH0LjRgdC70LXQvdC90L7Qs9C+INGA0LDRgdGF0L7QtNCwICjRgNGD0LEuKSIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0ib3V0Y29tZVJhdGUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSLQmtC+0Y3RhNGE0LjRhtC40LXQvdGCINC60L7RgNGA0LXQutGC0LjRgNC+0LLQutC4INGA0LDRgdGF0L7QtNC+0LIiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InN1bTIiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSLQodGD0LzQvNCwINGA0LDRgdGF0L7QtNCwLCDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidCw0Y8g0YDRi9C90L7Rh9C90L7QvNGDINGD0YDQvtCy0L3RjiAo0YDRg9CxLikiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InN1bTMiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSLQodGD0LzQvNCwINC00L7QvdCw0YfQuNGB0LvQtdC90LjRjyDRgNCw0YHRhdC+0LTQsCDQtNC+INGA0YvQvdC+0YfQvdC+0LPQviDRg9GA0L7QstC90Y8gKNGA0YPQsS4pIi8+DQogICAgPC9yb3c+DQogICAgPHJvdyBhbGlhcz0iIj4NCiAgICAgICAgPGNlbGwgYWxpYXM9InJvd051bWJlciIgY29sU3Bhbj0iMiIgcm93U3Bhbj0iMSIgdmFsdWU9IjEiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9ImZpeCIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IiIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0ibmFtZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjIiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9Imlrc3IiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSIzIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJjb3VudHJ5TmFtZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjQiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InRyYW5zRG9uZURhdGUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSI1Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJjb3Vyc2UiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSI2Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJvdXRjb21lQ29kZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjciLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InJlYXNvbk51bWJlciIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjgiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InJlYXNvbkRhdGUiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSI5Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJjb3VudCIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjEwIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJkZWFsUHJpY2UiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSIxMSIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0idGF4UHJpY2UiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSIxMiIvPg0KICAgICAgICA8Y2VsbCBhbGlhcz0ic3VtMSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjEzIi8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJvdXRjb21lUmF0ZSIgY29sU3Bhbj0iMSIgcm93U3Bhbj0iMSIgdmFsdWU9IjE0Ii8+DQogICAgICAgIDxjZWxsIGFsaWFzPSJzdW0yIiBjb2xTcGFuPSIxIiByb3dTcGFuPSIxIiB2YWx1ZT0iMTUiLz4NCiAgICAgICAgPGNlbGwgYWxpYXM9InN1bTMiIGNvbFNwYW49IjEiIHJvd1NwYW49IjEiIHZhbHVlPSIxNiIvPg0KICAgIDwvcm93Pg0KPC9yb3dzPg=='
	addLongText(820, longString, 'DATA_HEADERS')
	logger.info("Заголовок рну-102 обновлен")
} catch (Exception ex) {
    logger.error("Error: ${ex.getLocalizedMessage()}. Все изменения откатаны")
}

def void addLongText (def form_template_id, String longString, String alias) {
    final int MAX_LENGTH = 2000
    namedParameterJdbcTemplate.update("UPDATE FORM_TEMPLATE SET $alias = null where id = $form_template_id", [:])
    int start = 0
    longString = new String(longString.decodeBase64(), "UTF-8")
    while (start < longString.length()) {
        int end = (start + MAX_LENGTH) < longString.length() ? (start + MAX_LENGTH) : longString.length()
        String text = longString.substring(start, end)
       namedParameterJdbcTemplate.update('UPDATE FORM_TEMPLATE SET ' + alias + ' = ' + alias + ' || :text where id = ' +form_template_id, ['text' : text])
        start += MAX_LENGTH
    }
}