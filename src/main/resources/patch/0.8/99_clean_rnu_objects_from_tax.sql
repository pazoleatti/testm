--http://jira.aplana.com/browse/SBRFACCTAX-12385: Очистить БД прома УН от ошибочно существующих объектов TAX_RNU
set serveroutput on size 30000;
begin
	dbms_output.put_line('script''s runner: '||user);	
end;
/

DROP FUNCTION APL_INSERT_RNU;
DROP FUNCTION APL_INSERTRNUVERSION;
DROP FUNCTION APL_INS_MODULEURL;
DROP FUNCTION APL_ISLOCKEDFORUSER;
DROP FUNCTION APL_LOADRPTINBD;
DROP FUNCTION APL_LOCKRNU;
DROP FUNCTION APL_RNU_CHECK_FOR_IN_RUPT_PER;
DROP FUNCTION APL_SAVEREPORTTASK;
DROP FUNCTION APL_SETMODULEDATASOURCES;
DROP FUNCTION APL_UNLOCKRNU;
DROP FUNCTION APL_UPD_MODULEURL;
DROP FUNCTION FN_GET_CLIENT_TYPE;
DROP FUNCTION GET_PREVIOUS_WORK_DAY;
DROP FUNCTION APL_FN_GET_LASTRNUFILE;
DROP PACKAGE BODY SEARCH_DOUBLESRNU23;
DROP PACKAGE SEARCH_DOUBLESRNU23;
DROP PROCEDURE APL_APPEND_NOTE;
DROP PROCEDURE APL_CLONE_RNU;
DROP PROCEDURE APL_CLOSE_RNU;
DROP PROCEDURE APL_DEL_RNU;
DROP PROCEDURE APL_REMOVEDECISION;
DROP PROCEDURE APL_RESETRNUTRANSMIT;
DROP PROCEDURE APL_SAVEDECISION;
DROP PROCEDURE APL_SAVEMODULEURL;
DROP PROCEDURE APL_UPDATECONTRACTSCOUNT;
DROP PROCEDURE APL_UPDATECOUNTFIELDSBYTASKID;
DROP PROCEDURE APL_UPDATEDEADTASKSSTATUS;
DROP PROCEDURE APL_UPDATEEDITDATABYIDRNU;
DROP PROCEDURE APL_UPDATELASTROWNUM;
DROP PROCEDURE APL_UPDATENEWRNUIDIN;
DROP PROCEDURE APL_UPDATEOPENRNU;
DROP PROCEDURE APL_UPDATERNUSTATE;
DROP PROCEDURE APL_UPDATERNUVERSION;
DROP PROCEDURE APL_UPDATETASKSTATUS;
DROP PROCEDURE APL_UPD_MAKEALLRNUUNAVAIL;
DROP PROCEDURE APL_UPDTASKFILEIDBYTASKTESID;
DROP PROCEDURE NSI_ADDRESSTYPE_IASK;
DROP PROCEDURE NSI_BUISSNESS_ENTITY;
DROP PROCEDURE NSI_CATJUR_IASK;
DROP PROCEDURE NSI_CLIADDDATAVALUES_IASK;
DROP PROCEDURE NSI_CLIENTADDDATATYPES_IASK;
DROP PROCEDURE NSI_CLIENT_CATEGORY;
DROP PROCEDURE NSI_CLIENT_TYPE;
DROP PROCEDURE NSI_CONTRACTOR_TYPE;
DROP PROCEDURE NSI_COUNTRYLIST_IASK;
DROP PROCEDURE NSI_DEPARTMENTS_IASK;
DROP PROCEDURE NSI_GUAR_SUBTYPE;
DROP PROCEDURE NSI_GUAR_TYPE;
DROP PROCEDURE NSI_GUAR_TYPE_CATJUR;
DROP PROCEDURE NSI_HOLIDAY_IASK;
DROP PROCEDURE NSI_MONEYTYPES_IASK;
DROP PROCEDURE NSI_OBSPTYPE;
DROP PROCEDURE NSI_OFFSHORELIST_IASK;
DROP PROCEDURE NSI_ORGAN_IASK;
DROP PROCEDURE NSI_OTRASL_IASK;
DROP PROCEDURE NSI_PASSTYPES_IASK;
DROP PROCEDURE NSI_PORTYPES_IASK;
DROP PROCEDURE NSI_PROPERTYTYPES_IASK;
DROP PROCEDURE NSI_PROPTYPES_IASK;
DROP PROCEDURE NSI_REGION_IASK;
DROP PROCEDURE NSI_REGIONTYPES_IASK;
DROP PROCEDURE NSI_REGLAMLOAN_IASK;
DROP PROCEDURE NSI_RESERVERATES;
DROP PROCEDURE NSI_RISKTYPES_IASK;
DROP PROCEDURE NSI_SMSOPERATORLIST_IASK;
DROP PROCEDURE NSI_SOCTYPES_IASK;
DROP PROCEDURE NSI_SUBOTRASL_IASK;
DROP PROCEDURE NSI_TRNUCREPLAN_APLANA;
DROP PROCEDURE NSI_TRNUFILETYPE_APLANA;
DROP PROCEDURE NSI_TRNUTYPES;
DROP PROCEDURE NSI_TUSERS;
DROP SEQUENCE ADDRESS_SEQ;
DROP SEQUENCE BUISSNESS_ENTITY_SEQ;
DROP SEQUENCE CLIENT_ADD_DATA_SEQ;
DROP SEQUENCE CLIENT_ADDRESS_SEQ;
DROP SEQUENCE CLIENT_CONTACTS_SEQ;
DROP SEQUENCE CLIENT_DEPARTMENTS_SEQ;
DROP SEQUENCE CLIENT_HISTORY_EVENT_SEQ;
DROP SEQUENCE CLIENT_HISTORY_VALUE_SEQ;
DROP SEQUENCE CLIENT_JOBS_SEQ;
DROP SEQUENCE CLIENT_MANAGEMENT_SEQ;
DROP SEQUENCE CLIENT_PERSONS_SEQ;
DROP SEQUENCE CLIENTS_BLOCKED_SEQ;
DROP SEQUENCE CLIENTS_SEQ;
DROP SEQUENCE MODULEDATASOURCES_APLANA_SEQ;
DROP SEQUENCE OBSP_BLOCKED_SEQ;
DROP SEQUENCE OBSP_GUAR_RASPRED_SEQ;
DROP SEQUENCE OBSP_HISTORY_EVENT_SEQ;
DROP SEQUENCE OBSP_HISTORY_VALUE_SEQ;
DROP SEQUENCE OBSP_QUALITY_SEQ;
DROP SEQUENCE OBSP_SEQ;
DROP SEQUENCE OBSP_TERM_SEQ;
DROP SEQUENCE OBSP_VERSION_SEQ;
DROP SEQUENCE PACK_ADD_TERM_SEQ;
DROP SEQUENCE PACK_HISTORY_EVENT_SEQ;
DROP SEQUENCE PACK_HISTORY_VALUE_SEQ;
DROP SEQUENCE PACK_RESERVE_SEQ;
DROP SEQUENCE PACKS_BLOCKED_SEQ;
DROP SEQUENCE PACK_SEQ;
DROP SEQUENCE PACK_TERM_PERIOD_SEQ;
DROP SEQUENCE PACK_VERSION_CLIENT_SEQ;
DROP SEQUENCE PACK_VERSION_OBSP_SEQ;
DROP SEQUENCE PACK_VERSION_SEQ;
DROP SEQUENCE REPFORMURL_APLANA_SEQ;
DROP SEQUENCE RNU_APLANA_SEQ;
DROP SEQUENCE RNUCALCTASK_APLANA_SEQ;
DROP SEQUENCE RNUFILE_SEQ;
DROP SEQUENCE RNUVERSIONS_APLANA_SEQ;
DROP SEQUENCE RNU23DATA_APLANA_SEQ;
DROP SEQUENCE SPOD_APLANA_SEQ;
ALTER TABLE ADDRESS DROP CONSTRAINT FK_ADDRESS_ADR_TYPE;
ALTER TABLE CLIENT_ADD_DATA DROP CONSTRAINT FK_CLIENT_A_RELATIONS_CLIENTS;
ALTER TABLE CLIENT_ADDRESS DROP CONSTRAINT FK_CLI_ADR_ADR_ID;
ALTER TABLE CLIENT_ADDRESS DROP CONSTRAINT FK_CLIENT_ADR_REL_CLIENTS;
ALTER TABLE CLIENT_CONTACTS DROP CONSTRAINT FK_CLIENT_CONT_OPERATOR;
ALTER TABLE CLIENT_CONTACTS DROP CONSTRAINT FK_CLIENT_C_RELATIONS_CLIENTS;
ALTER TABLE CLIENT_DEPARTMENTS DROP CONSTRAINT FK_CLIENT_D_RELATIONS_CLIENTS;
ALTER TABLE CLIENT_HISTORY_EVENT DROP CONSTRAINT CLIENT_HISTORY_EVENT_BLOCK_FK;
ALTER TABLE CLIENT_HISTORY_VALUE DROP CONSTRAINT CLIENT_HISTORY_VALUE_EVENT_FK;
ALTER TABLE CLIENT_HISTORY_VALUE DROP CONSTRAINT CLIENT_HISTORY_VALUE_FIELD_FK;
ALTER TABLE CLIENT_JOBS DROP CONSTRAINT FK_CLIENT_JOB_REL_ADR;
ALTER TABLE CLIENT_JOBS DROP CONSTRAINT FK_CLIENT_J_RELATIONS_CLIENTS;
ALTER TABLE CLIENT_MAIN_FIZ DROP CONSTRAINT FK_CLIENT_MF_REL_PASS_TYPE;
ALTER TABLE CLIENT_MAIN_FIZ DROP CONSTRAINT FK_CLIENT_MF_REL_RISK;
ALTER TABLE CLIENT_MAIN_FIZ DROP CONSTRAINT FK_CLIENT_MF_REL_SOC_TYPE;
ALTER TABLE CLIENT_MAIN_FIZ DROP CONSTRAINT FK_CLIENT_MF_RELATIONS_CLIENTS;
ALTER TABLE CLIENT_MAIN_FIZ DROP CONSTRAINT FK_CLIENT_MF_REL_COUNTRY;
ALTER TABLE CLIENT_MAIN_FIZ DROP CONSTRAINT FK_CLIENT_MF_REL_EMIT_COUNTRY;
ALTER TABLE CLIENT_MAIN_JUR DROP CONSTRAINT FK_CLIENT_MJ_CAT_JUR;
ALTER TABLE CLIENT_MAIN_JUR DROP CONSTRAINT FK_CLIENT_MJ_SUBOTRASL;
ALTER TABLE CLIENT_MAIN_JUR DROP CONSTRAINT FK_CLIENT_MJ_RISK;
ALTER TABLE CLIENT_MAIN_JUR DROP CONSTRAINT FK_CLIENT_MJ_PROP_TYPE;
ALTER TABLE CLIENT_MAIN_JUR DROP CONSTRAINT FK_CLIENT_MJ_OTRASL;
ALTER TABLE CLIENT_MAIN_JUR DROP CONSTRAINT FK_CLIENT_MJ_PROPERTY;
ALTER TABLE CLIENT_MAIN_JUR DROP CONSTRAINT FK_CLIENT_MJ_OFFSHORE;
ALTER TABLE CLIENT_MAIN_JUR DROP CONSTRAINT FK_CLIENT_MJ_RELATIONS_CLIENTS;
ALTER TABLE CLIENT_MAIN_JUR DROP CONSTRAINT FK_CLIENT_MJ_REGION;
ALTER TABLE CLIENT_MAIN_JUR DROP CONSTRAINT FK_CLIENT_MJ_COUNTRY;
ALTER TABLE CLIENT_MANAGEMENT DROP CONSTRAINT FK_CLIENT_MANAG_PROPERTY;
ALTER TABLE CLIENT_MANAGEMENT DROP CONSTRAINT FK_CLIENT_MANAG_OTRASL;
ALTER TABLE CLIENT_MANAGEMENT DROP CONSTRAINT FK_CLIENT_MANAG_PROP;
ALTER TABLE CLIENT_MANAGEMENT DROP CONSTRAINT FK_CLIENT_MAN_REL_CLIENTS;
ALTER TABLE CLIENT_PERSONS DROP CONSTRAINT FK_CLIENT_P_RELATIONS_CLIENTS;
ALTER TABLE CLIENTS DROP CONSTRAINT FK_CLIENTS_TYPE;
ALTER TABLE CLIENTS_BLOCKED DROP CONSTRAINT FK_CLIENTS_RELATIONS_CLIENTS;
ALTER TABLE FIELD_DB DROP CONSTRAINT CLIENT_FIELD_DB_ENTITY_FK;
ALTER TABLE GUAR_SUBTYPE DROP CONSTRAINT GUAR_SUBTYPE_FK;
ALTER TABLE GUAR_TYPE_CATJUR DROP CONSTRAINT GUAR_TYPE_CATJUR_FK_GU;
ALTER TABLE GUAR_TYPE_CATJUR DROP CONSTRAINT GUAR_TYPE_CATJUR_FK_CAT;
ALTER TABLE OBSP_BLOCKED DROP CONSTRAINT FK_OBSP_BLOCKED_VER;
ALTER TABLE OBSP_GUAR_RASPRED DROP CONSTRAINT OBSP_GUAR_RASPRED_QUA_FK;
ALTER TABLE OBSP_HISTORY_EVENT DROP CONSTRAINT OBSP_HISTORY_EVENT_BLOCK_FK;
ALTER TABLE OBSP_HISTORY_VALUE DROP CONSTRAINT OBSP_HISTORY_VALUE_EVENT_FK;
ALTER TABLE OBSP_HISTORY_VALUE DROP CONSTRAINT OBSP_HISTORY_VALUE_FIELD_FK;
ALTER TABLE OBSP_QUALITY DROP CONSTRAINT FK_OBSP_QUALITY_VER;
ALTER TABLE OBSP_TERM DROP CONSTRAINT FK_OBSP_TERM_VER;
ALTER TABLE OBSP_VERSION DROP CONSTRAINT FK_OBSP_VER_OBSP;
ALTER TABLE PACK_ADD_TERM DROP CONSTRAINT FK_PACK_ADD_TERM_VER;
ALTER TABLE PACK_HISTORY_EVENT DROP CONSTRAINT PACK_HISTORY_EVENT_BLOCK_FK;
ALTER TABLE PACK_HISTORY_VALUE DROP CONSTRAINT PACK_HISTORY_VALUE_FIELD_FK;
ALTER TABLE PACK_HISTORY_VALUE DROP CONSTRAINT PACK_HISTORY_VALUE_EVENT_FK;
ALTER TABLE PACK_RESERVE DROP CONSTRAINT FK_PACK_RESERVE_VER;
ALTER TABLE PACKS_BLOCKED DROP CONSTRAINT FK_PACKS_BLOCKED_VER;
ALTER TABLE PACK_TERM DROP CONSTRAINT FK_PACK_TERM_VER;
ALTER TABLE PACK_TERM_PERIOD DROP CONSTRAINT FK_PACK_TERM_PERIOD_VER;
ALTER TABLE PACK_VERSION DROP CONSTRAINT FK_PACK_VERSION_PACK;
ALTER TABLE PACK_VERSION_CLIENT DROP CONSTRAINT FK_PACK_VERSION_CLIENT_CONTR;
ALTER TABLE PACK_VERSION_CLIENT DROP CONSTRAINT FK_PACK_VERSION_CLIENT_VER;
ALTER TABLE PACK_VERSION_OBSP DROP CONSTRAINT FK_PACK_VERSION_OBSP_VER1;
ALTER TABLE PACK_VERSION_OBSP DROP CONSTRAINT FK_PACK_VERSION_OBSP_VER;
ALTER TABLE REGION_IASK DROP CONSTRAINT REGION_IASK_FK;
ALTER TABLE SUBOTRASL_IASK DROP CONSTRAINT SUBOTRASL_IASK_FK;
ALTER TABLE TRNU_APLANA DROP CONSTRAINT TRNU_APLANA_FK_NTYPERNUID;
ALTER TABLE TRNUCALCTASK_APLANA DROP CONSTRAINT TRNUCALCTASK_AP_FK_NTYPER;
ALTER TABLE TRNUFILE DROP CONSTRAINT TRNUFILE_FK_NFILETYPE;
ALTER TABLE TRNUFILE DROP CONSTRAINT TRNUFILE_FK_NRNUID;
ALTER TABLE TRNUVERSIONS_APLANA DROP CONSTRAINT TRNUVER_APLANA_FK_RNUTYPE;
DROP TABLE ADDRESS;
DROP TABLE ADDRESSTYPE_IASK;
DROP TABLE BUISSNESS_ENTITY;
DROP TABLE CATJUR_IASK;
DROP TABLE CLIADDDATAVALUES_IASK;
DROP TABLE CLIENT_ADD_DATA;
DROP TABLE CLIENTADDDATATYPES_IASK;
DROP TABLE CLIENT_ADDRESS;
DROP TABLE CLIENT_CATEGORY;
DROP TABLE CLIENT_CONTACTS;
DROP TABLE CLIENT_DEPARTMENTS;
DROP TABLE CLIENT_HISTORY_EVENT;
DROP TABLE CLIENT_HISTORY_VALUE;
DROP TABLE CLIENT_JOBS;
DROP TABLE CLIENT_MAIN_FIZ;
DROP TABLE CLIENT_MAIN_JUR;
DROP TABLE CLIENT_MANAGEMENT;
DROP TABLE CLIENT_PERSONS;
DROP TABLE CLIENTS;
DROP TABLE CLIENTS_BLOCKED;
DROP TABLE CLIENT_TYPE;
DROP TABLE CONTRACTOR_TYPE;
DROP TABLE COUNTRYLIST_IASK;
DROP TABLE DEPARTMENTS_IASK;
DROP TABLE EVENT_MAP;
DROP TABLE FIELD_DB;
DROP TABLE GUAR_SUBTYPE;
DROP TABLE GUAR_TYPE;
DROP TABLE GUAR_TYPE_CATJUR;
DROP TABLE HOLIDAY_IASK;
DROP TABLE MONEYTYPES_IASK;
DROP TABLE OBSP;
DROP TABLE OBSP_BLOCKED;
DROP TABLE OBSP_GUAR_RASPRED;
DROP TABLE OBSP_HISTORY_EVENT;
DROP TABLE OBSP_HISTORY_VALUE;
DROP TABLE OBSP_QUALITY;
DROP TABLE OBSP_TERM;
DROP TABLE OBSPTYPE;
DROP TABLE OBSP_VERSION;
DROP TABLE OFFSHORELIST_IASK;
DROP TABLE ORGAN_IASK;
DROP TABLE OTRASL_IASK;
DROP TABLE PACK;
DROP TABLE PACK_ADD_TERM;
DROP TABLE PACK_HISTORY_EVENT;
DROP TABLE PACK_HISTORY_VALUE;
DROP TABLE PACK_RESERVE;
DROP TABLE PACKS_BLOCKED;
DROP TABLE PACK_TERM;
DROP TABLE PACK_TERM_PERIOD;
DROP TABLE PACK_VERSION;
DROP TABLE PACK_VERSION_CLIENT;
DROP TABLE PACK_VERSION_OBSP;
DROP TABLE PASSTYPES_IASK;
DROP TABLE PORTYPES_IASK;
DROP TABLE PROPERTYTYPES_IASK;
DROP TABLE PROPTYPES_IASK;
DROP TABLE REGION_IASK;
DROP TABLE REGIONTYPES_IASK;
DROP TABLE REGLAMLOAN_IASK;
DROP TABLE RESERVERATES;
DROP TABLE RISKTYPES_IASK;
DROP TABLE RNU23DATA_APLANA;
DROP TABLE SMSOPERATORLIST_IASK;
DROP TABLE SOCTYPES_IASK;
DROP TABLE SUBOTRASL_IASK;
DROP TABLE TMODULEDATASOURCES_APLANA;
DROP TABLE TREPFORMURL_APLANA;
DROP TABLE TRNUACCTRANSREL_APLANA;
DROP TABLE TRNU_APLANA;
DROP TABLE TRNUCALCTASK_APLANA;
DROP TABLE TRNUCREPLAN_APLANA;
DROP TABLE TRNUFILE;
DROP TABLE TRNUFILETYPE_APLANA;
DROP TABLE TRNUTYPES;
DROP TABLE TRNUVERSIONS_APLANA;
DROP TABLE TSESSIONDATASETTYPE_APLANA;
DROP TABLE TSESSIONS;
DROP TABLE TSPOD_APLANA;
DROP VIEW TUSERS;

EXIT;