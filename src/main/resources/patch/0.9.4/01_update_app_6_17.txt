import java.sql.Connection
import java.sql.Statement

/**
 * https://jira.aplana.com/browse/SBRFACCTAX-15408 0.9.4 ТЦО. 6.17. Сломан шаблон формы. Ошибки при проверке.
 *
 * Скрипт удаляет лишний столбец "fix" в макете формы мукс "6.17".
 */

Connection connection = null
Statement stmt = null

try {
    connection = dataSource.getConnection()
    stmt = connection.createStatement()
    String sql = "DELETE FROM form_column WHERE alias = 'fix' AND form_template_id = 811"
    stmt.executeQuery(sql)
} catch (Exception ex) {
    logger.error("Error: ${ex.getLocalizedMessage()}")
} finally {
    stmt.close()
    connection.close()
}
